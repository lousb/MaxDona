/*! For license information please see main.02c79efb.js.LICENSE.txt */
(()=>{var e={4111:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>d});n(5043),n(4050);var i=n(3040),s=n(4650),a=(n(2013),n(6785),n(7303)),o=n(8399),l=n(579),c=e([s]);function h(){return(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)("div",{className:"grid-overlay"}),(0,l.jsx)(i.A,{}),(0,l.jsx)(o.o,{children:(0,l.jsx)(s.A,{})}),(0,l.jsx)(a.A,{})]})}s=(c.then?(await c)():c)[0];const d=h;r()}catch(u){r(u)}}))},5669:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5043);const i="contactBlock_about-page-section-3__xGFLg",s="contactBlock_about-last-cta-wrap-heading__C44Kh",a="contactBlock_about-last-cta-wrap__h89YO",o="contactBlock_about-last-cta-top__hnSCV",l="contactBlock_body__ud80u",c="contactBlock_first__CwvG2";var u=n(6077),h=n(8270),d=n(579);const p=e=>{let{referencePeace:t=!1}=e;const[n,p]=(0,r.useState)(0),[f,m]=(0,r.useState)(0),[g,v]=(0,r.useState)(0),[y,b]=(0,r.useState)({vx:0,vy:0}),[w,A]=(0,r.useState)(""),[_,x]=(0,r.useState)({translateY:0,rotate:0}),E=(0,r.useRef)(null),[S,C]=(0,r.useState)(!1),[T,k]=(0,r.useState)("Click to Copy"),I=(0,r.useRef)(null);let{x:P,y:N}=(0,u.A)(".App");const[R,M]=(0,r.useState)([]),[D,j]=(0,r.useState)([R[0]]);(0,r.useEffect)((()=>{if(!S)return;b({vx:P-f,vy:N-g}),m(P),v(N)}),[P,N,S]);const L=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,r.useEffect)((()=>{if(!S)return;const e={translateY:L(1.5*y.vy,-3,3),rotate:L(1.5*y.vx,-1.5,1.5)};return x(e),I.current&&clearTimeout(I.current),I.current=setTimeout((()=>{x({translateY:0,rotate:0})}),100),()=>clearTimeout(I.current)}),[y,S]),(0,d.jsxs)("section",{className:"".concat(i," contact-block-wrap high-z-index-layer"),children:[(0,d.jsxs)("div",{className:"contact-hover-desc",ref:E,style:{position:"fixed",left:"".concat(P-14,"px"),top:"".concat(N-n/2,"px"),transform:"translateY(".concat(_.translateY,"px) rotate(").concat(_.rotate,"deg)")},children:[(0,d.jsx)("div",{className:"contact-hover-svg-wrap",children:(0,d.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"contact-hover-arrow",children:(0,d.jsx)("path",{style:{fill:"#000000"},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,d.jsx)("p",{className:"body link-desc",children:(0,d.jsx)("span",{children:T})})]}),(0,d.jsxs)("div",{className:"".concat(a),children:[(0,d.jsxs)("div",{className:"".concat(o),children:[(0,d.jsx)("p",{className:"body ".concat(l,"  ").concat(c),children:"Contact"}),(0,d.jsxs)("p",{className:"body ".concat(l),style:{width:"220px"},children:[t&&(0,d.jsxs)(d.Fragment,{children:["Submit your project, artwork & passion to be featured in reference peace.",(0,d.jsx)("br",{}),(0,d.jsx)("br",{})]}),"Click my email",(0,d.jsx)("br",{}),"To get in touch!"]})]}),(0,d.jsxs)("div",{className:"heading about-last-cta-wrap-heading ".concat(s),onMouseEnter:()=>{C(!0),k("Click to Copy"),h.Ay.to(".contact-hover-desc .link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})},onMouseLeave:()=>{C(!1)},children:[(0,d.jsxs)("a",{className:"heading",onClick:()=>{navigator.clipboard.writeText("maxdona@gmail.com"),h.Ay.to(".contact-hover-desc .link-desc > span",{y:"100%",duration:.3,delay:0,onComplete:()=>{k("Email Copied"),h.Ay.to(".contact-hover-desc .link-desc > span",{y:"0%",duration:.3,delay:0})}})},children:[(0,d.jsx)("span",{className:"white-char",children:"M"}),"axdona@gmail.com"]}),(0,d.jsx)("img",{src:"/LOGO-DESKTOP.svg",alt:"logo-desktop"})]})]})]})}},647:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(5043),i=n(8270),s=n(7303),a=n(8399),o=n(579);const l=function(){const{isLoading:e,setIsLoading:t,isComplete:n,setIsComplete:l}=(0,a.M)(),c=()=>{const e=setTimeout((()=>{l(!1),document.body.classList.add("loading-complete"),i.Ay.fromTo(".loading-wrap",{clipPath:"inset(0 0 0 0 round 20px)",duration:1},{clipPath:"inset(0 0 100% 0 round 20px)",duration:1,onComplete:()=>{setTimeout((()=>{t(!1)}),500)}})}),1e3);return()=>clearTimeout(e)};return(0,r.useEffect)((()=>{document.fonts.ready.then((()=>{c()}));const e=()=>{c(),t(!0),l(!0),document.body.classList.remove("loading-complete")};return window.addEventListener("routeChange",e),()=>{window.removeEventListener("routeChange",e)}}),[]),(0,o.jsx)("div",{className:"loading-wrap ".concat(n&&"is-complete"," ").concat(e&&"is-loading"," "),children:(0,o.jsx)("div",{className:"loading-container",children:(0,o.jsx)(s.A,{})})})}},2013:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043);const i={footer:"footer_footer__-uJnI","footer-wrap":"footer_footer-wrap__bgu2Z","bottom-footer-area":"footer_bottom-footer-area__EDHSd","footer-col-2":"footer_footer-col-2__PnjQD","footer-col-3":"footer_footer-col-3__U30+K","footer-col-4":"footer_footer-col-4__XvMYF","footer-clock-wrap":"footer_footer-clock-wrap__GbYn3","mobile-site-tag":"footer_mobile-site-tag__pyla6","footer-column":"footer_footer-column__JRgpR","footer-col-1":"footer_footer-col-1__kVuPj","footer-archive-div":"footer_footer-archive-div__0FYN5","footer-title":"footer_footer-title__VOzIm","acknowledgement-of-country":"footer_acknowledgement-of-country__L-Z7s","find-me-wrap":"footer_find-me-wrap__zqctY","flag-wrap":"footer_flag-wrap__L5U8W",flag:"footer_flag__NwUWn","retro-mode-wrap":"footer_retro-mode-wrap__xMfBv","all-button":"footer_all-button__yyPSh","back-to-top":"footer_back-to-top__xEkqR"};var s=n(5472),a=n(5317),o=n(5475),l=n(579);const c=function(){const[e,t]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),d=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[t]=e;h(t.isIntersecting)}),{threshold:.4});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current)}}),[]),(0,r.useEffect)((()=>{const e=(0,s.aQ)((0,s.rJ)(a.db,"projects"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n)})),n=(0,s.aQ)((0,s.rJ)(a.db,"referencePeace"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));c(t)}));return()=>{e(),n()}}),[]);const p=e=>e.reduce(((e,t)=>{const n=new Date(t.releaseDate).getFullYear();return e[n]||(e[n]=[]),e[n].push(t),e}),{}),f=p(e),m=p(n),g=(new Date).getFullYear();return(0,l.jsxs)("footer",{className:"".concat(i.footer," ").concat(u?"visible":""),ref:d,children:[(0,l.jsxs)("div",{className:i["footer-wrap"],children:[(0,l.jsxs)("div",{className:i["footer-col-1"],children:[(0,l.jsx)("div",{className:i["footer-title"],children:"Find Me"}),(0,l.jsxs)("div",{className:i["country-wrap"],children:[(0,l.jsxs)("div",{className:i["flag-wrap"],children:[(0,l.jsx)("img",{className:i.flag,src:"/icons/Minimal-Aus.svg",alt:"Australian Flag"}),(0,l.jsx)("img",{className:i.flag,src:"/icons/Minimal-Indigenous.svg",alt:"Indigenous Flag"})]}),(0,l.jsx)("div",{className:i["acknowledgement-of-country"],children:"I respectfully acknowledge the Gadigal people of the Eora Nation as the Traditional Custodians of the land I operate upon. I extend that respect to elders, both past, present & emerging."})]}),(0,l.jsxs)("div",{className:i["find-me-wrap"],children:[(0,l.jsx)("a",{className:"primary-button",children:"Instagram"}),(0,l.jsx)("a",{className:"primary-button",children:"Youtube"}),(0,l.jsx)("a",{className:"primary-button",children:"Contact"})]})]}),(0,l.jsx)("div",{className:i["footer-col-2"]}),(0,l.jsx)("div",{className:"".concat(i["footer-col-3"]," ").concat(i["footer-column"]),children:Object.keys(f).map((e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:i["footer-archive-div"],style:{padding:"0px"},children:"ARCHIVE"}),(0,l.jsx)("div",{className:i["footer-archive-div"],children:e}),f[e].map((e=>(0,l.jsx)(o.N_,{to:"/projects/".concat(e.id),className:"primary-button",children:e.displayName},e.id)))]},e)))}),(0,l.jsx)("div",{className:"".concat(i["footer-col-4"]," ").concat(i["footer-column"]),children:Object.keys(m).map((e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:i["footer-archive-div"],style:{padding:"0px"},children:"REFERENCE PEACE"}),(0,l.jsx)("div",{className:i["footer-archive-div"],children:e}),m[e].map((e=>(0,l.jsx)(o.N_,{to:"/projects/referencepeace/".concat(e.id),className:"primary-button",children:e.displayName},e.id)))]},e)))})]}),(0,l.jsxs)("div",{className:i["bottom-footer-area"],children:[(0,l.jsx)("div",{className:i["footer-col-1"],children:(0,l.jsx)("div",{className:i["footer-logo"],children:(0,l.jsx)("a",{className:"footer-logo-link",href:"/",children:(0,l.jsx)("img",{className:"footer-logo",src:"/LOGO-DESKTOP.svg",alt:"Logo"})})})}),(0,l.jsx)("div",{className:i["footer-col-2"],children:(0,l.jsxs)("div",{className:i["acknowledgement-of-country"],children:["Max Dona \xa9 ",g,(0,l.jsx)("br",{}),(0,l.jsx)("a",{href:"https://wyeeeth.com",target:"_blank",rel:"noopener noreferrer",children:"A Wyeeeth Site"})]})})]})]})}},549:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043);const i={footer:"footer_footer__Iubks","footer-wrap":"footer_footer-wrap__k9kGD","footer-col-1":"footer_footer-col-1__ZPTKW","flag-wrap":"footer_flag-wrap__QCTj3",flag:"footer_flag__amwq3","footer-col-2":"footer_footer-col-2__bZp8c","footer-col-3":"footer_footer-col-3__MzodN","footer-col-4":"footer_footer-col-4__1opHd","all-button":"footer_all-button__hamyl","back-to-top":"footer_back-to-top__3OdTe"};var s=n(579);const a=function(){const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[n]=e;t(n.isIntersecting)}),{threshold:.001});return n.current&&e.observe(n.current),()=>{n.current&&e.unobserve(n.current)}}),[]);const a=(new Date).getFullYear();return(0,s.jsx)("footer",{className:"".concat(i.footer," ").concat(e?"visible":""),ref:n,children:(0,s.jsxs)("div",{className:i["footer-wrap"],children:[(0,s.jsxs)("div",{className:i["footer-col-1"],children:[(0,s.jsx)("div",{className:i["header-logo"],children:(0,s.jsx)("a",{href:"/",children:(0,s.jsx)("img",{src:"/LOGO-DESKTOP.svg",alt:"Logo"})})}),window.innerWidth>830&&(0,s.jsx)("div",{className:i["country-wrap"],children:(0,s.jsxs)("div",{className:i["flag-wrap"],children:[(0,s.jsx)("img",{className:i.flag,src:"/icons/Minimal-Aus.svg",alt:"Australian Flag"}),(0,s.jsx)("img",{className:i.flag,src:"/icons/Minimal-Indigenous.svg",alt:"Indigenous Flag"})]})})]}),(0,s.jsxs)("div",{className:"".concat(i["footer-col-2"]," body"),children:[(0,s.jsx)("a",{href:"/",children:"Home"}),(0,s.jsx)("a",{href:"/#/about",children:"About"})]}),(0,s.jsxs)("div",{className:"".concat(i["footer-col-3"]," body"),children:[(0,s.jsx)("a",{href:"/#/archive",children:"Archive"}),(0,s.jsx)("a",{href:"/#/contact",children:"Contact"})]}),(0,s.jsxs)("div",{className:"".concat(i["footer-col-4"]," body"),children:[(0,s.jsx)("a",{href:"/#/reference-peace",children:"Reference Peace"}),(0,s.jsxs)("a",{children:["Max Dona \xa9 ",a]}),window.innerWidth<=830&&(0,s.jsx)("div",{className:i["country-wrap"],children:(0,s.jsxs)("div",{className:i["flag-wrap"],children:[(0,s.jsx)("img",{className:i.flag,src:"/icons/Minimal-Aus.svg",alt:"Australian Flag"}),(0,s.jsx)("img",{className:i.flag,src:"/icons/Minimal-Indigenous.svg",alt:"Indigenous Flag"})]})})]})]})})}},3040:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(5043);const i={"minimal-header":"header_minimal-header__KSogU","header-toggled":"header_header-toggled__mASuH","minimal-header-background":"header_minimal-header-background__dFo5x","header-inner-content":"header_header-inner-content__G1uCt","header-wrap":"header_header-wrap__bfoGq","header-menu-link":"header_header-menu-link__pjSEt","header-cta-wrap":"header_header-cta-wrap__6OV53","header-hover-desc":"header_header-hover-desc__E+K2M","header-subtext-link":"header_header-subtext-link__THG-z","menu-time-wrap":"header_menu-time-wrap__KligA","link-desc":"header_link-desc__wqnKi","header-hamburger":"header_header-hamburger__W+nLW","header-logo":"header_header-logo__SUgFY","header-menu":"header_header-menu__w9n7y","header-menu-links":"header_header-menu-links__tOIWV","reference-peace-sticker-top":"header_reference-peace-sticker-top__6D1cv","reference-peace-sticker-bottom":"header_reference-peace-sticker-bottom__fzCcw","reference-peace-sticker":"header_reference-peace-sticker__dyBeW","header-menu-subtext":"header_header-menu-subtext__0BdsG","header-menu-subtext-links":"header_header-menu-subtext-links__CUzSo","empty-menu-link":"header_empty-menu-link__GccW6","menu-time":"header_menu-time__brvJx","menu-location":"header_menu-location__jCTcB","menu-country":"header_menu-country__r-Lbo","reference-peace-link":"header_reference-peace-link__92Q4a",scrolled:"header_scrolled__I7kpJ","menu-time-func":"header_menu-time-func__BxXXL",colon:"header_colon__6CgXX","reference-peace-sticker-bottom-asterix":"header_reference-peace-sticker-bottom-asterix__70ANq",spin:"header_spin__Qfxmw","sticker-top-line":"header_sticker-top-line__9XjQE",infiniteEaseLoop:"header_infiniteEaseLoop__QAS+D","header-hero-cta":"header_header-hero-cta__q8zE5","header-subtext-links":"header_header-subtext-links__OeKxW"};var s=n(4678);const a={duration:1,ease:[.76,0,.24,1]},o={initial:{opacity:0},open:e=>({opacity:1,transition:{duration:"svg-delay"===e?1:.55,delay:"svg-delay"===e?1:.55}}),closed:e=>({opacity:0,transition:{duration:.55,delay:"svg-delay"===e?.4:.1}})},l={initial:{height:0},open:{height:"0vh",transition:a},closed:{height:0,transition:{...a,delay:.5}}},c={initial:{y:"150%"},open:e=>({y:"0%",opacity:1,transition:{...a,delay:.03*e+.05}}),closed:e=>({y:"150%",opacity:0,transition:{...a,delay:.01*e+.1}})},u={initial:{y:"18px"},open:e=>({y:0===e?"24px":"18px",opacity:1,transition:{...a}}),closed:e=>({y:"18px",opacity:1===e?1:e,transition:{...a,delay:[.2]}})},h={initial:{y:"-100%"},open:{y:"0%",transition:a},closed:{y:"-100%",transition:{...a,delay:.6}}};var d=n(579);const p=e=>{const[t,n]=(0,r.useState)(new Date);(0,r.useEffect)((()=>{const e=setInterval((()=>{n(new Date)}),5e3);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{n(new Date)}),1e3);return()=>clearInterval(e)}),[]);const i=new Date(t.toLocaleString("en-US",{timeZone:"Australia/Sydney"})),s=i.getHours().toString().padStart(2,"0"),a=i.getMinutes().toString().padStart(2,"0"),o=i.getSeconds().toString().padStart(2,"0");if(e)return(0,d.jsxs)("p",{className:"menu-time body",children:["Sydney",(0,d.jsx)("br",{}),(0,d.jsxs)("span",{className:"menu-time-func",children:[s,(0,d.jsx)("span",{className:"colon",children:":"}),a,(0,d.jsx)("span",{className:"colon",children:":"}),o]})]})},f=e=>{let{delay:t=0,onDelayStart:n=(()=>{}),onDelayEnd:i=(()=>{}),to:s,...a}=e;const[o,l]=(0,r.useState)(null);(0,r.useEffect)((()=>()=>{o&&clearTimeout(o)}),[o]);return(0,d.jsx)("a",{...a,href:s,onClick:e=>{console.log("Link clicked");const r=new URL(window.location.href),a=new URL(s,window.location.origin);if(console.log("Current URL:",r.href),console.log("Target URL:",a.href),r.pathname===a.pathname&&r.search===a.search&&r.hash===a.hash)return void console.log("Already on the target page");if(n(e,s),e.defaultPrevented)return void console.log("Event default prevented");e.preventDefault(),document.body.classList.add("page-transitioning"),console.log("Delay started");const o=setTimeout((()=>{console.log("Navigating to:",s),window.location.href=s,i(e,s),document.body.classList.remove("page-transitioning"),window.dispatchEvent(new Event("routeChange"))}),t);l(o)}})};var m=n(8270);const g=function(e){let{isActive:t,setIsActive:n,setCurrentDesc:r}=e;const a=(e,t)=>{n(!1),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)"),document.documentElement.style.setProperty("--primary-color","#181818")},l=(e,t)=>{console.log("Delay end triggered for:",t)},u=[{text:"Contact",link:"/#/contact"},{text:"Instagram",link:"https://www.instagram.com/"},{text:"Youtube",link:"https://www.youtube.com/"}],h=[{text:"Home",link:"/",desc:"Introduction"},{text:"About",link:"/#/about",desc:"Get to<br/>know me"},{text:"Archive",link:"/#/archive",desc:"My Projects"},{text:"Contact",link:"/#/contact",desc:"Get in Touch"},{text:"Reference Peace",link:"/#/reference-peace",desc:"A Max Dona<br/>Magazine",class:"reference-peace-link"}],g=Math.max(h.length,u.length);return(0,d.jsxs)("div",{className:"header-menu ".concat(i["header-menu"]),children:[(0,d.jsx)("div",{className:i["header-menu-links"],children:h.map(((e,n)=>(0,d.jsx)(f,{className:"header-menu-link ".concat(i["header-menu-link"]),delay:1500,onDelayStart:a,onDelayEnd:l,onMouseEnter:()=>{return t=e.desc,void m.os.to(".link-desc > span",{y:"100%",duration:.3,onComplete:()=>{r(t),m.os.to(".link-desc > span",{y:"100%",opacity:0,duration:0,onComplete:()=>{m.os.to(".link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})}})}});var t},to:e.link,children:(0,d.jsx)(s.P.span,{custom:0,initial:"initial",variants:c,animate:t?"open":"closed",children:e.text})},e.text)))}),(0,d.jsx)("div",{className:"".concat(i["header-menu-subtext"]),children:(0,d.jsx)("div",{className:i["header-menu-subtext-col-1"],children:(0,d.jsxs)("div",{className:"header-menu-subtext-links ".concat(i["header-menu-subtext-links"]),children:[(0,d.jsx)(s.P.div,{custom:1,variants:o,animate:t?"open":"closed",className:"".concat(i["menu-time-wrap"]," ").concat(t?"":i["empty-menu-link"]),children:(0,d.jsx)(p,{})}),(v=u,Array.from({length:g},((e,t)=>{const{text:n="",link:r="#"}=v[t]||{},s=""===n.trim(),a="".concat(i["header-subtext-link"]," header-subtext-link primary-button ").concat(s?i["empty-menu-link"]:"");return(0,d.jsx)("a",{className:a,href:r,children:s?"":n},t)})))]})})})]});var v};const v=function(e){let{isActive:t}=e;return(0,d.jsxs)("svg",{width:"33",height:"26",viewBox:"0 0 33 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"hamburger-button ".concat(t?"active":""),children:[(0,d.jsx)("path",{className:"line-1",d:"M2 2H31",stroke:"black",strokeWidth:"5",strokeLinecap:"round"}),(0,d.jsx)("path",{className:"line-2",d:"M2 13H31",stroke:"black",strokeWidth:"5",strokeLinecap:"round"}),(0,d.jsx)("path",{className:"line-3",d:"M2 24H31",stroke:"black",strokeWidth:"5",strokeLinecap:"round"})]})};var y=n(6077);const b=function(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),{x:o,y:c,isOutside:p}=(0,y.A)(".App"),[b,w]=(0,r.useState)(0),[A,_]=(0,r.useState)(0),[x,E]=(0,r.useState)(0),[S,C]=(0,r.useState)(0),[T,k]=(0,r.useState)({vx:0,vy:0}),[I,P]=(0,r.useState)("Introduction"),[N,R]=(0,r.useState)({translateY:0,rotate:0}),M=(0,r.useRef)(null),D=(0,r.useRef)(null),j=()=>{a(!1)},L=n=>{27===n.keyCode&&e&&t(!1)};(0,r.useEffect)((()=>{if(e){(()=>{k({vx:o-x,vy:c-S}),E(o),C(c)})()}}),[o,c]);const O=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,r.useEffect)((()=>{if(e){const e={translateY:O(2*T.vy,-5,5),rotate:O(2*T.vx,-2.5,2.5)};return R(e),D.current&&clearTimeout(D.current),D.current=setTimeout((()=>{R({translateY:0,rotate:0})}),100),()=>clearTimeout(D.current)}}),[T]),(0,r.useEffect)((()=>{m.os.to(".header-hover-desc",{width:document.querySelector(".link-desc > span").clientWidth,duration:0}),m.os.to(".header-hover-desc",{height:document.querySelector(".link-desc > span").clientHeight,duration:1})}),[I]),(0,r.useEffect)((()=>{const e=()=>{t(!1),m.os.to(i["minimal-header-background"],{y:"-100%",duration:"0s !important"})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),(0,r.useEffect)((()=>{const e=()=>{if(M.current){const e=M.current.offsetWidth,t=M.current.offsetHeight;w(e),_(t)}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>(document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)})),[e]),(0,d.jsxs)(s.P.header,{variants:l,initial:"initial",animate:e?"open":"closed",exit:"closed",className:"header ".concat(i["minimal-header"]," ").concat(e?i["header-toggled"]:""," ").concat(e?"header-toggled-global":""),onExitComplete:j,children:[(0,d.jsx)("div",{className:"header-wrap ".concat(i["header-wrap"]),children:(0,d.jsxs)("div",{children:[(0,d.jsx)(s.P.div,{variants:h,initial:"initial",animate:e?"open":"closed",exit:"closed",className:"minimal-header-background ".concat(i["minimal-header-background"]," ").concat(e?i["header-toggled"]:""),onExitComplete:j}),(0,d.jsxs)(s.P.div,{variants:u,initial:"initial",animate:e?"open":"closed",className:"header-inner-content ".concat(i["header-inner-content"]),children:[(0,d.jsx)("div",{className:i["header-logo"],onClick:()=>{document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)")},children:(0,d.jsxs)(f,{className:"header-logo-link ",to:"/",delay:2e3,children:[(0,d.jsx)("img",{className:"header-logo",src:"/LOGO-DESKTOP.svg",alt:"Logo"}),(0,d.jsx)("div",{className:"header-logo"})]})}),(0,d.jsxs)("div",{className:"".concat(i["header-cta-wrap"]),children:[(0,d.jsx)("a",{href:"/contact",children:(0,d.jsx)("div",{className:"primary-button header-hero-cta ".concat(i["header-hero-cta"]),children:"Let's Work"})}),(0,d.jsxs)("div",{className:"".concat(i["header-hamburger"]," header-hamburger"),onClick:()=>{t((e=>!e)),a(!0)},children:[(0,d.jsx)(v,{isActive:e})," "]})]})]})]})}),(0,d.jsx)("div",{className:"header-hover-desc ".concat(i["header-hover-desc"]),ref:M,style:{position:"fixed",left:"".concat(o-14,"px"),top:"".concat(c-A/2,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:(0,d.jsx)("p",{className:"body link-desc ".concat(i["link-desc"]),children:(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:I}})})}),(0,d.jsx)(g,{isActive:e,setIsActive:t,setCurrentDesc:P})," "]},"header")}},1234:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(579);const i=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"404 - Page Not Found"}),(0,r.jsx)("p",{children:"The page you are looking for does not exist."})]})},9267:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5043);const i={"about-page":"about_about-page__EGjRB","section-1-heading":"about_section-1-heading__acsRg","section-1-content":"about_section-1-content__v-K0E","my-process-title":"about_my-process-title__1Y4Xy","scroll-notification":"about_scroll-notification__f5j1N","section-1-image":"about_section-1-image__+pOHw","about-page-slide":"about_about-page-slide__0ctID","slide-projects":"about_slide-projects__VwOor","slide-project":"about_slide-project__Pmq2J","slide-project-image":"about_slide-project-image__Nh7px","slide-project-details":"about_slide-project-details__BwOXs","portfolio-slide-subtext":"about_portfolio-slide-subtext__2UL48","portfolio-slide-subtext-left":"about_portfolio-slide-subtext-left__WXEq5","portfolio-slide-subtext-right":"about_portfolio-slide-subtext-right__bODr2","about-process":"about_about-process__IVmKl","about-process-wrap":"about_about-process-wrap__veuuc","about-process-image-wrap":"about_about-process-image-wrap__wq+kz","about-process-inner-image-wrap":"about_about-process-inner-image-wrap__wp-zH","about-process-count":"about_about-process-count__nr8yV","about-process-index":"about_about-process-index__n-xTm","about-last-cta-wrap-heading":"about_about-last-cta-wrap-heading__q8bHD","about-process-slides":"about_about-process-slides__hnH3x","about-process-slide-1":"about_about-process-slide-1__liO5p","about-process-slide-title":"about_about-process-slide-title__GEvva","about-process-slide-2":"about_about-process-slide-2__wqZOK","about-process-slide":"about_about-process-slide__1NDyf","about-process-slide-text":"about_about-process-slide-text__OMuR9","testimonial-slide-subtext":"about_testimonial-slide-subtext__fxfOn","testimonial-subtext-col-1":"about_testimonial-subtext-col-1__1X5u8","testimonial-subtext-col-2":"about_testimonial-subtext-col-2__XxJPL","about-page-section-3":"about_about-page-section-3__Z+u-T","section-1-text":"about_section-1-text__onGoe","about-last-cta-wrap":"about_about-last-cta-wrap__etfFh",body:"about_body__s4thn","mobile-process-image-wrap":"about_mobile-process-image-wrap__Md5rj","about-page-section-2":"about_about-page-section-2__SwpBv","section-2-heading":"about_section-2-heading__Zh0HN","section-2-heading-title":"about_section-2-heading-title__zEc3X","section-2-heading-subtitle":"about_section-2-heading-subtitle__GsDnM","about-contact-block":"about_about-contact-block__-b2qt","slide-projects-wrap":"about_slide-projects-wrap__tg97g","section-2-button-wrap":"about_section-2-button-wrap__wAPQ6","section-1-text-wrap":"about_section-1-text-wrap__JDBf+","testimonial-click":"about_testimonial-click__14L4O","testimonial-subtext-col-3":"about_testimonial-subtext-col-3__urf3a"};var s=n(8270),a=n(4404),o=(n(7303),n(8274)),l=n(3216),c=n(5669),u=n(579);s.Ay.registerPlugin(a.u);const h=e=>(0,u.jsxs)("div",{className:"".concat(i["slide-projects"]," ").concat(1!==e?"second-":"","slide-projects"),children:[(0,u.jsxs)("div",{className:"".concat(i["slide-project"],"-").concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Franco"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Domengo"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Cormac"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Teji"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),2===e?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"".concat(i["slide-project"],"-").concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Franco"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]})}):(0,u.jsx)(u.Fragment,{})]}),d=e=>(0,u.jsxs)("div",{className:"".concat(i["slide-projects"]," ").concat(1!==e?"second-":"","slide-projects"),children:[(0,u.jsxs)("div",{className:"".concat(i["slide-project"],"-").concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Franco"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Domengo"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Cormac"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["slide-project"]).concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Teji"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]}),2===e?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"".concat(i["slide-project"],"-").concat(e," ").concat(i["slide-project"]),children:[(0,u.jsx)("div",{className:"".concat(i["slide-project-image"])}),(0,u.jsxs)("div",{className:"".concat(i["slide-project-details"]),children:[(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Franco"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"Old Ways"})}),(0,u.jsx)("p",{className:"body",children:(0,u.jsx)("span",{children:"( 2022 )"})})]})]})}):(0,u.jsx)(u.Fragment,{})]}),p=function(){const e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useRef)(null),m=(0,r.useRef)(null),[g,v]=(0,r.useState)(0),[y,b]=(0,r.useState)(-1),[w,A]=(0,r.useState)(window.innerWidth),[_,x]=(0,r.useState)(!1);(0,r.useLayoutEffect)((()=>{const e=s.Ay.context((()=>{a.u.create({trigger:m.current,start:"-80px top",pin:f.current,end:"bottom bottom",pinSpacing:!1})}),[f,m]);return()=>{e.revert()}}),[]),(0,r.useLayoutEffect)((()=>{const e=s.Ay.context((()=>{s.Ay.to(".about-process-index span",{scrollTrigger:{trigger:m.current,scrub:.5,start:"100px top",end:"bottom bottom"},y:"-200%"}),s.Ay.to(".about-process-slides",{scrollTrigger:{trigger:m.current,scrub:.5,start:"bottom bottom",end:"bottom 300px"},y:"-190px",opacity:"0"}),s.Ay.to(".about-process-inner-image-wrap",{scrollTrigger:{trigger:m.current,scrub:.8,start:"100px top",end:"bottom bottom"},y:"-70%"}),s.Ay.to(n.current,{scrollTrigger:{trigger:n.current,scrub:1,start:"-=".concat(1.5*window.innerHeight," top"),end:"+=".concat(2*window.innerHeight),onUpdate:e=>b(-1*e.direction)},x:()=>"-".concat(n.current.scrollWidth/6,"px"),ease:"none",markers:!0}),s.Ay.to(p.current,{scrollTrigger:{trigger:p.current,scrub:1,start:"-=".concat(1.5*window.innerHeight," top"),end:"+=".concat(2*window.innerHeight),onUpdate:e=>b(-1*e.direction)},x:()=>"-".concat(p.current.scrollWidth/6,"px"),ease:"none"})}),[f,m,n,p]);return()=>e.revert()}),[]),(0,r.useLayoutEffect)((()=>{let e;const t=()=>{v((e=>{let t=e+.04*y;return-1===y?t<=-100&&(t=0):1===y&&t>=0&&(t=-100),t})),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}}),[y]),(0,r.useLayoutEffect)((()=>{e.current&&t.current&&(s.Ay.to(e.current,{xPercent:g,duration:0}),s.Ay.to(t.current,{xPercent:g,duration:0}))}),[g]),(0,r.useLayoutEffect)((()=>{const e=e=>{"mouseenter"===e.type?(console.log("Slider2 is hovered"),x(!0)):"mouseleave"===e.type&&(console.log("Slider2 is not hovered"),x(!1))},t=p.current;return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",e)}}),[]);let E=(0,l.zy)();(0,r.useEffect)((()=>{s.Ay.fromTo(".section-1-image",{height:"0px"},{height:"calc(100vh - 80px - 18vw",duration:1,ease:[.76,0,.24,1],delay:.2})}),[E]),(0,r.useEffect)((()=>{function e(){A(window.innerWidth)}return document.title="About Max Dona",document.documentElement.style.setProperty("--primary-color","#181818"),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)"),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const S=["".concat("","/static_webp/aboutservice1.webp"),"".concat("","/static_webp/aboutservice2.webp"),"".concat("","/static_webp/aboutservice3.webp")];return(0,u.jsxs)("main",{className:"".concat(i["about-page"]),children:[(0,u.jsx)("section",{className:"".concat(i["about-page-section-1"]),children:(0,u.jsxs)("div",{className:"".concat(i["section-1-content"]," "),children:[(0,u.jsxs)("div",{className:"".concat(i["section-1-heading"]," high-z-index-layer"),children:[(0,u.jsx)(o.A,{custom:20,elementClass:"title",element:"h2",textContent:"TELLING STORIES WORTH"}),(0,u.jsx)(o.A,{custom:20,elementClass:"title",element:"h2",textContent:"Being"}),(0,u.jsx)(o.A,{custom:20,elementClass:"title",element:"h2",textContent:"told."})]}),(0,u.jsx)("div",{className:"".concat(i["section-1-image"]," section-1-image")}),(0,u.jsxs)("div",{className:"high-z-index-layer ".concat(i["section-1-text-wrap"]),children:[(0,u.jsx)("div",{className:"".concat(i["section-1-text"]),children:(0,u.jsx)(o.A,{custom:20,elementClass:"body",textContent:"MY WORK AIMS TO STANDOUT FROM THE NOISE; THIS IS DONE BY HIGHLIGHTING THE AUTHENTICITY OF MY CLIENTS.",element:"p"})}),(0,u.jsx)("div",{className:"body scroll-notification ".concat(i["scroll-notification"]),children:(0,u.jsxs)("p",{children:["(",(0,u.jsx)("span",{children:"SCROLL"}),")"]})})]})]})}),(0,u.jsx)("section",{className:"".concat(i["about-page-section-2"]),children:(0,u.jsx)("div",{className:"".concat(i["section-2-content"]," "),children:(0,u.jsx)("div",{className:"".concat(i["section-2-heading"]," high-z-index-layer"),children:(0,u.jsxs)("div",{className:"".concat(i["section-2-heading-bottom"]," high-z-index-layer"),children:[(0,u.jsxs)("div",{className:"".concat(i["section-2-heading-subtitle"]),children:[(0,u.jsxs)("div",{className:"".concat(i["section-2-text"]),children:[(0,u.jsx)(o.A,{custom:20,elementClass:"body",textContent:"I STRIVE TO CURATE IDENTITY AND PERSONALITY THROUGH VISUAL EXPERIENCES.",element:"p"}),(0,u.jsx)(o.A,{custom:20,elementClass:"body",textContent:"This is only done by caring about your project as much as you do.",element:"p"})]}),w>830&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"primary-button button-gradient",children:"Instagram"}),(0,u.jsx)("button",{className:"primary-button button-gradient",children:"Get in Touch"})]})]}),(0,u.jsxs)("div",{className:"".concat(i["section-2-heading-title"]),children:[(0,u.jsx)(o.A,{elementClass:"title",element:"h2",textContent:"YOUR"}),(0,u.jsx)(o.A,{elementClass:"title",element:"h2",textContent:"PASSION,"}),(0,u.jsx)(o.A,{elementClass:"title",element:"h2",textContent:"MY CRAFT,"}),(0,u.jsx)(o.A,{elementClass:"title",element:"h2",textContent:"PERFECTLY"}),(0,u.jsx)(o.A,{elementClass:"title",element:"h2",textContent:"SYNCED."}),w<=830&&(0,u.jsxs)("div",{className:"".concat(i["section-2-button-wrap"]),children:[(0,u.jsx)("button",{className:"primary-button button-gradient",children:"Instagram"}),(0,u.jsx)("button",{className:"primary-button button-gradient",children:"Get in Touch"})]})]})]})})})}),(0,u.jsx)("div",{className:"".concat(i["portfolio-slide"]," ").concat(i["about-page-slide"]),ref:n,children:(0,u.jsxs)("div",{className:"".concat(i["slide-projects-wrap"]),ref:e,children:[h(1),h(2)]})}),(0,u.jsxs)("div",{className:"".concat(i["portfolio-slide-subtext"]," high-z-index-layer"),children:[(0,u.jsx)("div",{className:"".concat(i["portfolio-slide-subtext-left"]),children:(0,u.jsx)("p",{className:"body",children:"DEVELOPING VISUALS TO HELP CREATIVE\u2019S EXPRESS THEMSELVES THROUGH MEDIA."})}),(0,u.jsxs)("div",{className:"".concat(i["portfolio-slide-subtext-right"]),children:[(0,u.jsx)("p",{className:"body",children:"( Click project to view )"}),(0,u.jsx)("button",{className:"primary-button",children:"Full Archive"})]})]}),(0,u.jsxs)("section",{className:"".concat(i["about-page-section-3"]," ").concat(i["about-process"]," about-process"),ref:m,children:[(0,u.jsxs)("div",{className:"".concat(i["about-process-wrap"]," about-process-wrap "),ref:f,children:[(0,u.jsx)("div",{className:"",children:(0,u.jsx)("h2",{className:" ".concat(i["my-process-title"]," heading high-z-index-layer"),children:"My Process:"})}),(0,u.jsxs)("div",{className:"".concat(i["about-process-image-wrap"]," about-process-image-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(i["about-process-inner-image-wrap"]," about-process-inner-image-wrap"),children:[(0,u.jsx)("img",{src:S[0],alt:"max-image"}),(0,u.jsx)("img",{src:S[1],alt:"max-image"}),(0,u.jsx)("img",{src:S[2],alt:"max-image"})]}),(0,u.jsx)("div",{className:"".concat(i["about-process-image-wrap"]," about-process-image-wrap"),children:(0,u.jsxs)("p",{className:"".concat(i["about-process-count"]," heading"),children:["0",(0,u.jsxs)("p",{className:"".concat(i["about-process-index"]," about-process-index"),children:[(0,u.jsx)("span",{className:"heading",children:"1"}),(0,u.jsx)("span",{className:"heading",children:"2"}),(0,u.jsx)("span",{className:"heading",children:"3"})]})]})})]})]}),(0,u.jsxs)("div",{className:"".concat(i["about-process-slides"]," about-process-slides high-z-index-layer"),children:[(0,u.jsxs)("div",{className:"".concat(i["about-process-slide-1"]," ").concat(i["about-process-slide"]),children:[(0,u.jsxs)("div",{className:"".concat(i["mobile-process-image-wrap"]," mobile-process-image-wrap"),children:[(0,u.jsx)("img",{src:S[0],alt:"max-image"}),(0,u.jsx)("p",{className:"".concat(i["about-process-count"]," heading"),children:"01"})]}),(0,u.jsx)("div",{className:"".concat(i["about-process-slide-title"]," heading high-z-index-layer"),children:"Discover:"}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"STARTING with a thorough BRANDING examination BY peering into the core of your identity, decoding the competitive landscape & paving a WAY through YOUR SPECIFIC industry."}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"My mission is to help your brand carve its own path, resonate with your audience, and establish an identity that's exclusively yours."})]}),(0,u.jsxs)("div",{className:"".concat(i["about-process-slide-2"]," ").concat(i["about-process-slide"]),children:[(0,u.jsxs)("div",{className:"".concat(i["mobile-process-image-wrap"]," mobile-process-image-wrap"),children:[(0,u.jsx)("img",{src:S[1],alt:"max-image"}),(0,u.jsx)("p",{className:"".concat(i["about-process-count"]," heading"),children:"01"})]}),(0,u.jsx)("div",{className:"".concat(i["about-process-slide-title"]," heading"),children:"Design:"}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"A well-defined design system provides the structure needed for creativity to thrive, aligning every element with the overarching vision. Through this I\u2019m able to iterate closely and define a strong conceptual blueprint."}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"By exploring your initial intentions, what you can see and what you want to see \u2014 We\u2019re able to push boundaries & maximise outcomes. This allows me to identify & act on the weight of your ideas, lightening your workload."})]}),(0,u.jsxs)("div",{className:"".concat(i["about-process-slide-3"]," ").concat(i["about-process-slide"]),children:[(0,u.jsxs)("div",{className:"".concat(i["mobile-process-image-wrap"]," mobile-process-image-wrap"),children:[(0,u.jsx)("img",{src:S[2],alt:"max-image"}),(0,u.jsx)("p",{className:"".concat(i["about-process-count"]," heading"),children:"01"})]}),(0,u.jsx)("div",{className:"".concat(i["about-process-slide-title"]," heading"),children:"Define:"}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"Using bold solutions via shot selection, and scene by scene intuition\u2014 I actively reference the outlined objectives\u2014Guiding my techniques during the shoot. "}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"At the intersection of ideation & implementation we balance on-site serendipity with a structured narrative, ensuring every shot is relevant and our pre-defined goals come to fruition."}),(0,u.jsx)(o.A,{custom:-1,elementClass:"".concat(i["about-process-slide-text"]," body"),element:"div",textContent:"This production process enhances efficiency, and ultimately elevates the experience, leaving lasting visuals that resonate & reflect our intentions. Seamlessly integrating with post-production and amplifying the final result."})]})]})]}),(0,u.jsxs)("div",{className:"".concat(i["testimonial-slide-subtext"]," high-z-index-layer"),children:[(0,u.jsxs)("div",{className:"".concat(i["testimonial-subtext-col-1"]),children:[(0,u.jsxs)("p",{className:"body",children:["Recent",(0,u.jsx)("br",{}),"Succesful",(0,u.jsx)("br",{}),"Clients"]}),(0,u.jsx)("p",{className:"body ".concat(i["testimonial-click"]),children:"( Click to View )"})]}),(0,u.jsx)("div",{className:"".concat(i["testimonial-subtext-col-2"]),children:(0,u.jsxs)("p",{className:"heading",children:["COLLABORATIVE",(0,u.jsx)("br",{}),"Outcome's"]})}),(0,u.jsx)("div",{className:"".concat(i["testimonial-subtext-col-3"]),children:(0,u.jsx)("button",{className:"primary-button",children:"Lets Work"})})]}),(0,u.jsx)("div",{className:"".concat(i["testimonials-slide"]," ").concat(i["about-page-slide"]),ref:p,children:(0,u.jsxs)("div",{className:"".concat(i["slide-projects-wrap"]),ref:t,children:[d(1),d(2)]})}),(0,u.jsx)("div",{className:"".concat(i["about-contact-block"]," ").concat(i["about-contact-block"]),children:(0,u.jsx)(c.A,{})})]})}},63:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(5043),i=n(3838),s=n(5472),a=n(5317),o=n(5475),l=n(9990),c=n(579);const u=e=>{let{title:t,featured:n}=e;const[i,u]=(0,r.useState)([]),[h,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{let e;return n&&(e=(0,s.aQ)((0,s.P)((0,s.rJ)(a.db,"projects"),(0,s._M)("isFeatured","==",!0),(0,s.My)("featuredIndex")),(e=>{let t=[];e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),d(t)}),(e=>{console.log(e)}))),()=>{e&&e()}}),[n]);(0,r.useEffect)((()=>{if(!n){let e="reference peace"===t?"referencePeace":"projects",n=(0,s.aQ)((0,s.rJ)(a.db,e),(e=>{let t=[];e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),u(t)}),(e=>{console.log(e)}));return()=>{n()}}}),[t,n]);const p=async(e,t)=>{try{1===t?await(0,s.kd)((0,s.H9)(a.db,"projects",e)):2===t&&await(0,s.kd)((0,s.H9)(a.db,"referencePeace",e)),u(i.filter((t=>t.id!==e)))}catch(n){console.log(n)}};return(0,c.jsxs)("div",{className:"ap-".concat(t,"-list all-projects-list"),children:[(0,c.jsxs)("div",{className:"all-projects-list-title",children:[(0,c.jsx)("h2",{children:t}),"reference peace"===t?(0,c.jsx)(o.N_,{to:"/projects/referencepeace/new",title:t,className:"add-project"}):n?"":(0,c.jsx)(o.N_,{to:"/projects/new",title:t,className:"add-project"})]}),(0,c.jsx)("div",{className:"".concat(t,"-list-wrap list-wrap"),children:n?(0,c.jsx)(l.JY,{onDragEnd:async e=>{if(!e.destination)return;const t=Array.from(h),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n);try{const e=(0,s.wP)(a.db);t.forEach(((t,n)=>{const r=(0,s.H9)(a.db,"projects",t.id);e.update(r,{featuredIndex:n})})),await e.commit(),d(t)}catch(r){console.error("Error updating order:",r)}},children:(0,c.jsx)(l.gL,{droppableId:"droppable",children:e=>(0,c.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"".concat(t,"-list-wrap list-wrap"),children:[h.map(((e,n)=>(0,c.jsx)(r.Fragment,{children:(0,c.jsx)(l.sx,{draggableId:e.id,index:n,children:n=>(0,c.jsxs)("div",{...n.draggableProps,...n.dragHandleProps,ref:n.innerRef,className:"".concat(t,"-list-item list-item"),children:[(0,c.jsx)("div",{className:"".concat(t,"-list-item-title list-item-title body"),children:e.displayName}),(0,c.jsxs)("div",{className:"".concat(t,"-").concat(e.displayName,"-actions list-item-actions"),children:[(0,c.jsx)(o.N_,{to:"/projects/".concat(e.id),className:"view-list-item-link",children:(0,c.jsx)("div",{className:"view-list-item"})}),(0,c.jsx)("div",{className:"remove-featured-button",onClick:()=>(async e=>{try{await(0,s.mZ)((0,s.H9)(a.db,"projects",e),{isFeatured:!1,featuredIndex:null})}catch(t){console.log(t)}})(e.id),children:(0,c.jsx)("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M11.2147 1.87812C11.3045 1.60172 11.6955 1.60172 11.7853 1.87812L14.0146 8.73901C14.0547 8.86262 14.1699 8.9463 14.2999 8.9463H21.5138C21.8045 8.9463 21.9253 9.31819 21.6902 9.48901L15.854 13.7293C15.7488 13.8057 15.7048 13.9411 15.745 14.0647L17.9742 20.9256C18.064 21.202 17.7477 21.4318 17.5126 21.261L11.6763 17.0207C11.5712 16.9443 11.4288 16.9443 11.3237 17.0207L5.48744 21.261C5.25233 21.4318 4.93598 21.202 5.02579 20.9256L7.25503 14.0647C7.29519 13.9411 7.25119 13.8057 7.14604 13.7293L1.30982 9.48901C1.07471 9.31819 1.19554 8.9463 1.48616 8.9463H8.70013C8.83009 8.9463 8.94528 8.86262 8.98544 8.73901L11.2147 1.87812Z",stroke:"black",strokeWidth:"1.6",strokeLinejoin:"round"})})})]})]})},e.id)},n))),e.placeholder]})})}):i.map((e=>(0,c.jsxs)("div",{className:"".concat(t,"-list-item list-item"),children:[(0,c.jsx)("div",{className:"".concat(t,"-list-item-title list-item-title body"),children:e.displayName}),(0,c.jsxs)("div",{className:"".concat(t,"-").concat(e.displayName,"-actions list-item-actions"),children:[(0,c.jsx)(o.N_,{to:"/".concat("reference peace"===t?"reference-peace":"projects","/").concat(e.id),className:"view-list-item-link",children:(0,c.jsx)("div",{className:"view-list-item"})}),(0,c.jsx)(o.N_,{to:"/projects/update/".concat(e.id),state:{id:e.id},className:"edit-list-item-link",children:(0,c.jsx)("div",{className:"edit-list-item"})}),"reference peace"!==t?(0,c.jsx)("div",{className:"delete-list-item",onClick:()=>p(e.id,1)}):(0,c.jsx)("div",{className:"delete-list-item",onClick:()=>p(e.id,2)}),"reference peace"!==t&&(0,c.jsx)("div",{className:"add-featured-button ".concat(e.isFeatured&&"featured-active"),onClick:()=>(async(e,t)=>{try{if(t)await(0,s.mZ)((0,s.H9)(a.db,"projects",e),{isFeatured:!1,featuredIndex:null}),console.log("Project ".concat(e," is no longer featured"));else{const t=(0,s.P)((0,s.rJ)(a.db,"projects"),(0,s._M)("isFeatured","==",!0),(0,s.My)("featuredIndex","desc"),(0,s.AB)(1)),n=await(0,s.GG)(t);let r=0;n.empty||(r=n.docs[0].data().featuredIndex+1),await(0,s.mZ)((0,s.H9)(a.db,"projects",e),{isFeatured:!0,featuredIndex:r}),console.log("Project ".concat(e," is now featured with index ").concat(r))}}catch(n){console.log("Error updating project ".concat(e,":"),n)}})(e.id,e.isFeatured),children:(0,c.jsx)("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M11.2147 1.87812C11.3045 1.60172 11.6955 1.60172 11.7853 1.87812L14.0146 8.73901C14.0547 8.86262 14.1699 8.9463 14.2999 8.9463H21.5138C21.8045 8.9463 21.9253 9.31819 21.6902 9.48901L15.854 13.7293C15.7488 13.8057 15.7048 13.9411 15.745 14.0647L17.9742 20.9256C18.064 21.202 17.7477 21.4318 17.5126 21.261L11.6763 17.0207C11.5712 16.9443 11.4288 16.9443 11.3237 17.0207L5.48744 21.261C5.25233 21.4318 4.93598 21.202 5.02579 20.9256L7.25503 14.0647C7.29519 13.9411 7.25119 13.8057 7.14604 13.7293L1.30982 9.48901C1.07471 9.31819 1.19554 8.9463 1.48616 8.9463H8.70013C8.83009 8.9463 8.94528 8.86262 8.98544 8.73901L11.2147 1.87812Z",stroke:"black",strokeWidth:"1.6",strokeLinejoin:"round"})})})]})]},e.id)))})]})},h=()=>{const{dispatch:e}=(0,i.f8)();return(0,r.useEffect)((()=>(e({type:"Small"}),()=>{e({type:"Default"})})),[e]),(0,c.jsxs)("div",{className:"all-projects-page-wrap",children:[(0,c.jsx)("div",{className:"top-bar"}),(0,c.jsxs)("div",{className:"all-projects-content",children:[(0,c.jsx)(u,{title:"portfolio"}),(0,c.jsx)(u,{title:"reference peace"}),(0,c.jsx)(u,{title:"featured",featured:!0})]})]})}},3892:(e,t,n)=>{"use strict";n.d(t,{Gt:()=>r,QO:()=>s,Su:()=>l,VI:()=>i,Vm:()=>c,az:()=>a,ko:()=>o});const r=[{id:"releaseDate",label:"Release Date",type:"date"},{id:"mainDescription1",label:"Main Description 1",type:"text",maxLength:65,placeholder:"..."},{id:"mainDescription2",label:"Main Description 2",type:"text",maxLength:65,placeholder:"..."}],i=[{id:"pdfName",label:"PDF Name",type:"text",placeholder:"..."}],s=[{id:"videoLink",label:"Video Link",type:"text",placeholder:"https://youtube.com"},{id:"videoName",label:"Video Name",type:"text",placeholder:"..."}],a=[{id:"releaseDate",label:"Release Date",type:"date"},{id:"videoLink",label:"Video Link",type:"text",placeholder:"https://youtube.com"},{id:"focusGenre",label:"Genre",type:"text",placeholder:"eg: Art Direction"},{id:"videoName",label:"Video Name",type:"text",placeholder:"Example Name"},{id:"mainDescription1",label:"Main Description 1",type:"text",maxLength:65,placeholder:"..."},{id:"mainDescription2",label:"Main Description 2",type:"text",maxLength:65,placeholder:"..."}],o=[{id:"detailsTitle",label:"Details Title",type:"text"},{id:"detailsFirstDescription",label:"Details First Description",type:"text",maxLength:65},{id:"detailsSecondDescription",label:"Details Second Section",type:"text",maxLength:65}],l=[{id:"textFirstDescription",label:"First Description",type:"text"},{id:"textSecondDescription",label:"Second Description",type:"text"}],c=[{id:"titleTitle",label:"Section Title",type:"text"}]},3874:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),i=n(2813),s=n(5317),a=n(3216),o=n(5502),l=n(579);const c=()=>{const[e,t]=(0,r.useState)(!1),[n,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),d=(0,a.Zp)(),{dispatch:p}=(0,r.useContext)(o.c);return(0,l.jsx)("div",{className:"login",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,i.x9)(s.j,n,u).then((e=>{const t=e.user;p({type:"LOGIN",payload:t}),d("/")})).catch((e=>{t(!0)}))},children:[(0,l.jsx)("input",{type:"email",placeholder:"email",onChange:e=>c(e.target.value)}),(0,l.jsx)("input",{type:"password",placeholder:"password",onChange:e=>h(e.target.value)}),(0,l.jsx)("button",{type:"submit",children:"Login"}),e&&(0,l.jsx)("span",{children:"Incorrect login details"})]})})}},4816:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(5043),i=n(3216),s=n(5472),a=n(5317),o=n(3838),l=n(3892),c=n(8147),u=n(922),h=n(579);const d=()=>(0,h.jsxs)("svg",{width:"426",height:"288",viewBox:"0 0 426 288",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mainherosvg",children:[(0,h.jsx)("path",{d:"M402.55 23H28.45C24.8878 23 22 25.8878 22 29.45V263.55C22 267.112 24.8878 270 28.45 270H402.55C406.112 270 409 267.112 409 263.55V29.45C409 25.8878 406.112 23 402.55 23Z",fill:"white"}),(0,h.jsx)("path",{d:"M402.55 27C403.9 27 405 28.1 405 29.45V263.54C405 264.89 403.9 265.99 402.55 265.99H28.45C27.1 265.99 26 264.89 26 263.54V29.45C26 28.1 27.1 27 28.45 27H402.54M402.55 19H28.45C22.68 19 18 23.68 18 29.45V263.54C18 269.31 22.68 273.99 28.45 273.99H402.54C408.31 273.99 412.99 269.31 412.99 263.54V29.45C412.99 23.68 408.31 19 402.54 19H402.55Z",fill:"#D9D9D9"}),(0,h.jsxs)("g",{className:"desc1",children:[(0,h.jsx)("path",{d:"M90.6581 216.152H42.4603C41.2892 216.152 40.3398 217.102 40.3398 218.273V218.366C40.3398 219.537 41.2892 220.486 42.4603 220.486H90.6581C91.8292 220.486 92.7786 219.537 92.7786 218.366V218.273C92.7786 217.102 91.8292 216.152 90.6581 216.152Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M90.6581 224.098H42.4603C41.2892 224.098 40.3398 225.047 40.3398 226.218V226.311C40.3398 227.482 41.2892 228.432 42.4603 228.432H90.6581C91.8292 228.432 92.7786 227.482 92.7786 226.311V226.218C92.7786 225.047 91.8292 224.098 90.6581 224.098Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M90.6581 232.041H42.4603C41.2892 232.041 40.3398 232.99 40.3398 234.161V234.255C40.3398 235.426 41.2892 236.375 42.4603 236.375H90.6581C91.8292 236.375 92.7786 235.426 92.7786 234.255V234.161C92.7786 232.99 91.8292 232.041 90.6581 232.041Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M83.4227 239.986H42.4603C41.2892 239.986 40.3398 240.936 40.3398 242.107V242.2C40.3398 243.371 41.2892 244.32 42.4603 244.32H83.4227C84.5938 244.32 85.5432 243.371 85.5432 242.2V242.107C85.5432 240.936 84.5938 239.986 83.4227 239.986Z",fill:"#D9D9D9"})]}),(0,h.jsxs)("g",{className:"desc2",children:[(0,h.jsx)("path",{d:"M151.88 216.152H103.682C102.511 216.152 101.562 217.102 101.562 218.273V218.366C101.562 219.537 102.511 220.486 103.682 220.486H151.88C153.051 220.486 154 219.537 154 218.366V218.273C154 217.102 153.051 216.152 151.88 216.152Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M151.88 224.098H103.682C102.511 224.098 101.562 225.047 101.562 226.218V226.311C101.562 227.482 102.511 228.432 103.682 228.432H151.88C153.051 228.432 154 227.482 154 226.311V226.218C154 225.047 153.051 224.098 151.88 224.098Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M151.88 232.041H103.682C102.511 232.041 101.562 232.99 101.562 234.161V234.255C101.562 235.426 102.511 236.375 103.682 236.375H151.88C153.051 236.375 154 235.426 154 234.255V234.161C154 232.99 153.051 232.041 151.88 232.041Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M144.644 239.986H103.682C102.511 239.986 101.562 240.936 101.562 242.107V242.2C101.562 243.371 102.511 244.32 103.682 244.32H144.644C145.815 244.32 146.765 243.371 146.765 242.2V242.107C146.765 240.936 145.815 239.986 144.644 239.986Z",fill:"#D9D9D9"})]}),(0,h.jsx)("path",{className:"image",d:"M386.08 46H214.92C213.86 46 213 46.8596 213 47.92V248.08C213 249.14 213.86 250 214.92 250H386.08C387.14 250 388 249.14 388 248.08V47.92C388 46.8596 387.14 46 386.08 46Z",fill:"#D9D9D9"}),(0,h.jsxs)("g",{className:"title",children:[(0,h.jsx)("path",{d:"M197.08 144H41.92C40.8596 144 40 144.86 40 145.92V169.08C40 170.14 40.8596 171 41.92 171H197.08C198.14 171 199 170.14 199 169.08V145.92C199 144.86 198.14 144 197.08 144Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M197.08 178H41.92C40.8596 178 40 178.86 40 179.92V203.08C40 204.14 40.8596 205 41.92 205H197.08C198.14 205 199 204.14 199 203.08V179.92C199 178.86 198.14 178 197.08 178Z",fill:"#D9D9D9"})]}),(0,h.jsx)("path",{className:"videoName",d:"M197.311 228H164.689C163.756 228 163 228.876 163 229.957V230.043C163 231.124 163.756 232 164.689 232H197.311C198.244 232 199 231.124 199 230.043V229.957C199 228.876 198.244 228 197.311 228Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{className:"link",d:"M198.565 235H163.435C163.195 235 163 235.287 163 235.64V243.36C163 243.713 163.195 244 163.435 244H198.565C198.805 244 199 243.713 199 243.36V235.64C199 235.287 198.805 235 198.565 235Z",fill:"#D9D9D9"})]}),p=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"fiftyfiftysvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:".cls-1 {\n            fill: #d9d9d9;\n          }\n\n          .cls-1, .cls-2 {\n            stroke-width: 0px;\n          }\n\n          .cls-2 {\n            fill: #fff;\n          }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsxs)("g",{className:"desc-1",children:[(0,h.jsx)("rect",{className:"cls-1",x:"40.34",y:"205",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"40.34",y:"216.09",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"40.34",y:"227.18",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"40.34",y:"238.27",width:"63.1",height:"6.05",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{className:"desc2",children:[(0,h.jsx)("rect",{className:"cls-1",x:"125.8",y:"205",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"125.8",y:"216.09",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"125.8",y:"227.18",width:"73.2",height:"6.05",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"125.8",y:"238.27",width:"63.1",height:"6.05",rx:"2.96",ry:"2.96"})]}),(0,h.jsx)("rect",{className:"cls-1 image",x:"213",y:"46",width:"175",height:"204",rx:"1.92",ry:"1.92"}),(0,h.jsxs)("g",{className:"title",children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"54",width:"159",height:"27",rx:"1.92",ry:"1.92"}),(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"88",width:"159",height:"27",rx:"1.92",ry:"1.92"})]})]}),f=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"largeimagesvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:".cls-1 {\n            fill: #d9d9d9;\n          }\n\n          .cls-1, .cls-2 {\n            stroke-width: 0px;\n          }\n\n          .cls-2 {\n            fill: #fff;\n          }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsx)("rect",{className:"cls-1 image",x:"40",y:"43",width:"348",height:"210",rx:"5.66",ry:"5.66"}),(0,h.jsxs)("g",{className:"desc",children:[(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"280.34",y:"190",width:"79.66",height:"6.58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("path",{className:"cls-2",d:"M357.04,190h-73.74c-1.64,0-2.96,1.33-2.96,2.96v.66c0,1.64,1.33,2.96,2.96,2.96h73.74c1.64,0,2.96-1.33,2.96-2.96v-.66c0-1.64-1.33-2.96-2.96-2.96h0Z"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"280.34",y:"202.07",width:"79.66",height:"6.58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("path",{className:"cls-2",d:"M357.04,202.07h-73.74c-1.64,0-2.96,1.33-2.96,2.96v.66c0,1.64,1.33,2.96,2.96,2.96h73.74c1.64,0,2.96-1.33,2.96-2.96v-.66c0-1.64-1.33-2.96-2.96-2.96h0Z"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"280.34",y:"214.14",width:"79.66",height:"6.58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("path",{className:"cls-2",d:"M357.04,214.14h-73.74c-1.64,0-2.96,1.33-2.96,2.96v.66c0,1.64,1.33,2.96,2.96,2.96h73.74c1.64,0,2.96-1.33,2.96-2.96v-.66c0-1.64-1.33-2.96-2.96-2.96h0Z"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"280.34",y:"226.21",width:"68.66",height:"6.58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("path",{className:"cls-2",d:"M346.04,226.21h-62.74c-1.64,0-2.96,1.33-2.96,2.96v.66c0,1.64,1.33,2.96,2.96,2.96h62.74c1.64,0,2.96-1.33,2.96-2.96v-.66c0-1.64-1.33-2.96-2.96-2.96h0Z"})]})]})]}),m=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"masonrysvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:".cls-1 {\n        fill: #d9d9d9;\n      }\n\n      .cls-1, .cls-2 {\n        stroke-width: 0px;\n      }\n\n      .cls-2 {\n        fill: #fff;\n      }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsxs)("g",{className:"image",children:[(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"40",width:"79.99",height:"58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"107",width:"79.99",height:"40",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"156",width:"79.99",height:"97",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"40",width:"79.99",height:"58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"107",width:"79.99",height:"67",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"182",width:"79.99",height:"71",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"219.84",y:"40",width:"79.99",height:"109",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"220.02",y:"159",width:"79.99",height:"40",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"219.84",y:"208",width:"79.99",height:"45",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"40",width:"79.99",height:"45",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"94",width:"79.99",height:"80",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"182",width:"79.99",height:"71",rx:"2.96",ry:"2.96"})]})]}),g=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"textsvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:"\n      .cls-1 {\n        fill: #d9d9d9;\n      }\n\n      .cls-1, .cls-2 {\n        stroke-width: 0px;\n      }\n\n      .cls-2 {\n        fill: #fff;\n      }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsx)("path",{className:"cls-1",d:"M40,206h348v55.34c0,3.12-2.54,5.66-5.66,5.66H45.66c-3.12,0-5.66-2.54-5.66-5.66v-55.34h0Z",transform:"translate(428 473) rotate(180)"}),(0,h.jsxs)("g",{className:"text",children:[(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"107.03",width:"151.7",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"107",width:"148.1",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"119.1",width:"148.41",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"119.07",width:"153.5",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"131.17",width:"143.01",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"131.14",width:"148.1",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"143.24",width:"151.7",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"143.21",width:"150.8",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"155.31",width:"148.41",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"155.28",width:"148.1",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"167.38",width:"151.7",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"167.35",width:"142.71",height:"6.58",rx:"2.96",ry:"2.96"})]}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-1",x:"40",y:"179.45",width:"145.71",height:"6.55",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"223.5",y:"179.42",width:"113.02",height:"6.58",rx:"2.96",ry:"2.96"})]})]}),(0,h.jsx)("path",{className:"cls-1",d:"M40,26h348v55.34c0,3.12-2.54,5.66-5.66,5.66H45.66c-3.12,0-5.66-2.54-5.66-5.66V26h0Z"})]}),v=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"titlesvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:"\n      .cls-1 {\n        fill: #d9d9d9;\n      }\n\n      .cls-1, .cls-2 {\n        stroke-width: 0px;\n      }\n\n      .cls-2 {\n        fill: #fff;\n      }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsx)("path",{className:"cls-1",d:"M40,206h348v55.34c0,3.12-2.54,5.66-5.66,5.66H45.66c-3.12,0-5.66-2.54-5.66-5.66v-55.34h0Z",transform:"translate(428 473) rotate(180)"}),(0,h.jsx)("path",{className:"cls-1",d:"M40,26h348v55.34c0,3.12-2.54,5.66-5.66,5.66H45.66c-3.12,0-5.66-2.54-5.66-5.66V26h0Z"}),(0,h.jsxs)("g",{className:"title",children:[(0,h.jsx)("rect",{className:"cls-1",x:"90",y:"116",width:"246",height:"27",rx:"1.92",ry:"1.92"}),(0,h.jsx)("rect",{className:"cls-1",x:"135",y:"150",width:"159",height:"27",rx:"1.92",ry:"1.92"})]})]});var y=n(9990);const b=e=>{let{sectionOrder:t,setSectionOrder:n}=e;return(0,h.jsx)("div",{className:"drag-list",children:(0,h.jsx)(y.JY,{onDragEnd:e=>{if(!e.destination)return;const r=Array.from(t),[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),n(r)},children:(0,h.jsx)(y.gL,{droppableId:"sections",children:e=>(0,h.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[t.map(((e,t)=>(0,h.jsx)(r.Fragment,{children:0===t?(0,h.jsx)("div",{className:"drag-item non-drag",children:(0,h.jsxs)("div",{className:"body",children:[e.name||e," ",e.index||null]})}):(0,h.jsx)(y.sx,{draggableId:"item-".concat(t),index:t,children:t=>(0,h.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"drag-item",children:(0,h.jsxs)("div",{className:"body",children:[e.name||e," ",e.index||null]})})})},t))),e.placeholder]})})})})},w=e=>{let{inputs:t,title:n}=e;const[y,w]=(0,r.useState)(null),A=(0,i.Zp)(),[_,x]=(0,r.useState)({}),[E,S]=(0,r.useState)(["main, image1"]),[C,T]=(0,r.useState)(0),[k,I]=(0,r.useState)(0),[P,N]=(0,r.useState)(0),[R,M]=(0,r.useState)(0),[D,j]=(0,r.useState)(0),[L,O]=(0,r.useState)(["main",{name:"image",index:1}]),[F,U]=(0,r.useState)(""),{dispatch:V}=(0,o.f8)(),[B,H]=(0,r.useState)(Array.from({length:25},(()=>[]))),[z,W]=(0,r.useState)([]),[G,q]=(0,r.useState)([]),[K,Y]=(0,r.useState)([]),[X,Q]=(0,r.useState)([]),[J,Z]=(0,r.useState)(null),[$,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)("#0000FF");(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--project-color",te)}),[te]),(0,r.useEffect)((()=>{F&&(async()=>{const e=(new Date).getTime()+F.name,t=(0,c.KR)(a.I,"images/".concat(e));try{const e=(0,c.bp)(t,F);e.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),w(t)}),(e=>{console.log("Error during upload:",e)}),(async()=>{try{const t=await(0,c.qk)(e.snapshot.ref);x((e=>({...e,img:t})))}catch(t){console.log("Error getting download URL:",t)}}))}catch(n){console.log("Error uploading file:",n)}})()}),[F]);const re=()=>{Z(null)},ie=e=>{e.preventDefault()},se=e=>{const t=e.target.id,n=e.target.value;x({..._,[t]:n})},ae=e=>{let t="",n="",r=0;if("detail"===e&&z.length<10){n="detail";const e={id:"detail".concat(z.length+1)};W((t=>[...t,e])),t=e.id,r=z.length+1}else if("image"===e&&C<10)n="image",T((e=>e+1)),t="".concat(n+C+2),r=C+2;else if("text"===e&&G.length<10){n="text";const e={id:"text".concat(G.length+1)};q((t=>[...t,e])),t=e.id,r=G.length+1}else if("largeImage"===e&&K.length<10){n="largeImage";const e={id:"largeImage".concat(K.length+1)};Y((t=>[...t,e])),t=e.id,r=K.length+1}else if("title"===e&&X.length<10){n="title";const e={id:"title".concat(X.length+1)};Q((t=>[...t,e])),t=e.id,r=X.length+1}t&&(S((e=>[...e,t])),O((e=>[...e,{name:n,index:r}])),H((e=>[...e,[]])))},oe=e=>{if("main"!==e){const t=e.startsWith("image")?"image":e.startsWith("detail")?"detail":e.startsWith("text")?"text":e.startsWith("largeImage")?"largeImage":"title",n=parseInt(e.replace("".concat(t),""),10),r=E.filter((t=>t!==e));if(S(r),"image"===t){const e=[...B];e.splice(n,1),H(e),T((e=>e-1))}else"detail"===t?(I((e=>e-1)),W((t=>t.filter((t=>t.id!==e)))),H((e=>e.filter(((e,t)=>t!==n))))):"text"===t?(q((t=>t.filter((t=>t.id!==e)))),N((e=>e-1))):"largeImage"===t?(Y((t=>t.filter((t=>t.id!==e)))),j((e=>e-1))):"title"===t&&(Q((t=>t.filter((t=>t.id!==e)))),M((e=>e-1)));O((t=>t.filter((t=>t!==e))))}};(0,r.useEffect)((()=>{console.log(L)}),[L]);const le=async(e,t)=>new Promise(((n,r)=>{const i=new FileReader;i.onload=e=>{const r=new Image;r.src=e.target.result,r.onload=()=>{const e=document.createElement("canvas"),i=t/r.width;e.width=t,e.height=r.height*i;e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob((e=>{n(e)}),"image/jpeg",.9)}},i.onerror=e=>r(e),i.readAsDataURL(e)})),ce=async e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const n=new Image;n.src=e.target.result,n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const r=e.getContext("2d");r.drawImage(n,0,0);const i=r.getImageData(0,0,e.width,e.height),s=(0,u.lF)(i.data,i.width,i.height,4,3);t(s)}},r.onerror=e=>n(e),r.readAsDataURL(e)})),ue=e=>e.replace(/\s+/g,"").toLowerCase(),he=["main","image0",...Array.from({length:C},((e,t)=>"image".concat(t+1)))];(0,r.useEffect)((()=>(V({type:"Small"}),()=>{V({type:"Default"})})),[V]);const de=(e,t,n,r)=>{const i=[...B];i[e]||(i[e]={}),r?i[e].featuredImage=[n]:i[e].largeImages=[n],H(i)};return(0,r.useEffect)((()=>{console.log(he)}),[he]),(0,h.jsx)("div",{className:"new",children:(0,h.jsxs)("div",{className:"all-projects-page-wrap",children:[(0,h.jsxs)("div",{className:"project-sidebar",children:[(0,h.jsx)("div",{className:"sidebar-top"}),(0,h.jsx)("div",{className:"sidebar-middle",children:L&&O&&(0,h.jsx)(b,{sectionOrder:L,setSectionOrder:O})}),(0,h.jsxs)("div",{className:"sidebar-bottom",children:[(0,h.jsx)(d,{}),(0,h.jsx)(m,{}),(0,h.jsx)(p,{}),(0,h.jsx)(f,{}),(0,h.jsx)(g,{}),(0,h.jsx)(v,{})]})]}),(0,h.jsx)("div",{className:"add-projects-content",children:(0,h.jsx)("div",{className:"add-projects-list",children:(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={displayName:_.displayName,releaseDate:_.releaseDate,videoLink:_.videoLink,focusGenre:_.focusGenre,videoName:_.videoName,projectColor:te,isFeatured:!1,featuredIndex:null,mainDescription1:_.mainDescription1,mainDescription2:_.mainDescription2,mainFeaturedImage:$||null,timeStamp:(0,s.O5)(),sectionOrder:L,featuredOrder:1,imageUrls:{},details:{},textSections:{},titleSections:{},largeImageSections:{}};if($){const t=(new Date).getTime()+$.name,n=(0,c.KR)(a.I,"mainFeaturedImages/".concat(t)),r=(0,c.bp)(n,$);await r;const i=await(0,c.qk)(r.snapshot.ref),s=await le($,50),o=(new Date).getTime()+"-blurhash.jpeg",l=(0,c.KR)(a.I,"mainFeaturedImages/".concat(o)),u=(0,c.bp)(l,s);await u;const h=await(0,c.qk)(u.snapshot.ref);e.mainFeaturedImage={url:i,blurhash:h}}let i=1;if($){const t=(new Date).getTime()+$.name,n=(0,c.KR)(a.I,"mainFeaturedImages/".concat(t)),r=(0,c.bp)(n,$);await r;const i=await(0,c.qk)(r.snapshot.ref),s=await le($,50),o=(new Date).getTime()+"-blurhash.jpeg",l=(0,c.KR)(a.I,"mainFeaturedImages/".concat(o)),u=(0,c.bp)(l,s);await u;const h=await(0,c.qk)(u.snapshot.ref);e.mainFeaturedImage={url:i,blurhash:h}}for(let t=1;t<=C+2;t++){const n=[];for(let e=0;e<B[t-1].length;e++){const r=B[t-1][e];if(r){const e=(new Date).getTime()+r.name,s=(0,c.KR)(a.I,"image".concat(t,"/").concat(e));await(0,c.bp)(s,r);const o=await(0,c.qk)(s),l=await le(r,50),u=(await ce(l),(new Date).getTime()+"-blurhash.jpeg"),h=(0,c.KR)(a.I,"image".concat(t,"/").concat(u));await(0,c.bp)(h,l);const d=await(0,c.qk)(h);n.push({id:i++,url:o,blurhash:d})}}n.length>0&&(e.imageUrls["image".concat(t-1)]=n)}for(const n of z){var t,r;const i=parseInt(n.id.replace("detail",""));if(e.details[i]={firstDescription:_["".concat(n.id,"-detailsFirstDescription")],secondDescription:_["".concat(n.id,"-detailsSecondDescription")],title:_["".concat(n.id,"-detailsTitle")],featuredImage:{}},null!==(t=B[i])&&void 0!==t&&null!==(r=t.featuredImage)&&void 0!==r&&r[0]){const t=B[i].featuredImage[0],n=(new Date).getTime()+t.name,r=(0,c.KR)(a.I,"featuredImages/".concat(n)),s=(0,c.bp)(r,t);await s;const o=await(0,c.qk)(s.snapshot.ref),l=await le(t,50),u=(await ce(l),(new Date).getTime()+"-blurhash.jpeg"),h=(0,c.KR)(a.I,"featuredImages/".concat(u)),d=(0,c.bp)(h,l);await d;const p=await(0,c.qk)(d.snapshot.ref);e.details[i].featuredImage={url:o,blurhash:p}}}for(const t of G)e.textSections[t.id]={firstDescription:_["".concat(t.id,"-textFirstDescription")],secondDescription:_["".concat(t.id,"-textSecondDescription")]};for(const t of X)e.titleSections[t.id]={title:_["".concat(t.id,"-titleTitle")]};for(let t=0;t<=K.length;t++){K[t];if(B[t]&&B[t].largeImages)for(let n=0;n<=B[t].largeImages.length;n++){const r=B[t].largeImages[n];if(r){const n=(new Date).getTime()+r.name,i=(0,c.KR)(a.I,"largeImages/".concat(n)),s=(0,c.bp)(i,r);await s;const o=await(0,c.qk)(s.snapshot.ref),l=await le(r,50),u=(await ce(l),(new Date).getTime()+"-blurhash.jpeg"),h=(0,c.KR)(a.I,"largeImages/".concat(u)),d=(0,c.bp)(h,l);await d;const p=await(0,c.qk)(d.snapshot.ref);e.largeImageSections[t]||(e.largeImageSections[t]=[]),e.largeImageSections[t].push({largeImage:o,blurhash:p})}}}if("Reference Peace"===n){const t=(0,s.H9)(a.db,"referencePeace",_.displayName);await(0,s.BN)(t,e)}else{const t=(0,s.H9)(a.db,"projects",_.displayName);await(0,s.BN)(t,e)}A(-1)}catch(i){console.error(i)}},children:[(0,h.jsxs)("div",{children:[$&&(0,h.jsxs)("div",{className:"uploaded-image-wrap",children:[(0,h.jsx)("img",{src:URL.createObjectURL($),alt:"main-featured-image",className:"uploaded-image-preview"}),(0,h.jsxs)("p",{className:"body",children:[(0,h.jsx)("span",{children:"*"}),"Keep in mind the featured image will be viewed in variable dimensions, Aim to keep subject matter centered appropriately"]})]}),(0,h.jsx)("div",{className:"section-title ".concat($&&"image-preview"),children:"Main Section"}),(0,h.jsxs)("div",{className:"formInput projectname",children:[(0,h.jsx)("label",{children:"Project Name"}),(0,h.jsx)("input",{id:"displayName",type:"text",placeholder:"domengo",onChange:se,required:!0})]}),(0,h.jsxs)("div",{className:"formInput projectColor",children:[(0,h.jsx)("label",{children:"Project Color"}),(0,h.jsx)("input",{id:"projectColour",type:"color",value:te,onChange:e=>{ne(e.target.value)}})]}),(0,h.jsxs)("div",{className:"formInput projectImage",children:[(0,h.jsx)("label",{children:"Featured Image"}),(0,h.jsx)("input",{type:"file",accept:"image/*",onChange:e=>ee(e.target.files[0])})]}),l.az.map((e=>(0,h.jsxs)("div",{className:"formInput ".concat(ue(e.label)),children:[(0,h.jsx)("label",{children:e.label}),(0,h.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:se,maxLength:e.maxLength||null,required:!0})]},e.id)))]}),(0,h.jsx)("div",{className:"uploaded-section-wrap detail-section"}),L.map(((e,t)=>{if("main"===e.name)return(0,h.jsx)("div",{},"main-".concat(t));if("detail"===e.name){const t=z.find((t=>t.id==="detail".concat(e.index)));var n;if(t)return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:t.id,children:[(0,h.jsx)("div",{className:"section-title",children:"Detail Section ".concat(e.index)}),(0,h.jsxs)("div",{className:"formInput",children:[(0,h.jsx)("label",{children:"Upload Featured Image"}),(0,h.jsx)("input",{type:"file",accept:"image/*",onChange:t=>de(e.index,0,t.target.files[0],!0)})]}),(null===(n=B[e.index])||void 0===n?void 0:n.featuredImage)&&(0,h.jsx)("img",{src:URL.createObjectURL(B[e.index].featuredImage[0]),alt:"featured-image",className:"uploaded-image-preview"}),l.ko.map((t=>(0,h.jsxs)("div",{className:"formInput ".concat(ue(t.label)),children:[(0,h.jsx)("label",{children:t.label}),(0,h.jsx)("input",{id:"detail".concat(e.index,"-").concat(t.id),type:t.type,placeholder:t.placeholder,onChange:se,maxLength:t.maxLength||null,required:!0})]},t.id))),(0,h.jsxs)("button",{type:"button",onClick:()=>oe(t.id),children:["Remove Detail Section ",e.index]})]})},"detail-".concat(e.index))}else if("image"===e.name){if(he.find((t=>t==="image".concat(e.index-1))))return(0,h.jsx)("div",{className:"uploaded-image-section-wrap",children:(0,h.jsxs)("div",{className:"body image-section-title",children:[(0,h.jsxs)("span",{children:["Image Section ",e.index]}),(0,h.jsxs)("div",{className:"image-section-".concat(e.index),children:[[...Array(24)].map(((t,n)=>(0,h.jsxs)("div",{className:"image-section ".concat(n===J?"drag-over":""," list-map-wrap"),onDragEnter:()=>{return t=e.index,void Z(t);var t},onDragLeave:re,onDragOver:ie,onDrop:t=>((e,t,n)=>{e.preventDefault(),Z(null);const r=e.dataTransfer.files,i=Array.from(r).slice(0,Math.min(r.length,25-n)),s=[...B];s[t].splice(n,i.length,...i),H(s)})(t,e.index,n),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{type:"file",id:"file-".concat(e.index,"-").concat(n),onChange:t=>de(e.index,0,t.target.files[0]),style:{display:"none"},accept:"image/*"}),(0,h.jsx)("label",{htmlFor:"file-".concat(e.index,"-").concat(n),className:"file-label primary-button",children:(0,h.jsxs)("span",{children:["image ",n+1]})})]}),(0,h.jsx)("img",{src:B[e.index]&&B[e.index][n]?URL.createObjectURL(B[e.index][n]):"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",alt:"uploaded-image",className:"map-image-upload-thumb"})]},n))),(0,h.jsxs)("button",{type:"button",onClick:()=>oe("image".concat(e.index)),children:["Remove Image Section ",e.index]})]})]},"image-".concat(e.index))})}else if("text"===e.name){const t=G.find((t=>t.id==="text".concat(e.index)));if(t)return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"section-wrap",children:[(0,h.jsx)("div",{className:"section-title",children:"Text Section ".concat(e.index)}),l.Su.map((t=>(0,h.jsxs)("div",{className:"formInput ".concat(ue(t.label)),children:[(0,h.jsx)("label",{children:t.label}),(0,h.jsx)("input",{id:"text".concat(e.index,"-").concat(t.id),type:t.type,placeholder:t.placeholder,onChange:se,maxLength:t.maxLength||null,required:!0})]},t.id))),(0,h.jsxs)("button",{type:"button",onClick:()=>oe(t.id),children:["Remove Text Section ",e.index]})]})},"text-".concat(e.index))}else if("largeImage"===e.name){const t=K.find((t=>t.id==="largeImage".concat(e.index)));var r,i;if(t)return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"section-wrap",children:[(0,h.jsx)("div",{className:"section-title",children:"Large Image Section ".concat(e.index)}),(0,h.jsxs)("div",{className:"formInput",children:[(0,h.jsx)("label",{children:"Upload Large Image"}),(0,h.jsx)("input",{type:"file",accept:"image/*",onChange:t=>de(e.index,0,t.target.files[0],!1)})]}),(null===(r=B[e.index])||void 0===r||null===(i=r.largeImages)||void 0===i?void 0:i[0])&&(0,h.jsx)("img",{src:URL.createObjectURL(B[e.index].largeImages[0]),alt:"large-image",className:"uploaded-image-preview"}),(0,h.jsxs)("button",{type:"button",onClick:()=>oe(t.id),children:["Remove Large Image Section ",e.index]})]})},"largeImage-".concat(e.index))}else if("title"===e.name){const t=X.find((t=>t.id==="title".concat(e.index)));if(t)return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"section-title",children:"Title Section ".concat(e.index)}),l.Vm.map((t=>(0,h.jsxs)("div",{className:"formInput ".concat(ue(t.label)),children:[(0,h.jsx)("label",{children:t.label}),(0,h.jsx)("input",{id:"title".concat(e.index,"-").concat(t.id),type:t.type,placeholder:t.placeholder,onChange:se,maxLength:t.maxLength||null,required:!0})]},t.id))),(0,h.jsxs)("button",{type:"button",onClick:()=>oe(t.id),children:["Remove Title Section ",e.index]})]},"title-".concat(e.index))}})),(0,h.jsxs)("div",{className:"add-button-grid",children:[(0,h.jsxs)("button",{type:"button",onClick:()=>ae("detail"),disabled:E.includes("detail"),children:[(0,h.jsx)(p,{}),"Add Detail Section"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>ae("image"),disabled:E.includes("image")||10===C,children:[(0,h.jsx)(m,{}),"Add Image Section"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>ae("text"),disabled:E.includes("text")||10===C,children:[(0,h.jsx)(g,{}),"Add Text Section"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>ae("largeImage"),disabled:E.includes("largeImage")||10===C,children:[(0,h.jsx)(f,{}),"Add Large Image Section"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>ae("title"),disabled:E.includes("title")||10===C,children:[(0,h.jsx)(v,{}),"Add Title Section"]})]}),(0,h.jsx)("button",{disabled:null!=y&&y<100,type:"submit",className:"submit-project",children:(0,h.jsx)("span",{children:"Send"})}),y]})})})]})})}},3235:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),i=n(3216),s=n(5472),a=n(5317),o=(n(3892),n(8147)),l=n(579);const c=()=>{const e=(0,i.Zp)(),{projectId:t}=(0,i.g)(),[n,c]=(0,r.useState)({}),[u,h]=(0,r.useState)([]),[d,p]=(0,r.useState)([]),[f,m]=(0,r.useState)(null),g=(0,o.c7)();(0,r.useEffect)((()=>{(async()=>{try{const e=(0,s.H9)(a.db,"projects",t),n=await(0,s.x7)(e);if(n.exists()){const e=n.data();c(e),h(e.imageUrls||[]),p(e.details||{})}}catch(e){console.error("Error fetching project data:",e)}})()}),[t]);const v=e=>{const{id:t,value:n}=e.target;if(t.startsWith("image-")){const e=parseInt(t.split("-")[1]),r=parseInt(t.split("-")[2]);h((t=>{const i={...t};return i["image".concat(e)][r]=n,i}))}else if(t.startsWith("detail-")){const[e,r,i]=t.split("-");p((e=>{const t={...e};return t[r][i]=n,t}))}else c((e=>({...e,[t]:n})))},y=async()=>{const e=[];for(let n=0;n<u.length;n++){const r=[];for(let e=0;e<u[n].length;e++){const i=u[n][e];if(i instanceof File){const e=(0,o.KR)(g,"imageSection".concat(n,"/").concat(i.name)),s=(0,o.bp)(e,i);try{await s;const t=await(0,o.qk)(e);r.push(t)}catch(t){console.error("Error uploading image:",t)}}else r.push(i)}e.push(r)}return e};return(0,l.jsx)("div",{className:"update-portfolio",children:(0,l.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{const r=await y(),i={...n,imageUrls:r,timeStamp:(0,s.O5)()};await(0,s.mZ)((0,s.H9)(a.db,"projects",t),i),e(-1)}catch(i){console.error("Error updating project:",i)}},children:[(0,l.jsx)("div",{className:"section-title",children:"Main Section"}),Object.keys(u).map(((e,t)=>(0,l.jsxs)("div",{className:"section-title",children:["Image Section ",t+1,u[e].map(((e,n)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:e,alt:"Image ".concat(n+1)}),f&&f.sectionIndex===t&&f.imageIndex===n&&(0,l.jsx)("div",{}),(0,l.jsx)("button",{onClick:e=>((e,t,n)=>{n.preventDefault(),m({sectionIndex:e,imageIndex:t})})(t,n,e),children:"Edit Image"})]},"image-".concat(t,"-").concat(n))))]},"image-section-".concat(t)))),Object.entries(d).map((e=>{let[t,n]=e;return(0,l.jsxs)("div",{className:"section-title",children:["Detail Section ",t.replace("detail",""),Object.entries(n).map((e=>{let[n,r]=e;return(0,l.jsxs)("div",{className:"formInput",children:[(0,l.jsx)("label",{children:n}),(0,l.jsx)("input",{type:"text",id:"detail-".concat(t,"-").concat(n),value:r,placeholder:n,onChange:v,required:!0})]},n)}))]},"detail-section-".concat(t))})),(0,l.jsx)("button",{type:"submit",children:"Update"})]})})}},8971:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(5043),i=n(3216),s=n(5472),a=n(5317),o=n(3838),l=n(3892),c=n(8147),u=n(922),h=n(579);const d=()=>(0,h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426 288",className:"masonrysvg",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("style",{children:".cls-1 {\n        fill: #d9d9d9;\n      }\n\n      .cls-1, .cls-2 {\n        stroke-width: 0px;\n      }\n\n      .cls-2 {\n        fill: #fff;\n      }"})}),(0,h.jsxs)("g",{children:[(0,h.jsx)("rect",{className:"cls-2",x:"22",y:"23",width:"387",height:"247",rx:"6.45",ry:"6.45"}),(0,h.jsx)("path",{className:"cls-1",d:"M402.55,27c1.35,0,2.45,1.1,2.45,2.45v234.09c0,1.35-1.1,2.45-2.45,2.45H28.45c-1.35,0-2.45-1.1-2.45-2.45V29.45c0-1.35,1.1-2.45,2.45-2.45h374.09M402.55,19H28.45c-5.77,0-10.45,4.68-10.45,10.45v234.09c0,5.77,4.68,10.45,10.45,10.45h374.09c5.77,0,10.45-4.68,10.45-10.45V29.45c0-5.77-4.68-10.45-10.45-10.45h0Z"})]}),(0,h.jsxs)("g",{className:"image",children:[(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"40",width:"79.99",height:"58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"107",width:"79.99",height:"40",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"42.5",y:"156",width:"79.99",height:"97",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"40",width:"79.99",height:"58",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"107",width:"79.99",height:"67",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"131.17",y:"182",width:"79.99",height:"71",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"219.84",y:"40",width:"79.99",height:"109",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"220.02",y:"159",width:"79.99",height:"40",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"219.84",y:"208",width:"79.99",height:"45",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"40",width:"79.99",height:"45",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"94",width:"79.99",height:"80",rx:"2.96",ry:"2.96"}),(0,h.jsx)("rect",{className:"cls-1",x:"308.51",y:"182",width:"79.99",height:"71",rx:"2.96",ry:"2.96"})]})]}),p=()=>(0,h.jsxs)("svg",{width:"363",height:"246",viewBox:"0 0 363 246",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M342.968 19.5967H24.239C21.204 19.5967 18.7437 22.057 18.7437 25.092V224.542C18.7437 227.577 21.204 230.038 24.239 230.038H342.968C346.003 230.038 348.463 227.577 348.463 224.542V25.092C348.463 22.057 346.003 19.5967 342.968 19.5967Z",fill:"white"}),(0,h.jsx)("path",{d:"M342.968 23.0044C344.118 23.0044 345.055 23.9416 345.055 25.0918V224.534C345.055 225.684 344.118 226.621 342.968 226.621H24.2392C23.089 226.621 22.1518 225.684 22.1518 224.534V25.0918C22.1518 23.9416 23.089 23.0044 24.2392 23.0044H342.959M342.968 16.1885H24.2392C19.3232 16.1885 15.3359 20.1758 15.3359 25.0918V224.534C15.3359 229.45 19.3232 233.437 24.2392 233.437H342.959C347.875 233.437 351.863 229.45 351.863 224.534V25.0918C351.863 20.1758 347.875 16.1885 342.959 16.1885H342.968Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M325.749 36.6357H38.9018C36.2386 36.6357 34.0796 38.7947 34.0796 41.458V210.731C34.0796 213.394 36.2386 215.553 38.9018 215.553H325.749C328.412 215.553 330.571 213.394 330.571 210.731V41.458C330.571 38.7947 328.412 36.6357 325.749 36.6357Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M173 136.201V113.381C173 111.032 175.579 109.594 177.577 110.83L196.31 122.41C198.222 123.592 198.203 126.378 196.276 127.534L177.543 138.774C175.544 139.974 173 138.533 173 136.201Z",fill:"white"})]}),f=()=>(0,h.jsxs)("svg",{width:"363",height:"246",viewBox:"0 0 363 246",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M342.968 19.5967H24.239C21.204 19.5967 18.7437 22.057 18.7437 25.092V224.542C18.7437 227.577 21.204 230.038 24.239 230.038H342.968C346.003 230.038 348.463 227.577 348.463 224.542V25.092C348.463 22.057 346.003 19.5967 342.968 19.5967Z",fill:"white"}),(0,h.jsx)("path",{d:"M342.968 23.0044C344.118 23.0044 345.055 23.9416 345.055 25.0918V224.534C345.055 225.684 344.118 226.621 342.968 226.621H24.2392C23.089 226.621 22.1518 225.684 22.1518 224.534V25.0918C22.1518 23.9416 23.089 23.0044 24.2392 23.0044H342.959M342.968 16.1885H24.2392C19.3232 16.1885 15.3359 20.1758 15.3359 25.0918V224.534C15.3359 229.45 19.3232 233.437 24.2392 233.437H342.959C347.875 233.437 351.863 229.45 351.863 224.534V25.0918C351.863 20.1758 347.875 16.1885 342.959 16.1885H342.968Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M87 164V89H118.014C123.635 89 128.486 90.0986 132.567 92.2959C136.673 94.4687 139.838 97.5083 142.062 101.415C144.286 105.296 145.398 109.813 145.398 114.964C145.398 120.14 144.262 124.669 141.989 128.551C139.74 132.408 136.526 135.399 132.347 137.523C128.168 139.647 123.207 140.709 117.464 140.709H98.3277V126.427H114.091C116.828 126.427 119.113 125.951 120.946 124.999C122.804 124.046 124.209 122.716 125.162 121.007C126.115 119.273 126.592 117.259 126.592 114.964C126.592 112.645 126.115 110.643 125.162 108.958C124.209 107.25 122.804 105.931 120.946 105.003C119.089 104.076 116.804 103.612 114.091 103.612H105.146V164H87Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M182.094 164H154.343V89H182.057C189.707 89 196.293 90.5015 201.816 93.5044C207.364 96.4829 211.641 100.78 214.647 106.395C217.653 111.986 219.156 118.675 219.156 126.463C219.156 134.276 217.653 140.99 214.647 146.605C211.665 152.22 207.401 156.529 201.853 159.532C196.305 162.511 189.719 164 182.094 164ZM172.489 148.546H181.397C185.601 148.546 189.157 147.838 192.065 146.422C194.998 144.981 197.209 142.65 198.7 139.427C200.216 136.18 200.973 131.859 200.973 126.463C200.973 121.068 200.216 116.771 198.7 113.573C197.185 110.35 194.949 108.031 191.992 106.615C189.059 105.174 185.442 104.454 181.141 104.454H172.489V148.546Z",fill:"#D9D9D9"}),(0,h.jsx)("path",{d:"M229.751 164V89H281V103.722H247.897V119.103H277.737V133.861H247.897V164H229.751Z",fill:"#D9D9D9"})]}),m=e=>{let{inputs:t,title:n}=e;const[m,g]=(0,r.useState)(null),v=(0,i.Zp)(),[y,b]=(0,r.useState)({}),[w,A]=(0,r.useState)(["main"]),[_,x]=(0,r.useState)(0),[E,S]=(0,r.useState)(0),[C,T]=(0,r.useState)(0),[k,I]=(0,r.useState)([]),[P,N]=(0,r.useState)(""),[R,M]=(0,r.useState)(null),D=e=>{M(e)},[j,L]=(0,r.useState)(""),{dispatch:O}=(0,o.f8)(),[F,U]=(0,r.useState)(Array.from({length:25},(()=>[]))),[V,B]=(0,r.useState)([]),[H,z]=(0,r.useState)([]),[W,G]=(0,r.useState)([]),[q,K]=(0,r.useState)([]),[Y,X]=(0,r.useState)(null),[Q,J]=(0,r.useState)(null),[Z,$]=(0,r.useState)("#0000FF");(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--project-color",Z)}),[Z]),(0,r.useEffect)((()=>{j&&(async()=>{const e=(new Date).getTime()+j.name,t=(0,c.KR)(a.I,"images/".concat(e));try{const e=(0,c.bp)(t,j);e.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),g(t)}),(e=>{console.log("Error during upload:",e)}),(async()=>{try{const t=await(0,c.qk)(e.snapshot.ref);b((e=>({...e,img:t})))}catch(t){console.log("Error getting download URL:",t)}}))}catch(n){console.log("Error uploading file:",n)}})()}),[j]);const ee=()=>{X(null)},te=e=>{e.preventDefault()},ne=e=>{const t=e.target.id,n=e.target.value;b({...y,[t]:n})},re=e=>{let t="",n="",r=0;if("image"===e&&_<1&&w.length<=2)n="image",x((e=>e+1)),t="".concat(n+1),r=_+1;else if("PDF"===e&&H.length<1&&w.length<=2){n="PDF";const e={id:"PDF".concat(H.length+1)};z((t=>[...t,e])),t=e.id,r=H.length+1,I((e=>[...e,null]))}else if("video"===e&&W.length<1&&w.length<=2){n="video";const e={id:"video".concat(W.length+1)};G((t=>[...t,e])),t=e.id,r=W.length+1}t&&(A((e=>[...e,t])),U((e=>[...e,[]])),console.log(w))};(0,r.useState)((()=>{console.log(w)}),[w]);const ie=e=>{if("main"!==e){const t=e.startsWith("image")?"image":e.startsWith("detail")?"detail":e.startsWith("PDF")?"PDF":e.startsWith("video")?"video":"title",n=parseInt(e.replace("".concat(t),""),10)-1,r=w.filter((t=>t!==e));if(A(r),"image"===t){const e=[...F];e.splice(n,1),U(e),x((e=>e-1))}else"PDF"===t?(z((t=>t.filter((t=>t.id!==e)))),I((e=>{const t=[...e];return t.splice(n,1),t})),S((e=>e-1)),M(null)):"video"===t&&(G((t=>t.filter((t=>t.id!==e)))),T((e=>e-1)))}},se=async()=>{try{const e=(0,s.rJ)(a.db,"referencePeace"),t=(await(0,s.GG)(e)).size+1,n=String(t).padStart(2,"0"),r="VOLUME".concat(n);return console.log("Generated Display Name:",r),r}catch(e){return console.error("Error getting display name:",e),null}};(0,r.useEffect)((()=>{(async()=>{const e=await se();e&&N(e)})()}),[]);const ae=async(e,t)=>new Promise(((n,r)=>{const i=new FileReader;i.onload=e=>{const r=new Image;r.src=e.target.result,r.onload=()=>{const e=document.createElement("canvas"),i=t/r.width;e.width=t,e.height=r.height*i;e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob((e=>{n(e)}),"image/jpeg",.9)}},i.onerror=e=>r(e),i.readAsDataURL(e)})),oe=async e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const n=new Image;n.src=e.target.result,n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const r=e.getContext("2d");r.drawImage(n,0,0);const i=r.getImageData(0,0,e.width,e.height),s=(0,u.lF)(i.data,i.width,i.height,4,3);t(s)}},r.onerror=e=>n(e),r.readAsDataURL(e)}));(0,r.useEffect)((()=>{k.forEach(((e,t)=>{e&&(async(e,t)=>{const n=(new Date).getTime()+e.name,r=(0,c.KR)(a.I,"pdfs/".concat(n)),i=(0,c.bp)(r,e);i.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;g(t)}),(e=>console.log("Error during upload:",e)),(async()=>{const e=await(0,c.qk)(i.snapshot.ref);console.log("PDF ".concat(t," uploaded with URL:"),e),b((n=>({...n,["pdfLink".concat(t)]:e})))}))})(e,t)}))}),[k]);const le=e=>e.replace(/\s+/g,"").toLowerCase();Array.from({length:_},((e,t)=>"image".concat(t+1)));(0,r.useEffect)((()=>(O({type:"Small"}),()=>{O({type:"Default"})})),[O]);return(0,h.jsx)("div",{className:"new",children:(0,h.jsx)("div",{className:"all-projects-page-wrap",children:(0,h.jsx)("div",{className:"add-projects-content",children:(0,h.jsx)("div",{className:"add-projects-list",children:(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await se();if(console.log("Display Name:",e),!e)throw new Error("Display name could not be generated.");let t="Unknown";W.length>0?t="Video":H.length>0?t="PDF":_>0&&(t="Image");const n={displayName:e,releaseDate:y.releaseDate,mainDescription1:y.mainDescription1,mainDescription2:y.mainDescription2,mainFeaturedImage:null,timeStamp:(0,s.O5)(),volumeType:t||"Unknown",imageSections:[],videoSections:[],pdfSections:[]};for(let i=0;i<W.length;i++){const e=W[i].id;console.log("VIDEO section ID "+e),n.videoSections.push({sectionId:e,videoUrl:y["".concat(e,"-videoLink")]||"",videoName:y["".concat(e,"-videoName")]||""})}for(let i=0;i<H.length;i++){const e=H[i].id;console.log("PDF section ID "+e),n.pdfSections.push({sectionId:e,pdfLink:y["pdfLink".concat(i)]||"",pdfName:y["pdf".concat(i+1,"-pdfName")]||"",pdfType:R+"-page"||0})}if(Q){const e=(new Date).getTime()+Q.name,t=(0,c.KR)(a.I,"mainFeaturedImages/".concat(e)),r=(0,c.bp)(t,Q);await r;const i=await(0,c.qk)(r.snapshot.ref);n.mainFeaturedImage=i}for(let i=1;i<=_;i++){const e=[];for(let t=0;t<F[i].length;t++){const n=F[i][t];if(n){const t=(new Date).getTime()+n.name,r=(0,c.KR)(a.I,"image".concat(i,"/").concat(t));await(0,c.bp)(r,n);const s=await(0,c.qk)(r),o=await ae(n,50),l=(await oe(o),(new Date).getTime()+"-blurhash.jpeg"),u=(0,c.KR)(a.I,"image".concat(i,"/").concat(l));await(0,c.bp)(u,o);const h=await(0,c.qk)(u);e.push({url:s,blurhash:h})}}e.length>0&&n.imageSections.push({sectionIndex:i,images:e})}const r=(0,s.H9)(a.db,"referencePeace",e);await(0,s.BN)(r,n),v(-1)}catch(t){console.error("Error adding project:",t)}},children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"section-title",children:"Reference Peace"}),Q&&(0,h.jsxs)("div",{className:"uploaded-image-wrap",children:[(0,h.jsx)("img",{src:URL.createObjectURL(Q),alt:"main-featured-image",className:"uploaded-image-preview"}),(0,h.jsxs)("p",{className:"body",children:[(0,h.jsx)("span",{children:"*"}),"Keep in mind the featured image will be viewed in variable dimensions, Aim to keep subject matter centered appropriately"]})]}),(0,h.jsx)("div",{className:"section-title ".concat(Q&&"image-preview"),children:"Main Section"}),(0,h.jsxs)("div",{className:"formInput projectname",children:[(0,h.jsx)("label",{children:"Project Name"}),(0,h.jsx)("input",{id:"displayName",type:"text",placeholder:P,onChange:ne,required:!0,readOnly:!0})]}),(0,h.jsxs)("div",{className:"formInput projectImage",children:[(0,h.jsx)("label",{children:"Featured Image"}),(0,h.jsx)("input",{type:"file",accept:"image/*",onChange:e=>J(e.target.files[0])})]}),l.Gt.map((e=>(0,h.jsxs)("div",{className:"formInput ".concat(le(e.label)),children:[(0,h.jsx)("label",{children:e.label}),(0,h.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:ne,maxLength:e.maxLength||null,required:!0})]},e.id)))]}),W.map(((e,t)=>(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"section-wrap",children:[(0,h.jsx)("div",{className:"section-title",children:"Video Section ".concat(t+1)}),l.QO.map((e=>(0,h.jsxs)("div",{className:"formInput ".concat(le(e.label)),children:[(0,h.jsx)("label",{children:e.label}),(0,h.jsx)("input",{id:"video".concat(t+1,"-").concat(e.id),type:e.type,placeholder:e.placeholder,onChange:ne,maxLength:e.maxLength||null,required:!0})]},e.id))),(0,h.jsx)("button",{type:"button",onClick:()=>ie(e.id),children:"Remove PDF Section"})]})},"video-".concat(t+1)))),Array.from({length:_}).map(((e,t)=>(0,h.jsx)("div",{className:"uploaded-image-section-wrap",children:(0,h.jsxs)("div",{className:"body image-section-title",children:[(0,h.jsx)("span",{children:"Image Section"}),(0,h.jsxs)("div",{className:"image-section-".concat(t+1),children:[[...Array(24)].map(((e,n)=>(0,h.jsxs)("div",{className:"image-section ".concat(n===Y?"drag-over":""," list-map-wrap"),onDragEnter:()=>{X(t+1)},onDragLeave:ee,onDragOver:te,onDrop:e=>((e,t,n)=>{e.preventDefault(),X(null);const r=e.dataTransfer.files,i=Array.from(r).slice(0,Math.min(r.length,25-n)),s=[...F];s[t].splice(n,i.length,...i),U(s)})(e,t+1,n),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{type:"file",id:"file-".concat(t+1,"-").concat(n),onChange:e=>((e,t,n,r)=>{const i=[...F];i[e]||(i[e]={}),r?i[e].featuredImage=[n]:i[e].videos=[n],U(i)})(t+1,0,e.target.files[0]),style:{display:"none"},accept:"image/*"}),(0,h.jsx)("label",{htmlFor:"file-".concat(t+1,"-").concat(n),className:"file-label primary-button",children:(0,h.jsxs)("span",{children:["image ",n+1]})})]}),(0,h.jsx)("img",{src:F[t+1]&&F[t+1][n]?URL.createObjectURL(F[t+1][n]):"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",alt:"uploaded-image",className:"map-image-upload-thumb"})]},n))),(0,h.jsx)("button",{type:"button",onClick:()=>ie("image".concat(t+1)),children:"Remove Image Section"})]})]})},"image-section-".concat(t+1)))),H.map(((e,t)=>(0,h.jsxs)("div",{children:[!R&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"Select PDF Type:"}),(0,h.jsx)("button",{type:"button",onClick:()=>D("1"),children:"1 Page PDF"}),(0,h.jsx)("button",{type:"button",onClick:()=>D("2"),children:"2 Page PDF"})]}),R&&(0,h.jsxs)("div",{className:"section-wrap",children:[(0,h.jsx)("div",{className:"section-title",children:"".concat("1"===R?"1 Page PDF":"2 Page PDF"," Selected")}),H.map(((e,t)=>(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"section-wrap",children:[(0,h.jsx)("div",{className:"section-title",children:"PDF Section ".concat(t+1)}),l.VI.map((e=>(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"formInput ".concat(le(e.label)),children:[(0,h.jsx)("label",{children:e.label}),(0,h.jsx)("input",{id:"pdf".concat(t+1,"-").concat(e.id),type:e.type,placeholder:e.placeholder,onChange:ne,maxLength:e.maxLength||null,required:!0})]},e.id),(0,h.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>((e,t)=>{const n=e.target.files[0],r=[...k];r[t]=n,I(r)})(e,t)})]}))),(0,h.jsx)("button",{type:"button",onClick:()=>ie(e.id),children:"Remove PDF Section"})]})},"pdf-".concat(t+1))))]})]},"pdf-".concat(t+1)))),w.length<=1&&(0,h.jsxs)("div",{className:"add-button-grid",children:[(0,h.jsxs)("button",{type:"button",onClick:()=>re("video"),disabled:W.length>=10,children:[(0,h.jsx)(p,{}),"Video Project"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>re("image"),disabled:_>=10,children:[(0,h.jsx)(d,{}),"Gallery Project"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>re("PDF"),disabled:H.length>=10,children:[(0,h.jsx)(f,{}),"PDF Booklet Project"]})]}),(0,h.jsx)("button",{disabled:null!=m&&m<100,type:"submit",children:"Send"}),m]})})})})})}},2548:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),i=(n(7303),n(8270)),s=n(3216),a=n(8274),o=n(5669),l=n(579);const c=function(){let e=(0,s.zy)();(0,r.useEffect)((()=>{i.Ay.fromTo(".contact-image-wrap .mask-image-wrap",{height:"0px"},{height:"32vw",duration:1,ease:[.76,0,.24,1],delay:.2})}),[e]),(0,r.useEffect)((()=>{document.title="Contact Max Dona",document.documentElement.style.setProperty("--primary-color","#181818"),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)")}),[]);const t=e=>{let{image:t,isSection3Visible:n,windowWidth:i}=e;const s=(0,r.useRef)(null),a=(0,r.useRef)(null),[o,c]=(0,r.useState)(!1),u="center top",h=e=>{if(o){const t=s.current.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,i=.015,o=(e.clientX-n)*i,l=(e.clientY-r)*i;a.current.style.objectPosition="calc(50% + ".concat(o,"px) calc(0% + ").concat(l,"px)")}},d=()=>{a.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 700ms, object-position 0.5s ease",c(!0),setTimeout((()=>{a.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 700ms, object-position 0s ease"}),600)},p=()=>{c(!1),a.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 700ms, object-position 0.5s ease",a.current.style.objectPosition=u};return(0,r.useEffect)((()=>{const e=s.current;return e.addEventListener("mousemove",h),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",p),n&&(s.current.style.transition="none"),()=>{e.removeEventListener("mousemove",h),e.removeEventListener("mouseenter",d),e.removeEventListener("mouseleave",p)}}),[o,u]),(0,l.jsx)("div",{className:"mask-mouse-area",children:(0,l.jsxs)("div",{className:"mask-image-wrap",ref:s,children:[(0,l.jsx)("div",{className:"reference-peace-bg-gradient"}),(0,l.jsx)("img",{className:"mask-image",src:t,style:{width:"68.5vw",height:"100%"},ref:a,alt:"Franco"}),(0,l.jsx)("div",{className:"details",children:(0,l.jsx)("div",{className:"player-project-name",children:(0,l.jsx)("p",{className:"primary-button",children:"Instagram"})})})]})})};return(0,l.jsxs)("div",{className:"contact-page ",children:[(0,l.jsxs)("div",{className:"contact-top ",children:[(0,l.jsxs)("div",{className:"contact-heading-wrap high-z-index-layer",children:[(0,l.jsx)("p",{className:"contact-max-title heading",children:"AX DONA"}),(0,l.jsxs)("div",{className:"contact-subtitle title",children:[(0,l.jsx)(a.A,{elementClass:"title",element:"p",textContent:"for all"}),(0,l.jsx)(a.A,{elementClass:"title",element:"p",textContent:"conversation-"}),(0,l.jsx)(a.A,{elementClass:"title",element:"p",textContent:"al purporses"})]})]}),(0,l.jsx)("div",{className:"contact-image-wrap",children:(0,l.jsx)(t,{image:"./maxPortrait.jpg"})})]}),(0,l.jsx)(o.A,{})]})}},7447:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(5043),i=n(3838);const s={"film-page-wrap":"films_film-page-wrap__fQ+4e","fast-active":"films_fast-active__XruqB","view-bracket-wrap":"films_view-bracket-wrap__LzWMt","film-page-title-wrap":"films_film-page-title-wrap__8bSvf","film-page-intro-desc":"films_film-page-intro-desc__tYnOe","film-page-title":"films_film-page-title__orsY+",scrolled:"films_scrolled__+gjQE","film-project-item":"films_film-project-item__7hGJh","film-project-cta":"films_film-project-cta__tIenI","film-project-scroll-wrap":"films_film-project-scroll-wrap__QHcl3","infinite-film-project-item":"films_infinite-film-project-item__HlXQj","view-list-item-link":"films_view-list-item-link__dOD6S","project-scroll-height":"films_project-scroll-height__V9bLV","film-project-scroll-container":"films_film-project-scroll-container__Kf+iZ","film-project-desc-item":"films_film-project-desc-item__j77V-","film-project-title":"films_film-project-title__FTO0b","view-switcher-wrap":"films_view-switcher-wrap__I0UyM","view-toggle-active":"films_view-toggle-active__PQDGs","project-nav-wrap":"films_project-nav-wrap__5DEIh","project-wrap":"films_project-wrap__NGD0H","infinite-project-scroll-wrap":"films_infinite-project-scroll-wrap__HJEwB","fast-project-wrap":"films_fast-project-wrap__tsIge","film-page":"films_film-page__N8aD9","slow-toggle":"films_slow-toggle__Vlv2S","fast-toggle":"films_fast-toggle__UbWqX","medium-toggle":"films_medium-toggle__Ih4T5","film-page-intro-desc-wrap":"films_film-page-intro-desc-wrap__-nEbD","random-masonry-image":"films_random-masonry-image__u-+Gk","floating-project-thumb-wrap":"films_floating-project-thumb-wrap__Sr+Vz","infinite-scroll-map-wrap":"films_infinite-scroll-map-wrap__3XClZ","random-masonry-image-view":"films_random-masonry-image-view__OTOCG","pin-spacer":"films_pin-spacer__ib+Fn","scroll-notification":"films_scroll-notification__XgNyq","parallax-image-wrap":"films_parallax-image-wrap__39L-k"};var a=n(5317),o=n(5472),l=n(3216),c=n(8270),u=n(4404),h=(n(7303),n(8274)),d=n(293);function p(){const e=(0,r.useRef)(!1);return(0,d.E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var f=n(7065);var m=n(9674),g=n(4930);class v extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function y(e){let{children:t,isPresent:n}=e;const i=(0,r.useId)(),s=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[n]),r.createElement(v,{isPresent:n,childRef:s,sizeRef:a},r.cloneElement(t,{ref:s}))}const b=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=(0,g.M)(w),u=(0,r.useId)(),h=(0,r.useMemo)((()=>({id:u,initial:n,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))})),o?void 0:[i]);return(0,r.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),r.useEffect((()=>{!i&&!c.size&&s&&s()}),[i]),"popLayout"===l&&(t=r.createElement(y,{isPresent:i},t)),r.createElement(m.t.Provider,{value:h},t)};function w(){return new Map}var A=n(2190);var _=n(8129);const x=e=>e.key||"";const E=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;(0,_.V)(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(A.L).forceRender||function(){const e=p(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,r.useCallback)((()=>f.Gt.postRender(i)),[i]),t]}()[0],u=p(),h=function(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}(t);let m=h;const g=(0,r.useRef)(new Map).current,v=(0,r.useRef)(m),y=(0,r.useRef)(new Map).current,w=(0,r.useRef)(!0);var E;if((0,d.E)((()=>{w.current=!1,function(e,t){e.forEach((e=>{const n=x(e);t.set(n,e)}))}(h,y),v.current=m})),E=()=>{w.current=!0,y.clear(),g.clear()},(0,r.useEffect)((()=>()=>E()),[]),w.current)return r.createElement(r.Fragment,null,m.map((e=>r.createElement(b,{key:x(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:l},e))));m=[...m];const S=v.current.map(x),C=h.map(x),T=S.length;for(let r=0;r<T;r++){const e=S[r];-1!==C.indexOf(e)||g.has(e)||g.set(e,void 0)}return"wait"===l&&g.size&&(m=[]),g.forEach(((e,t)=>{if(-1!==C.indexOf(t))return;const i=y.get(t);if(!i)return;const a=S.indexOf(t);let d=e;if(!d){const e=()=>{g.delete(t);const e=Array.from(y.keys()).filter((e=>!C.includes(e)));if(e.forEach((e=>y.delete(e))),v.current=h.filter((n=>{const r=x(n);return r===t||e.includes(r)})),!g.size){if(!1===u.current)return;c(),s&&s()}};d=r.createElement(b,{key:x(i),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},i),g.set(t,d)}m.splice(a,0,d)})),m=m.map((e=>{const t=e.key;return g.has(t)?e:r.createElement(b,{key:x(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)})),r.createElement(r.Fragment,null,g.size?m:m.map((e=>(0,r.cloneElement)(e))))};var S=n(4678),C=n(1407),T=n(649),k=n(6077),I=n(579);c.os.registerPlugin(u.u);const P=e=>{let{data:t,filmProjectItemsRef:n,handleDelayStart:i}=e;const[a,o]=(0,r.useState)(!1);return(0,I.jsx)("div",{className:"slow-view ".concat(s["film-project-scroll-wrap"]),children:(0,I.jsx)("div",{className:"body film-project-scroll-container ".concat(s["film-project-scroll-container"]),children:(0,I.jsx)("div",{className:"project-scroll-height ".concat(s["project-scroll-height"]),children:t.map(((e,t)=>{var r,a;return(0,I.jsx)(T.A,{onDelayStart:()=>i(e.projectColor),delay:1500,to:"/projects/".concat(e.id),className:"view-list-item-link ".concat(s["view-list-item-link"]),children:(0,I.jsxs)("div",{style:{backgroundImage:"url(".concat(null===e||void 0===e||null===(r=e.mainFeaturedImage)||void 0===r?void 0:r.blurhash)},ref:e=>n.current[t]=e,className:"".concat(s["film-project-item"]," film-project-item"),children:[(0,I.jsx)("img",{src:null===e||void 0===e||null===(a=e.mainFeaturedImage)||void 0===a?void 0:a.url,alt:"main featured",onLoad:()=>o(!0)}),0===t?(0,I.jsxs)("div",{children:[(0,I.jsx)("h2",{className:"header-reduced ".concat(s["film-project-title"]," ").concat(s["film-project-desc-item"]),children:e.displayName}),(0,I.jsx)("h3",{className:"body ".concat(s["film-project-director"]," ").concat(s["film-project-desc-item"]),children:"Directed by Max Dona"}),(0,I.jsxs)("div",{className:"body ".concat(s["film-project-video-name"]," ").concat(s["film-project-desc-item"]),children:[e.videoName," (",new Date(e.releaseDate).getFullYear(),")"]}),(0,I.jsx)("p",{className:"primary-button ".concat(s["film-project-cta"]," ").concat(s["film-project-desc-item"]),children:"FULL PROJECT"})]}):(0,I.jsxs)("div",{className:"project-item-details",children:[(0,I.jsx)("h2",{className:"header-reduced ".concat(s["film-project-title"]," ").concat(s["film-project-desc-item"]),style:{paddingBottom:"14px"},children:(0,I.jsx)(h.A,{custom:0,textContent:e.displayName,element:"span",elementClass:"heading"})}),(0,I.jsx)("h3",{className:"body ".concat(s["film-project-director"]," ").concat(s["film-project-desc-item"]),children:(0,I.jsx)(h.A,{custom:1,textContent:"Directed by Max Dona",element:"p",elementClass:"body"})}),(0,I.jsx)("div",{className:"body ".concat(s["film-project-video-name"]," ").concat(s["film-project-desc-item"]),children:(0,I.jsx)(h.A,{custom:2,textContent:"".concat(e.videoName," (").concat(new Date(e.releaseDate).getFullYear(),")"),element:"p",elementClass:"body"})}),(0,I.jsx)("div",{className:" ".concat(s["film-project-cta"]," ").concat(s["film-project-desc-item"]),children:(0,I.jsx)(h.A,{custom:3,textContent:"FULL PROJECT",element:"p",elementClass:"primary-button ".concat(s["film-project-cta"]," ").concat(s["film-project-desc-item"])})})]})]})},"slow-".concat(e.id,"-").concat(t))}))})})})},N=e=>{let{data:t,handleDelayStart:n}=e;const[i,a]=(0,r.useState)([]);(0,r.useEffect)((()=>{o()}),[]);const o=async()=>{const e=[];t.forEach((t=>{for(let n=1;n<=3;n++){const r=t.imageUrls["image".concat(n)];r&&Array.isArray(r)&&r.forEach(((n,r)=>{const i=n.url,s=n.blurhash,a=n.id;i&&s&&e.push({imageUrl:i,blurhash:s,project:t,indexWithinProject:r,imageId:a})}))}}));const n=l(e).slice(0,25).map((e=>{let{imageUrl:t,blurhash:n,project:r,indexWithinProject:i,imageId:s}=e;return{imageUrl:t,blurhash:n,project:r,indexWithinProject:i,imageId:s}}));a(n)},l=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};return(0,r.useEffect)((()=>{setTimeout((()=>{const e=document.querySelector(".".concat(s["random-masonry-image-view"]," > div > div"));if(e){const t=e.childElementCount;for(let r=0;r<t;r++){const t=e.children[r];t.classList.add("column-".concat(r+1)),t.classList.add("masonry-column")}const n=(()=>{let e=0;return document.querySelectorAll(".".concat(s["random-masonry-image-view"]," .masonry-column")).forEach((t=>{const n=t.offsetHeight;n>e&&(e=n)})),e})();document.querySelectorAll(".".concat(s["random-masonry-image-view"]," .masonry-column")).forEach((e=>{const t=e.offsetHeight,r=n-t;c.os.to(e,{marginTop:r,scrollTrigger:{trigger:".".concat(s["random-masonry-image-view"]),start:"-90px top",end:()=>"+=".concat(n-window.innerHeight/2.5),scrub:!0}})}))}else console.log("No masonry section found.")}),1e3)}),[i]),(0,I.jsx)("div",{className:"".concat(s["random-masonry-image-view"]," random-masonry-image-view"),children:(0,I.jsx)(C.i,{columnsCountBreakPoints:{300:1,500:2,830:3,900:4},children:(0,I.jsx)(C.A,{columnsCount:4,gutter:"1.4vw",children:i.map(((e,t)=>(0,I.jsx)(T.A,{delay:1500,onDelayStart:()=>n(e.projectColor),to:"/projects/".concat(e.project.id,"/").concat(e.imageId),children:(0,I.jsx)(R,{imageUrl:e.imageUrl,blurhash:e.blurhash,className:"".concat(s["random-masonry-image"])},"medium-image-".concat(t))},"medium-".concat(e.project.id,"-").concat(t))))})})})},R=e=>{let{imageUrl:t,blurhash:n,handleDelayStart:i}=e;const[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)({x:0,y:0}),u=(0,r.useRef)(null);return(0,I.jsx)("div",{className:s["parallax-image-wrap"],onMouseEnter:()=>{u.current&&(u.current.style.transition="ease all 200ms",o(!0),setTimeout((()=>{u.current&&(u.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 0ms, object-position 0s ease")}),600))},onMouseLeave:()=>{o(!1),u.current&&(u.current.style.transition="ease all 200ms",u.current.style.transform="translate(0px, 0px) scale(1.1)")},onMouseMove:e=>{if(!a)return;const{clientX:t,clientY:n,target:r}=e,{left:i,top:s,width:o,height:l}=r.getBoundingClientRect();c({x:.01*(t-(i+o/2)),y:.01*(n-(s+l/2))})},children:(0,I.jsx)("img",{ref:u,src:t,alt:"Parallax Image",className:s["masonry-image"],style:{transform:"translate(".concat(l.x,"px, ").concat(l.y,"px) scale(1.1)")}})})},M=e=>{let{data:t,filmProjectItemsRef:n,onHoverImage:i,handleDelayStart:a,onMouseEnter:o,onMouseLeave:l}=e;const[c,u]=(0,r.useState)(0),[h,d]=(0,r.useState)(null),p=t.length<5?[...t,...t.slice(0,5-t.length)]:t,f=()=>{d(null),l()};return(0,r.useEffect)((()=>{null!==h&&h!==c&&u(h)}),[h,c]),(0,I.jsx)("div",{className:"infinite-scroll-map-wrap  ".concat(s["infinite-scroll-map-wrap"]),children:p.map(((e,t)=>(0,I.jsxs)("div",{className:"".concat(s["fast-project-wrap"]," ").concat(c===t||h===t?"hovered-fast-project-wrap":""),children:[(0,I.jsx)("div",{className:"project-color",style:{backgroundColor:e.projectColor}}),(0,I.jsx)(T.A,{delay:1500,to:"/projects/".concat(e.id),onDelayStart:()=>a(e.projectColor),className:"view-list-item-link view-list-item-link ",children:(0,I.jsx)("div",{onMouseEnter:()=>{var n,r;return((e,t,n,r)=>{i({url:e,blurhash:t}),d(n),o(r)})(null===e||void 0===e||null===(n=e.mainFeaturedImage)||void 0===n?void 0:n.url,null===e||void 0===e||null===(r=e.mainFeaturedImage)||void 0===r?void 0:r.blurhash,t,e)},onMouseLeave:f,className:"infinite-film-project-item  film-project-item ".concat(s["infinite-film-project-item"]," ").concat(c===t||h===t?"hovered-project":""),children:(0,I.jsx)("h2",{className:"title infinite-film-title",children:e.displayName})},"fast-item-".concat(e.id,"-").concat(t))},"fast-link-".concat(e.id,"-").concat(t))]})))})},D=function(){const{dispatch:e}=(0,i.f8)(),[t,n]=(0,r.useState)([]),d=(0,r.useRef)([]),[p,f]=(0,r.useState)(0),[m,g]=(0,r.useState)("slow"),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1),A=(0,r.useRef)(new Set),_=e=>{g(e),setTimeout((()=>{u.u.refresh(!0)}),800)},x=e=>{c.os.to(".film-page-title-wrap",{opacity:0,duration:.2,ease:[.76,0,.24,1]}),g(null),e&&document.documentElement.style.setProperty("--secondary-dark",e)};(0,r.useEffect)((()=>(e({type:"Small"}),()=>{e({type:"Default"})})),[e]),(0,r.useEffect)((()=>{u.u.refresh()}),[t]),(0,r.useEffect)((()=>{const e=(0,o.aQ)((0,o.rJ)(a.db,"projects"),(e=>{let t=[];e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),n(t)}),(e=>{console.error(e)}));return document.documentElement.style.setProperty("--primary-color","#181818"),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)"),document.title="Archive of Max Dona",()=>e()}),[]),(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"auto"}),u.u.refresh(!0),T();return setTimeout((()=>{u.u.refresh(!0)}),800),()=>{u.u.getAll().forEach((e=>e.kill()))}}),[m,t]),(0,r.useEffect)((()=>{const e=()=>{f(window.pageYOffset||document.documentElement.scrollTop)},t=C(e,800);return window.addEventListener("scroll",e),window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("scroll",t),u.u.getAll().forEach((e=>e.kill()))}}),[t,m]),(0,r.useEffect)((()=>{c.os.fromTo(".project-scroll-height",{height:"0px"},{height:"100%",duration:1,ease:[.76,0,.24,1],delay:1})}),[(0,l.zy)()]);const C=(e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout((()=>e.apply(this,i)),t)}},T=()=>{u.u.getAll().forEach((e=>{e.kill()})),u.u.clearScrollMemory(),"slow"===m&&t.length>0?D():"medium"===m?(c.os.fromTo(".random-masonry-image-view",{marginTop:"10vw"},{marginTop:"0px",scrollTrigger:{trigger:".film-page-wrap",start:"top top",end:"1000",scrub:!0,id:"scrub"}}),c.os.to(".film-page-title-wrap",{y:"-30vh",scrollTrigger:{trigger:document.body,start:"top top",end:"500px top",scrub:!0,id:"scrub"}})):"fast"===m&&j(),setTimeout((()=>{u.u.refresh(!0)}),800)},D=()=>{const e=document.querySelectorAll(".view-list-item-link"),n=.8*window.innerHeight-90,r=(t.length-1)*n,i=100*(t.length-1);u.u.create({trigger:".film-page-wrap",start:"top top",pin:".film-page-wrap",end:()=>"+=".concat(r),onUpdate:t=>{const n=t.progress*i;e.forEach((e=>{c.os.to(e,{y:"-".concat(n,"%"),ease:"none"})}))}}),c.os.fromTo(".film-project-scroll-container",{height:"calc(70vh - 90px)"},{height:"calc(100vh - 4vw - 84px)",scrollTrigger:{trigger:".page-content",start:"top top",end:"600",scrub:!0,id:"scrub"}}),c.os.fromTo(".film-project-item, .view-list-item-link",{height:"calc(70vh - 90px)"},{height:"calc(80vh - 90px)",scrollTrigger:{trigger:".page-content",start:"top top",end:"200",scrub:!0,id:"scrub"}}),c.os.to(".film-page-title-wrap",{y:"-300px",scrollTrigger:{trigger:document.body,start:"top top",end:"500px top",scrub:!0,id:"scrub"}})},j=()=>{c.os.fromTo(".infinite-scroll-map-wrap",{marginTop:"10vw"},{marginTop:"0px",scrollTrigger:{trigger:".film-page-wrap",start:"top top",end:"1000",scrub:!0,id:"scrub"}}),c.os.to(".film-page-title-wrap",{y:"-30vh",scrollTrigger:{trigger:document.body,start:"top top",end:"500px top",scrub:!0,id:"scrub"}})};(0,r.useEffect)((()=>{const e=document.querySelector(".film-page-wrap");if(e)if("slow"===m){const n=.8*window.innerHeight-90;e.style.height="".concat(t.length*n,"px")}else e.style.height="auto";setTimeout((()=>{u.u.refresh(!0)}),800)}),[m,t]);const L=(0,r.useRef)(null),{x:O,y:F}=(0,k.A)(".App"),[U,V]=(0,r.useState)(0),[B,H]=(0,r.useState)(0),[z,W]=(0,r.useState)(0),[G,q]=(0,r.useState)({vx:0,vy:0}),[K,Y]=(0,r.useState)(""),[X,Q]=(0,r.useState)({translateY:0,rotate:0}),J=(0,r.useRef)(null),[Z,$]=(0,r.useState)(0),[ee,te]=(0,r.useState)([t[0]]),[ne,re]=(0,r.useState)(null),[ie,se]=(0,r.useState)(null);t.length<5&&t.slice(0,5-t.length),(0,r.useEffect)((()=>{null!==ie&&ie!==ne&&re(ie)}),[ie,ne]),(0,r.useEffect)((()=>{q({vx:O-B,vy:F-z}),H(O),W(F)}),[O,F]);const ae=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,r.useEffect)((()=>{const e={translateY:ae(1.5*G.vy,-3,3),rotate:ae(1.5*G.vx,-1.5,1.5)};return Q(e),J.current&&clearTimeout(J.current),J.current=setTimeout((()=>{Q({translateY:0,rotate:0})}),100),()=>clearTimeout(J.current)}),[G]),(0,r.useEffect)((()=>{const e=document.querySelector(".fast-hover-desc .link-desc > span");"fast"===m&&(c.os.to(".fast-hover-desc",{width:e.clientWidth,duration:0}),c.os.to(".fast-hover-desc",{height:e.clientHeight,duration:1}))}),[K,m]),(0,I.jsxs)("div",{className:"".concat(s["film-page"]),children:[(0,I.jsxs)("div",{className:"".concat(s["view-switcher-wrap"]," view-switcher-wrap"),children:[(0,I.jsxs)("div",{className:"".concat(s["view-bracket-wrap"]," view-bracket-wrap"),children:[(0,I.jsx)("div",{className:"".concat(s["view-bracket"]," body"),children:"("}),(0,I.jsx)("div",{className:"".concat(s["view-bracket"]," body"),children:")"})]}),(0,I.jsx)("button",{className:"body ".concat(s["slow-toggle"]," ").concat("slow"===m?s["view-toggle-active"]:""),onClick:()=>_("slow"),children:"Row"}),(0,I.jsx)("button",{className:"body ".concat(s["fast-toggle"]," ").concat("fast"===m?s["view-toggle-active"]:""),onClick:()=>_("fast"),children:"List"}),(0,I.jsx)("button",{className:"body ".concat(s["medium-toggle"]," ").concat("medium"===m?s["view-toggle-active"]:""),onClick:()=>_("medium"),children:"Grid"})]}),(0,I.jsxs)("div",{className:"".concat(s["film-page-wrap"]," film-page-wrap ").concat("fast"===m&&"fast-active"),children:[(0,I.jsx)(E,{children:"fast"===m&&v&&(0,I.jsx)(S.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:1,duration:.8,ease:[.76,0,.24,1]}},exit:{opacity:0},transition:{duration:.8,ease:[.76,0,.24,1]},className:"".concat(s["floating-project-thumb-wrap"]," floating-project-thumb-wrap"),children:(0,I.jsxs)("div",{children:[(0,I.jsx)(R,{imageUrl:b?null===v||void 0===v?void 0:v.url:null===v||void 0===v?void 0:v.blurhash,className:"".concat(s["floating-project-image"]," floating-project-image")}),(0,I.jsx)("img",{src:v.url,alt:"Main featured",style:{display:"none"},onLoad:()=>{return e=v.url,A.current.add(e),void w(!0);var e}}),(0,I.jsx)("div",{className:"body ".concat(s["floating-project-name"]," floating-project-name")})]})})}),(0,I.jsxs)("div",{className:"".concat(s["film-page-title-wrap"]," film-page-title-wrap high-z-index-layer"),children:[(0,I.jsx)(h.A,{elementClass:"title",element:"h2",textContent:"ARCHIVE:"}),(0,I.jsx)("div",{className:"".concat(s["film-page-intro-desc-wrap"]," film-page-intro-desc-wrap"),children:(0,I.jsx)(h.A,{elementClass:"body ".concat(s["film-page-intro-desc"]),element:"p",textContent:"My work speaks to the collective influence & care of those who bring it to life & the distinct outcome of each creator-client collaboration."})}),(0,I.jsx)("div",{className:"body scroll-notification ".concat(s["scroll-notification"]),children:(0,I.jsxs)("p",{children:["(",(0,I.jsx)("span",{children:"SCROLL"}),")"]})})]}),(0,I.jsx)("div",{className:"".concat(s["project-nav-wrap"]),children:(0,I.jsxs)(E,{children:["slow"===m&&(0,I.jsx)(S.P.div,{className:"".concat(s["project-wrap"]," project-wrap"),initial:{opacity:0,y:"20%"},animate:{opacity:1,y:"0%",transition:{duration:1,delay:.4,ease:[.76,0,.24,1]}},exit:{opacity:0,y:"50%"},transition:{duration:.8,ease:[.76,0,.24,1]},children:(0,I.jsx)(P,{data:t,filmProjectItemsRef:d,handleDelayStart:x})},"slow"),"fast"===m&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"fast-hover-desc",ref:L,style:{position:"fixed",left:"".concat(O-16,"px"),top:"".concat(F-20,"px"),transform:"translateY(".concat(X.translateY,"px) rotate(").concat(X.rotate,"deg)")},children:[(0,I.jsx)("div",{className:"fast-hover-svg-wrap",children:(0,I.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fast-hover-arrow",children:(0,I.jsx)("path",{style:{fill:"".concat(Z)},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,I.jsx)("p",{className:"body link-desc",children:(0,I.jsx)("span",{dangerouslySetInnerHTML:{__html:K}})})]}),(0,I.jsx)(S.P.div,{className:"".concat(s["project-wrap"]," high-z-index-layer project-wrap"),initial:{opacity:0,y:"20%"},animate:{opacity:1,y:"0%",transition:{duration:1,delay:.4,ease:[.76,0,.24,1]}},exit:{opacity:0,y:"20%"},transition:{duration:.8,ease:[.76,0,.24,1]},children:(0,I.jsx)(M,{data:t,filmProjectItemsRef:d,onHoverImage:e=>{let{url:t,blurhash:n}=e;y({url:t,blurhash:n}),A.current.has(t)?w(!0):w(!1)},handleDelayStart:x,onMouseEnter:e=>{$(e.projectColor),c.os.to(".fast-hover-desc .link-desc > span",{y:"100%",duration:.3,onComplete:()=>{Y(e.focusGenre),c.os.to(".fast-hover-desc .link-desc > span",{y:"100%",color:e.projectColor,opacity:0,duration:0,onComplete:()=>{c.os.to(".fast-hover-desc .link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})}})}})},onMouseLeave:()=>{se(null),c.os.to(".fast-hover-desc .link-desc > span",{y:"100%",duration:.2})},setCurrentHoveredIndex:se})},"fast")]}),"medium"===m&&(0,I.jsx)(S.P.div,{className:"".concat(s["project-wrap"]," project-wrap"),initial:{opacity:0,y:"20%"},animate:{opacity:1,y:"0%",transition:{duration:1,delay:.4,ease:[.76,0,.24,1]}},exit:{opacity:0,y:"20%"},transition:{duration:.8,ease:[.76,0,.24,1]},children:(0,I.jsx)(N,{data:t,filmProjectItemsRef:d,handleDelayStart:x})},"medium")]})})]})]})}},5711:(e,t,n)=>{"use strict";n(5043),n(7303),n(579)},8075:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var r=n(5043),i=n(8270),s=n(4404),a=n(8274),o=n(6077),l=n(579);const c=e=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",preserveAspectRatio:"xMinYMin slice",viewBox:"0 0 538 141",...e,children:[(0,l.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m.176 2.144 9.759.282 1.356 1.58V30.59c0 16.926-.101 26.85-.28 27.318-.478 1.26-1.727 1.554-6.605 1.554H.036v1.976l32.782-.145v-2.254l-1.407.016c-.774.008-3.243.11-5.487.228-4.655.242-5.274.08-5.823-1.518-.44-1.278-.5-20.772-.07-22.322.384-1.384 1.798-2.976 3.217-3.621.932-.424 1.88-.514 5.457-.52 2.55-.003 4.788.132 5.445.33 1.541.461 3.698 2.488 4.589 4.311.857 1.754 1.09 3.89 1.493 13.661.22 5.375.32 6.206.879 7.39 1.302 2.76 3.612 4.163 7.816 4.749 3.779.526 7.015-.319 9-2.349 2.074-2.12 2.164-2.536 2.274-10.464.104-7.563.12-7.48-1.39-7.49-1.227-.007-1.314.383-1.07 4.784.388 7.03.33 9.315-.263 10.426-.7 1.312-2.034 2.06-3.628 2.036-1.602-.024-2.541-.684-3.394-2.384-.616-1.23-.666-1.758-.915-9.703-.145-4.676-.41-8.964-.597-9.67-.62-2.35-4.212-5.212-7.966-6.35l-1.126-.34 1.267-.323c7.545-1.928 12.429-6.654 13.3-12.872.544-3.88-.6-7.968-3.003-10.728-1.352-1.553-4.325-3.486-6.793-4.415C40.11.2 40.438.223 19.363.107L0 0l.176 2.144ZM62.896.432c-.085.222-.113.698-.062 1.058.092.649.133.655 4.876.799 2.631.08 4.988.245 5.238.368 1.08.53 1.093.88 1.093 28.354V57.74l-1.356 1.58-9.759.282-.176 1.834 51.108-.144.173-5.774c.096-3.176.223-9.386.282-13.801l.108-8.027h-2.533l.021 1.126c.012.62.12 3.218.24 5.774.214 4.527.2 4.706-.507 6.9-.919 2.851-2.458 5.205-4.936 7.544-2.182 2.06-5.182 3.699-7.589 4.146-.834.154-4.225.281-7.536.281-6.745 0-7.569-.169-8.528-1.743-.544-.894-.568-1.39-.563-11.917.005-10.085.048-11.079.526-12.134.79-1.74 1.766-2.372 3.655-2.369 4.036.007 7.016 3.785 8.217 10.419.182 1.007.41 3.605.505 5.774l.175 3.943h1.97V8.904l-2.111-.175v2.77c0 4.963-.921 10.146-2.276 12.804-.826 1.621-2.743 3.612-4.055 4.212-2.513 1.15-5.066.39-6.06-1.802-.502-1.106-.541-1.947-.547-11.693-.007-11.665-.023-11.559 1.871-12.35 1.359-.569 13.163-.541 15.374.035 5.739 1.496 10.915 7.06 12.169 13.081.34 1.63.341 2.462.006 5.82-.269 2.696-.3 4.025-.101 4.268.375.454 1.756.454 2.129 0 .185-.225.324-4.924.386-13.027l.098-12.674L88.736.1C66.656.039 63.029.086 62.896.432Zm61.062 0c-.086.222-.113.698-.063 1.058.092.645.154.656 4.455.8 2.398.08 4.566.246 4.816.368.249.122.598.537.773.923.442.97.457 53.69.016 54.514-.568 1.062-1.94 1.366-6.159 1.366h-3.949v1.971h32.923v-2.617l-2.424.186c-6.423.494-9.079.543-9.951.18-1.675-.693-1.695-.847-1.693-12.873.001-7.064.111-11.322.311-12.042.169-.612.726-1.531 1.236-2.042.824-.824 1.101-.928 2.469-.928 1.953 0 3.298.563 4.702 1.968 2.598 2.6 3.904 6.982 4.197 14.086l.168 4.084h1.97V8.904l-2.111-.175v3.009c0 10.934-3.706 17.777-9.334 17.236-1.185-.114-1.614-.307-2.239-1.007-.425-.477-.907-1.348-1.07-1.938-.183-.66-.298-4.984-.299-11.29-.002-11.352-.013-11.28 1.876-12.07 1.36-.569 11.217-.534 13.446.047 5.655 1.474 10.984 7.26 12.103 13.14.326 1.71.326 2.702.003 6.402-.294 3.374-.305 4.427-.047 4.591.527.335 1.784.257 2.098-.13.179-.222.322-5.2.386-13.45l.102-13.096L148.39.1c-20.861-.062-24.3-.015-24.432.331ZM180.876.22c-.369.369-.185 1.724.257 1.894.245.094 2.406.171 4.803.171 2.582 0 4.588.124 4.924.304 1.381.74 1.365.402 1.365 28.284 0 27.25-.008 27.454-1.167 28.201-.209.136-2.52.31-5.134.387-3.968.117-4.801.216-5.04.595-.157.25-.206.662-.109.916.162.422 2.324.46 25.621.46h25.445l.18-4.576c.1-2.517.208-8.76.241-13.872l.061-9.294-2.461-.177.246 4.454c.32 5.805.245 7.408-.445 9.547-1.623 5.029-5.76 9.333-10.706 11.139-1.747.637-2.154.667-9.07.667h-7.24l-2.121-2.122V45.866c0-11.226.006-11.343.636-12.523.768-1.44 1.845-2.048 3.623-2.048 3.63 0 6.509 3.307 7.845 9.013.297 1.269.564 3.914.668 6.62l.172 4.506h1.97l.144-42.705-2.114.175-.172 4.506c-.194 5.06-.724 7.822-2.007 10.468-1.172 2.418-2.327 3.718-3.992 4.494-2.695 1.256-5.008.737-6.137-1.378-.623-1.166-.637-1.402-.711-11.612-.08-11.251-.082-11.24 1.432-12.366.742-.552 1.212-.596 7.316-.682 7.248-.103 8.564.065 11.447 1.46 2.733 1.323 6.327 4.982 7.784 7.926 1.697 3.43 1.949 5.051 1.51 9.733-.201 2.14-.289 4.089-.195 4.331.18.472 1.477.596 2.098.202.284-.18.412-2.995.58-12.74.119-6.88.162-12.668.098-12.862-.093-.278-5.501-.352-25.787-.352-14.119 0-25.755.084-25.858.188Zm61.061 0c-.368.369-.184 1.724.258 1.894.245.094 2.433.171 4.862.171 4.813 0 5.305.134 5.914 1.608.24.58.305 7.76.25 27.326l-.075 26.54-.78.78c-.779.78-.785.781-5.627.922l-4.849.14v1.69h32.923l.091-.95c.05-.524-.024-1.067-.165-1.208-.153-.153-2.274-.12-5.296.085-2.773.187-5.393.251-5.824.143-.444-.112-1.024-.589-1.342-1.105-.538-.872-.557-1.347-.484-12.08l.076-11.171.844-1.2c.465-.659 1.403-1.494 2.085-1.854 1.154-.61 1.561-.655 5.909-.653 4.324.003 4.773.052 6.076.67 1.808.857 3.013 2.145 3.973 4.247.823 1.804.82 1.776 1.468 14.824.234 4.704.288 5.034 1.061 6.457.448.824 1.313 1.861 1.923 2.303 2.644 1.919 8.483 2.665 11.664 1.49 2.02-.745 3.737-2.307 4.556-4.141.626-1.404.67-1.876.769-8.189.077-4.974.016-6.805-.238-7.112-.384-.462-2.117-.562-2.38-.136-.094.152-.02 3.243.165 6.868.33 6.492.326 6.61-.262 7.828-.846 1.748-2.158 2.409-4.469 2.252-.343-.024-1.07-.435-1.615-.914-1.454-1.278-1.838-2.891-1.864-7.841a253.099 253.099 0 0 0-.224-8.486c-.187-4.07-.256-4.477-.964-5.686-1.227-2.095-3.711-3.847-7.08-4.993l-1.402-.477 2.102-.632c6.145-1.845 10.174-5.301 11.795-10.117.79-2.348.805-6.623.031-8.875-1.91-5.556-6.967-8.946-15.21-10.197-2.114-.32-6.422-.406-20.565-.407-9.841-.001-17.977.082-18.08.186Zm62.985 1.924 9.758.282 1.365 1.59-.149 54.021-.64.642c-.604.605-.914.649-5.487.782l-4.847.14-.177 1.831h50.957l.131-.633c.105-.504.502-18.358.569-25.56l.014-1.55-1.092-.089c-.601-.05-1.218.036-1.371.19-.185.184-.162 2.028.066 5.44.403 6.02.168 7.63-1.611 11.045-1.509 2.9-4.916 6.257-7.681 7.57-3.003 1.428-4.325 1.616-11.328 1.615-5.696-.001-6.327-.05-7.147-.55-1.96-1.196-1.914-.885-1.914-13.097 0-10.977.001-11 .662-12.342.786-1.598 1.752-2.178 3.615-2.17 4.08.02 7.184 4.052 8.233 10.697.262 1.663.579 6.748.575 9.242 0 .254.327.341 1.055.281l1.055-.087V8.904l-1.055-.087c-1.166-.097-1.123-.185-1.062 2.2.064 2.46-.526 7.56-1.133 9.803-1.425 5.27-4.24 8.222-7.84 8.222-1.099 0-1.578-.159-2.293-.761-1.753-1.476-1.788-1.715-1.888-12.899-.125-14.087-.838-13.164 10.065-13.03 7.096.086 7.196.096 9.005.86 3.842 1.62 7.199 4.841 9.161 8.79 1.456 2.929 1.699 4.714 1.311 9.648-.357 4.535-.328 4.642 1.205 4.508.832-.072.847-.102 1.017-2.045.094-1.084.221-6.914.281-12.956l.109-10.984-51.669-.144.175 2.115ZM366.798.43c-.085.223-.114.7-.063 1.06.09.636.191.658 3.61.795 4.353.174 5.593.717 6.738 2.95l.719 1.4v19.443c0 17.66-.048 19.712-.521 22.398-1.032 5.864-2.642 9.47-4.685 10.492-.745.372-1.687.492-3.869.492l-2.884.001v1.971h13.758c14.792 0 14.108.066 14.095-1.36-.011-1.174-.297-1.24-3.716-.865-3.993.438-4.637.241-5.997-1.834-1.487-2.267-2.54-6.015-3.212-11.424-.169-1.362-.296-8.018-.296-15.499 0-11.412.057-13.193.438-13.738.496-.709 1.155-.787 1.896-.224.278.21 2.06 3.09 3.961 6.398l9.04 15.732c3.072 5.345 7.254 12.633 9.295 16.196l3.709 6.478 4.684.077c3.648.06 4.683-.002 4.681-.282-.001-.197-.584-1.373-1.295-2.612-.711-1.24-1.755-3.14-2.319-4.225l-1.027-1.971-.09-14.928c-.053-8.935.032-16.54.214-18.944.636-8.416 2.454-14.235 4.883-15.625.351-.201 2.029-.418 3.857-.497l3.236-.14V.172h-27.576l-.09 1.098c-.049.603.048 1.183.217 1.287.169.105 1.602.021 3.185-.185 1.583-.207 3.227-.3 3.653-.21 1.693.365 3.46 3.11 4.52 7.023 1.178 4.35 1.377 6.949 1.521 19.932.076 6.935.057 13.049-.044 13.586-.233 1.242-1.073 1.757-1.934 1.185-.335-.223-6.121-10.15-12.858-22.06L383.981.172l-8.513-.075c-7.205-.063-8.538-.012-8.67.332Zm85.572.02c-5.529 1.22-10.171 4.295-13.824 9.158-3.276 4.36-5.4 9.413-6.452 15.35-.662 3.73-.669 10.515-.016 14.364 2.142 12.625 9.69 21.352 20.39 23.576 2.187.455 3.374.535 6.093.415 6.422-.286 10.767-2.057 14.632-5.966 4.496-4.546 6.696-10.145 7.494-19.076.364-4.07.229-4.532-1.279-4.385l-.869.085-.197 2.817c-.918 13.097-6.143 21.106-15.372 23.564-2.608.694-8.076.825-10.459.25-5.801-1.4-8.229-5.335-9.479-15.365-.566-4.546-.645-21.22-.122-25.771.931-8.105 2.214-11.803 4.979-14.354 1.646-1.519 3.258-2.184 6.257-2.583 7.702-1.026 14.586 3.736 19.392 13.416 1.394 2.809 2.445 5.58 3.572 9.416.873 2.972.876 2.977 1.821 3.068.52.05 1.057-.02 1.192-.155.141-.141.051-2.172-.209-4.739-.455-4.477-.429-11.724.074-20.335l.185-3.168h-1.163c-1.284 0-1.27-.024-1.579 2.653-.252 2.18-1.348 4.294-2.516 4.852-.923.44-1.066.44-2.237-.008-.688-.263-2.31-1.314-3.604-2.336-2.917-2.304-4.064-3.036-5.943-3.795-3.328-1.344-7.36-1.7-10.761-.949Zm34.048 1.694 9.759.282 1.365 1.59-.149 54.021-.641.642c-.603.605-.913.649-5.487.782l-4.847.14-.176 1.831h25.484c14.016 0 25.497-.031 25.514-.07.111-.256.728-27.433.626-27.602-.189-.313-2.284-.256-2.484.068-.095.153-.017 2.6.172 5.435.314 4.684.3 5.335-.145 7.111-1.179 4.698-5.022 9.5-9.202 11.5-2.948 1.41-4.209 1.587-11.28 1.587-6.68 0-7.199-.098-8.364-1.581-.574-.73-.588-1.016-.588-12.028 0-10.664.03-11.343.557-12.432.709-1.467 1.82-2.126 3.567-2.118 3.594.016 6.489 3.155 7.786 8.443.633 2.583 1.034 6.162 1.034 9.234v2.63l2.11-.175V8.904l-2.11-.175v2.63c0 10.808-3.496 17.683-8.992 17.683-1.163 0-1.568-.147-2.388-.868-.554-.487-1.113-1.322-1.274-1.901-.171-.615-.287-5.259-.288-11.487-.002-10.12.017-10.477.576-11.189.96-1.221 2.066-1.367 9.552-1.257 6.775.1 6.926.115 8.723.874 4.819 2.035 8.801 6.504 10.255 11.508.57 1.962.608 3.752.169 7.809-.385 3.556-.314 3.765 1.235 3.627.613-.054.874-.255 1.012-.777.103-.387.238-6.218.3-12.956l.114-12.252-51.669-.144.174 2.115ZM37.058 3.317c3.626 1.226 6.057 4.04 6.904 7.996.489 2.28.173 8.137-.564 10.449-1.089 3.418-3.36 5.895-6.169 6.726-1.58.467-7.435.897-10.743.788-2.596-.086-3.11-.189-4.24-.852-2.314-1.357-2.372-1.662-2.372-12.47V6.651l.785-1.337c1.347-2.295 1.873-2.439 8.943-2.453 4.943-.01 6.328.074 7.457.456Zm241.756-.044c2.998.892 5.338 3.113 6.59 6.256.566 1.423.649 2.126.656 5.571.006 2.476-.138 4.52-.384 5.493-.983 3.875-3.037 6.54-5.871 7.616-2.582.981-11.591 1.481-14.315.795-1.6-.404-3.042-1.744-3.447-3.204-.198-.714-.31-4.358-.307-9.995.004-8.007.055-8.982.522-10 .57-1.243 1.157-1.85 2.426-2.513 1.203-.628 12.032-.642 14.13-.019ZM254.179 78c-.211.142-.334.608-.282 1.067l.093.814 4.847.14c5.473.16 5.785.28 6.281 2.423.359 1.545.343 51.235-.016 52.529-.54 1.945-.885 2.067-6.286 2.225l-4.826.14v1.972h32.642l.089-1.093c.049-.602-.014-1.189-.141-1.305-.126-.116-2.416-.047-5.088.154-5.578.42-6.583.279-7.252-1.015-.37-.716-.421-2.231-.352-10.382l.081-9.544.871-1.082c1.754-2.179 2.105-2.264 10.063-2.431 5.135-.108 7.654-.278 9.185-.621 9.472-2.121 14.333-7.914 14.347-17.098.005-3.422-.351-5.165-1.591-7.78-2.106-4.441-6.493-7.367-13.037-8.693-1.719-.349-5.551-.45-20.682-.55-10.69-.07-18.731-.015-18.946.13Zm60.745.175c-.186.224-.296.7-.246 1.057.091.642.145.65 4.876.794 2.631.08 4.996.248 5.255.374.258.126.67.65.914 1.165.394.831.444 3.85.444 27.026 0 28.133.031 27.526-1.454 28.373-.44.251-2.186.421-5.3.515l-4.643.141-.088.765c-.069.603.05.798.563.922.358.087 11.857.123 25.554.081l24.903-.078.176-3.098c.096-1.704.268-7.941.382-13.859l.207-10.76-.714-.179c-.393-.099-.989-.092-1.325.015-.607.193-.61.225-.372 4.602.295 5.448.219 7.39-.359 9.196-1.678 5.244-6.755 10.249-11.746 11.579-1.029.274-3.386.386-8.197.387-6.206.002-6.827-.042-7.654-.547-1.764-1.077-1.773-1.141-1.771-12.742.001-6.578.113-10.911.302-11.589.165-.596.725-1.546 1.243-2.112.897-.979 1.032-1.03 2.727-1.025 2.233.005 3.946.924 5.388 2.89 2.1 2.863 3.017 6.417 3.252 12.596l.171 4.507 2.114.174-.145-42.704h-1.969l-.186 4.788c-.153 3.974-.31 5.21-.919 7.273-.894 3.029-1.56 4.375-2.898 5.857-1.44 1.595-2.799 2.22-4.828 2.22-1.392 0-1.825-.123-2.539-.725-1.572-1.324-1.715-2.438-1.715-13.39 0-5.384.118-10.1.262-10.478.144-.38.682-.99 1.196-1.356.924-.66 1.01-.667 8.109-.663 7.13.004 7.188.008 9.078.763 4.952 1.976 8.869 6.191 10.504 11.307.685 2.142.718 2.49.508 5.388-.123 1.704-.23 3.795-.238 4.647l-.014 1.55h2.251l.175-4.225c.255-6.175.339-21.17.121-21.524-.132-.214-7.714-.304-25.603-.304-21.817 0-25.462.057-25.752.406Zm78.322-.001c-.085.222.552 3.076 1.416 6.34.864 3.265 1.571 6.413 1.571 6.996 0 .651-2.156 7.238-5.6 17.106-6.587 18.879-6.697 19.174-8.205 22.179-2.306 4.591-3.983 6.16-6.848 6.403-1.849.157-2.533.72-1.967 1.619.286.454 1.197.499 11.503.567 8.027.053 11.301-.017 11.577-.246.211-.176.384-.605.384-.955 0-1.121-.509-1.268-3.369-.971-2.347.243-2.746.215-3.64-.249-3.815-1.982-3.593-12.937.324-15.923 1.525-1.163 2.971-1.354 9.518-1.255 5.252.079 6.127.157 6.778.599.792.537 1.071 1.152 3.293 7.237 2.497 6.838 2.616 7.222 2.523 8.191-.144 1.507-.882 1.711-5.044 1.395-1.918-.146-3.591-.16-3.719-.032-.128.128-.192.661-.142 1.184l.091.951h26.732v-1.972l-6.373-.281-1.043-1.127c-1.113-1.202-1.063-1.066-15.994-43.656-2.552-7.281-4.821-13.523-5.043-13.872-.387-.61-.558-.633-4.485-.633-3.291 0-4.113.078-4.238.404Zm60.813-.108c-7.539.764-14.431 6.088-18.576 14.349-5.877 11.712-5.197 27.647 1.616 37.882 2.431 3.653 6.656 7.252 10.506 8.95 3.33 1.468 4.951 1.753 9.971 1.753 5.338 0 6.85-.306 10.687-2.163 3.206-1.551 6.892-5.194 8.641-8.54 2.359-4.514 3.64-9.725 3.806-15.491l.081-2.816-2.392-.174-.005 1.777c-.003.977-.187 3.044-.408 4.593-1.902 13.294-9.263 20.639-20.737 20.692-2.661.012-5.995-.604-7.539-1.392-2.567-1.311-4.746-4.624-5.748-8.738-1.616-6.639-2.003-24.977-.723-34.194.93-6.69 2.935-10.897 6.071-12.737 3.706-2.174 10.293-2.012 14.385.353 5.654 3.269 10.212 10.375 13.343 20.807.969 3.228 1.136 3.512 2.064 3.512 1.304 0 1.332-.171.829-4.948-.394-3.732-.434-5.724-.24-11.943.128-4.105.238-8.414.244-9.576l.011-2.113-1.045-.086c-1.167-.097-1.163-.106-1.484 2.725-.331 2.91-1.867 5.107-3.573 5.107-1.128 0-2.056-.528-5.412-3.081-1.593-1.212-3.705-2.586-4.695-3.054-2.75-1.301-6.146-1.811-9.678-1.453Zm32.57-.111c-.193.078-.351.567-.351 1.086v.944l4.917.09c4.682.083 4.948.118 5.557.73l.641.64.083 26.539c.055 17.416-.014 26.877-.202 27.524-.482 1.659-1.005 1.819-6.299 1.925l-4.729.094.172 1.783h50.648l.202-1.127c.35-1.955.747-26.155.435-26.546-.321-.401-1.574-.461-2.139-.102-.317.2-.322 1.026-.035 4.952.189 2.592.264 5.394.166 6.227-.551 4.697-4.073 9.834-8.57 12.502-3 1.779-4.237 1.982-12.097 1.982h-6.868l-2.185-2.187.006-11.229c.006-10.464.043-11.31.547-12.42 1.814-4.001 7.426-2.625 9.996 2.452 1.463 2.889 2.388 7.936 2.393 13.05l.002 2.481 2.11-.174v-42.53h-1.969l-.182 3.802c-.204 4.252-.556 6.595-1.399 9.295-1.399 4.48-4.049 7.041-7.286 7.041-1.921 0-3.015-.614-3.671-2.061-.495-1.09-.535-1.977-.541-11.91l-.006-10.732.672-.726c1.12-1.21 2.485-1.392 9.444-1.258 7.088.135 7.957.303 10.924 2.104 4.394 2.667 7.837 7.606 8.455 12.129.135.985.077 3.045-.149 5.275-.203 2.011-.308 3.816-.234 4.01.077.2.617.352 1.249.352h1.114l.15-1.478c.083-.813.225-6.628.316-12.92.151-10.417.125-11.459-.294-11.62-.541-.207-50.477-.197-50.993.011Zm-194.75 3.517c4.521 2.121 6.69 7.199 6.3 14.744-.399 7.704-2.118 11.492-6.06 13.353-1.476.697-1.807.735-7.102.822-6.184.102-7.877-.175-9.52-1.559-1.647-1.387-1.669-1.562-1.669-13.32 0-9.01.069-10.886.433-11.757.581-1.392 1.179-2.02 2.522-2.652 1.013-.477 1.746-.522 7.316-.454 6.03.075 6.232.096 7.78.823Zm110.248 24.443c1.866 5.179 3.392 9.67 3.392 9.981 0 .31-.275.857-.612 1.216-.6.639-.718.651-6.293.651-5.322 0-5.729-.036-6.423-.583-.495-.39-.742-.854-.742-1.396 0-.668 6.151-18.678 6.661-19.505.086-.138.262-.146.391-.016s1.761 4.473 3.626 9.652Z",clipRule:"evenodd"}),(0,l.jsx)("mask",{id:"a",width:238,height:61,x:0,y:79,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:(0,l.jsx)("path",{fill:"#D9D9D9",stroke:"#000",strokeWidth:1.5,d:"M2 79.75h234c.69 0 1.25.56 1.25 1.25v57c0 .69-.56 1.25-1.25 1.25H2c-.69 0-1.25-.56-1.25-1.25V81c0-.69.56-1.25 1.25-1.25Z"})}),(0,l.jsxs)("g",{mask:"url(#a)",children:[(0,l.jsx)("path",{stroke:"#fff",strokeWidth:1.5,d:"M2 79.75h234c.69 0 1.25.56 1.25 1.25v57c0 .69-.56 1.25-1.25 1.25H2c-.69 0-1.25-.56-1.25-1.25V81c0-.69.56-1.25 1.25-1.25Z"}),(0,l.jsx)("g",{className:"inner-asterix",children:(0,l.jsxs)("g",{className:"inner-inner-asterix",children:[(0,l.jsx)("path",{fill:"#fff",d:"m-52.27 178.584 153.923-54.051c.834-.293 1.61.562 1.238 1.364L38.342 265.002a1 1 0 0 1-1.596.303l-89.375-85.053a1 1 0 0 1 .358-1.668ZM79.53 288.939l42.402-157.53c.23-.855 1.375-1.012 1.826-.251l78.276 131.869a1 1 0 0 1-.651 1.488l-120.68 25.662a1 1 0 0 1-1.173-1.238ZM261.799 229.944 141.51 119.742c-.652-.597-.264-1.685.619-1.736l153.102-8.731a1 1 0 0 1 1.021 1.265l-32.814 118.933a1 1 0 0 1-1.639.471ZM289.806 42.123l-153.923 54.05c-.834.293-1.611-.562-1.238-1.364l64.548-139.104a1 1 0 0 1 1.597-.304l89.375 85.054a1 1 0 0 1-.359 1.668ZM158.938-68.78 116.536 88.752c-.23.855-1.374 1.012-1.826.25L36.434-42.866a1 1 0 0 1 .652-1.488l120.678-25.662a1 1 0 0 1 1.174 1.238ZM-22.244-8.09 98.044 102.114c.653.598.265 1.685-.618 1.736l-153.102 8.731a1 1 0 0 1-1.021-1.264L-23.883-7.618a1 1 0 0 1 1.639-.471Z"}),(0,l.jsx)("path",{stroke:"#fff",d:"m-52.27 178.584 153.923-54.051c.834-.293 1.61.562 1.238 1.364L38.342 265.002a1 1 0 0 1-1.596.303l-89.375-85.053a1 1 0 0 1 .358-1.668ZM79.53 288.939l42.402-157.53c.23-.855 1.375-1.012 1.826-.251l78.276 131.869a1 1 0 0 1-.651 1.488l-120.68 25.662a1 1 0 0 1-1.173-1.238ZM261.799 229.944 141.51 119.742c-.652-.597-.264-1.685.619-1.736l153.102-8.731a1 1 0 0 1 1.021 1.265l-32.814 118.933a1 1 0 0 1-1.639.471ZM289.806 42.123l-153.923 54.05c-.834.293-1.611-.562-1.238-1.364l64.548-139.104a1 1 0 0 1 1.597-.304l89.375 85.054a1 1 0 0 1-.359 1.668ZM158.938-68.78 116.536 88.752c-.23.855-1.374 1.012-1.826.25L36.434-42.866a1 1 0 0 1 .652-1.488l120.678-25.662a1 1 0 0 1 1.174 1.238ZM-22.244-8.09 98.044 102.114c.653.598.265 1.685-.618 1.736l-153.102 8.731a1 1 0 0 1-1.021-1.264L-23.883-7.618a1 1 0 0 1 1.639-.471Z"})]})})]})]}),u=[{id:1,textContent:"Franco",projectName:"Old Ways",releaseYear:"2022",link:"/projects/Domengo",imageLink:"/animated-cormac.webp",projectColour:"#345612",focusGenre:"Art Direction"},{id:2,textContent:"Domengo",projectName:"Slow",releaseYear:"2022",link:"/projects/Domengo",imageLink:"/Max-Headshot.png",projectColour:"#444444",focusGenre:"Video Direction"},{id:3,textContent:"Afrojams Canberra",projectName:"Old Ways",releaseYear:"2022",link:"/projects/Domengo",imageLink:"/Franco.png",projectColour:"#213422",focusGenre:"Design"},{id:4,textContent:"Esoteric",projectName:"Slow",releaseYear:"2022",link:"/projects/Domengo",imageLink:"/Max-Headshot.png",projectColour:"#412323",focusGenre:"Art Direction"},{id:5,textContent:"Esotesric",projectName:"Old Ways",releaseYear:"2022",link:"/projects/Domengo",imageLink:"/Franco.png",projectColour:"#123123",focusGenre:"Design"}];var h=n(5472),d=n(5317),p=n(3216),f=n(649);const m=()=>{const[e,t]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const e=(0,h.P)((0,h.rJ)(d.db,"projects"),(0,h._M)("isFeatured","==",!0),(0,h.My)("featuredIndex")),n=(0,h.aQ)(e,(e=>{const n=[];e.forEach((e=>{n.push({id:e.id,...e.data()})})),t(n)}));return()=>n()}),[]),e};var g=n(5669);i.os.registerPlugin(s.u);const v=e=>{var t,n;let{image:a,isSection3Visible:o,windowWidth:c,data:u,hoveredItem:h,index:d}=e;const p=(0,r.useRef)(null),m=(0,r.useRef)(null),g=(0,r.useRef)(null),v=(0,r.useRef)(null),[y,b]=(0,r.useState)(!1),w="center center",[A,_]=(0,r.useState)(100),x={width:"68.5vw",height:"100%"},T=(e,t)=>{if(y){const n=p.current.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,s=.015,a=(e.clientX-r)*s,o=(e.clientY-i)*s;g.current&&(g.current.style.backgroundPosition="calc(50% + ".concat(a,"px) calc(50% + ").concat(o,"px)")),t.current.style.objectPosition="calc(50% + ".concat(a,"px) calc(50% + ").concat(o,"px)")}},k=()=>{v.current&&(v.current.style.transition="object-position 0.5s ease, min-width 0.5s ease-out 0s, scale 0.3s ease-out"),m.current.style.transition="object-position 0.5s ease, min-width 0.5s ease-out 0s, scale 0.3s ease-out",b(!0),setTimeout((()=>{v.current&&(v.current.style.transition="object-position 0s ease, min-width 0.5s ease-out 0s, scale 0.3s ease-out"),m.current&&(m.current.style.transition="object-position 0s ease, min-width 0.5s ease-out 0s, scale 0.3s ease-out")}),600)},I=()=>{b(!1),m.current.style.transition="object-position 0.5s ease, min-width 0.5s ease-out 0s, scale 0.3s ease-out",m.current.style.objectPosition=w};(0,r.useEffect)((()=>{const e=p.current,t=e=>T(e,m),n=e=>T(e,v);return e.addEventListener("mousemove",t),e.addEventListener("mouseenter",k),e.addEventListener("mouseleave",I),v.current&&e.addEventListener("mousemove",n),o&&(p.current.style.transition="none"),()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseenter",k),e.removeEventListener("mouseleave",I),v.current&&(e.removeEventListener("mousemove",n),e.removeEventListener("mouseenter",k),e.removeEventListener("mouseleave",I))}}),[y,w,o]);(0,r.useEffect)((()=>{const e=h?h.imageLink:u&&u.length>0?u[0].imageLink:"";e&&m.current&&(m.current.src=e)}),[y,h,u]);let P=null;const N=(e,t)=>{let n,r;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];r?(clearTimeout(n),n=setTimeout((()=>{Date.now()-r>=t&&(e.apply(this,s),r=Date.now())}),t-(Date.now()-r))):(e.apply(this,s),r=Date.now())}};(0,r.useEffect)((()=>{const e=v.current;if(e){const t=()=>{e.currentTime=0;const t=N((t=>{const n=e.duration,r=n*t.progress;r>=0&&r<=n&&(e.currentTime=r)}),100);P=s.u.create({trigger:".first-two-sections",start:"top top",scrub:!1,onUpdate:e=>t(e)})};return e.addEventListener("loadedmetadata",t),e.addEventListener("resize",t),()=>{e.removeEventListener("resize",t),e.removeEventListener("loadedmetadata",t),P&&P.kill()}}}),[v]),(0,r.useEffect)((()=>{console.log(d+h)}),[h]);const R=()=>100-.04*window.innerWidth,M=()=>{const e=.88*window.innerWidth,t=.5*window.innerHeight-.1*window.innerWidth;return Math.min(e,t)},[D,j]=(0,r.useState)((()=>{const e=R();return e+100*(M()-e)/100})),[L,O]=(0,r.useState)(100),[F,U]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),H=e=>{const t=parseFloat(e.target.value),n=R(),r=M();F||(L<2&&t>2?(U(!0),i.os.to({value:t},{value:100,duration:1,ease:"power3.inOut",onUpdate:function(){const e=this.targets()[0].value;j(n+(r-n)*e/100),_(e.toFixed(2))},onComplete:()=>{O(100),U(!1)}})):L>99&&t<99&&(U(!0),i.os.to({value:t},{value:1,duration:1,ease:"power3.inOut",onUpdate:function(){const e=this.targets()[0].value;j(n+(r-n)*e/100),_(e.toFixed(2))},onComplete:()=>{O(1),U(!1)}})),O(t),B(!1))};return(0,r.useEffect)((()=>{const e=()=>{const e=R(),t=M();j(e+100*(t-e)/100)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,l.jsxs)("div",{className:"mask-mouse-area area-".concat(d," ").concat(c<830&&1===d&&A<=79?"reduced-height":""),style:c<830?{height:"".concat(D,"px")}:{},children:[(0,l.jsx)(f.A,{to:"".concat(h?"/projects/".concat(h.displayName):u&&u.length>0?u[0].link:""),delay:2e3,onDelayStart:S,onDelayEnd:C,style:c<830&&1===d?{height:"".concat(D,"px")}:{},children:(0,l.jsxs)("div",{className:"mask-image-wrap",style:c<830&&1===d?{height:"".concat(D,"px"),maxHeight:"".concat(D,"px")}:{},ref:p,children:[(0,l.jsxs)("div",{children:[1===d&&(0,l.jsx)("video",{className:"scroll-video",ref:v,style:c<830&&1===d?{height:"".concat(D,"px")}:{},id:"v0",preload:"preload",muted:!0,children:(0,l.jsx)("source",{src:"/test-scroll.mp4",type:"video/mp4"})}),(0,l.jsx)("div",{className:"reference-peace-bg-gradient"}),(0,l.jsx)("img",{className:"mask-image",src:a,style:{...x,...c<830&&1===d?{height:"".concat(D,"px")}:{}},ref:m,alt:"Franco",loading:"lazy"}),h&&(0,l.jsx)("div",{className:"mask-image-blurhash-wrap",style:{backgroundImage:"url(".concat(null===(t=h.mainFeaturedImage)||void 0===t?void 0:t.blurhash,")")},children:(0,l.jsx)("div",{className:"mask-image ".concat(h.mainFeaturedImage?"mask-image-hover-opacity-visible":"mask-image-hover-opacity-hidden"),style:{...x,...c<830&&1===d?{height:"".concat(D,"px")}:{},backgroundImage:"url(".concat(null===(n=h.mainFeaturedImage)||void 0===n?void 0:n.url,")")},ref:g,alt:"Hovered Image",onLoad:()=>{g.current.classList.add("mask-image-hover-opacity-visible"),g.current.classList.remove("mask-image-hover-opacity-hidden")},onError:()=>{g.current.classList.add("mask-image-hover-opacity-hidden"),g.current.classList.remove("mask-image-hover-opacity-visible")}})})]}),(0,l.jsx)("div",{className:"details",children:(0,l.jsx)("div",{className:"player-project-name",children:h?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"artist-name",children:(0,l.jsx)("span",{className:"artist-name-span",children:h.displayName})}),(0,l.jsx)("p",{children:(0,l.jsx)("span",{children:h.videoName})}),(0,l.jsx)("p",{className:"home-details-cta",children:(0,l.jsx)("span",{className:"details-button",children:"Full Project"})})]}):u&&u.length>0?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"artist-name",children:(0,l.jsx)("span",{className:"artist-name-span",children:u[0].textContent})}),(0,l.jsx)("p",{children:(0,l.jsx)("span",{children:u[0].projectName})}),(0,l.jsx)("p",{children:(0,l.jsx)("span",{className:"details-button",children:"Full Project"})})]}):(0,l.jsx)("div",{children:5==d?(0,l.jsx)("a",{className:"primary-button insta-button",children:"Instagram"}):(0,l.jsx)("p",{children:"No data available"})})})}),(0,l.jsx)("div",{className:"body scroll-notification",children:(0,l.jsxs)("p",{onClick:()=>E(85),children:["(",(0,l.jsx)("span",{children:"SCROLL"}),")"]})})]})}),c<830&&1===d&&(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:A,onInput:e=>{const t=parseFloat(e.target.value),n=R(),r=M();j(n+(r-n)*t/100),i.os.to(p,{height:D}),_(t.toFixed(2))},onMouseUp:H,onTouchEnd:H,onMouseDown:()=>B(!0),onTouchStart:()=>B(!0),className:"slider-vertical"})]})},y=()=>(0,l.jsxs)("div",{className:"page-one",children:[(0,l.jsx)("div",{className:"main-heading-wrap high-z-index-layer",children:(0,l.jsxs)("div",{className:"main-heading-wrap-inner",children:[(0,l.jsx)("h1",{className:"heading max-title",children:"AX DONA"}),(0,l.jsxs)("h3",{className:"body max-subtitle",children:["Visual Direction & ",(0,l.jsx)("br",{})," Cinematography"]})]})}),(0,l.jsxs)("div",{className:"see-my-work high-z-index-layer",children:[(0,l.jsx)(a.A,{custom:2.5,variant:"opacity",elementClass:"body",element:"div",textContent:"NAVIGATING AN UN-INTERRUPTED STREAM OF MODERN CREATIVITY, BY DOCUMENTING A CURATED LINEUP OF ARTISTS & PROLIFICS."}),(0,l.jsx)(f.A,{to:"/films",delay:1500,onDelayStart:S,onDelayEnd:C,children:(0,l.jsx)("button",{className:" primary-button button-gradient",children:"Full Archive"})})]})]}),b=e=>{let{windowWidth:t}=e;const n=(0,r.useRef)(null),[i,s]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=()=>{if(n.current){const{offsetTop:e,clientHeight:t}=n.current,r=t,i=window.scrollY+window.innerHeight;s(i>=e+1.15*r)}};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)}),[]),(0,l.jsxs)("div",{className:"page-two ".concat(i?"visible":""),ref:n,children:[(0,l.jsx)("div",{className:"page-two-row-one high-z-index-layer",children:(0,l.jsx)("span",{className:"body",children:(0,l.jsx)(a.A,{custom:1,textContent:"DETAILING SHOTS & SCENES",element:"div"})})}),(0,l.jsxs)("div",{className:"page-two-row-two high-z-index-layer",children:[(0,l.jsx)(a.A,{custom:2,textContent:"& Based In",element:"span",elementClass:"body born-in"}),(0,l.jsxs)("span",{className:"title max-location",children:[(0,l.jsx)(a.A,{textContent:"Sydney,",element:"div",elementClass:"title"}),(0,l.jsx)(a.A,{textContent:"Australia.",element:"div",elementClass:"title"})]})]}),(0,l.jsxs)("div",{className:"page-two-row-three high-z-index-layer",children:[(0,l.jsx)("span",{className:"body",children:(0,l.jsx)(a.A,{custom:2,textContent:"I\u2019M DRIVEN BY SHARING AND  VISUALISING COLLABORATIVE IDEAS THROUGH THE LENSE OF LOCAL & INTERNATIONAL PROJECTS.",element:"div"})}),(0,l.jsx)("span",{className:"my-work-cta",children:(0,l.jsx)(a.A,{custom:2,variant:"opacity",textContent:"My work",element:"button",elementClass:"primary-button button-gradient",onClick:()=>E(190)})})]})]})},w=e=>{let{onHoverChange:t,featuredProjects:n,prevHover:s,setPrevHover:c,projectColour:u,setProjectColour:h}=e;const d=(0,r.useRef)(null),[p,m]=(0,r.useState)(!1),{x:g,y:v,isOutside:y}=(0,o.A)(".App"),[b,w]=(0,r.useState)(0),[A,_]=(0,r.useState)(0),[x,E]=(0,r.useState)(0),[T,k]=(0,r.useState)({vx:0,vy:0}),[I,P]=(0,r.useState)(""),[N,R]=(0,r.useState)({translateY:0,rotate:0}),M=(0,r.useRef)(null),D=(0,r.useRef)(null),j=(new Date).getFullYear(),L=j-1;(0,r.useEffect)((()=>{const e=()=>{if(d.current){const{offsetTop:e,clientHeight:t}=d.current,n=t,r=window.scrollY+window.innerHeight;m(r>=e+.8*n)}};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)}),[]);(0,r.useEffect)((()=>{k({vx:g-A,vy:v-x}),_(g),E(v)}),[g,v]);const O=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,r.useEffect)((()=>{const e={translateY:O(1.5*T.vy,-3,3),rotate:O(1.5*T.vx,-1.5,1.5)};return R(e),D.current&&clearTimeout(D.current),D.current=setTimeout((()=>{R({translateY:0,rotate:0})}),100),()=>clearTimeout(D.current)}),[T]),(0,r.useEffect)((()=>{i.os.to(".home-hover-desc",{width:document.querySelector(".home-hover-desc .link-desc > span").clientWidth,duration:0}),i.os.to(".home-hover-desc",{height:document.querySelector(".home-hover-desc .link-desc > span").clientHeight,duration:1})}),[I]),(0,l.jsxs)("section",{className:"page-three-wrap",ref:d,children:[(0,l.jsxs)("div",{className:"home-hover-desc",ref:M,style:{position:"fixed",left:"".concat(g-16,"px"),top:"".concat(v-20,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:[(0,l.jsx)("div",{className:"home-hover-svg-wrap",children:(0,l.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"home-hover-arrow",children:(0,l.jsx)("path",{style:{fill:"".concat(u)},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,l.jsx)("p",{className:"body link-desc",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:I}})})]}),(0,l.jsxs)("div",{className:"page-three ".concat(p?"visible":""),children:[(0,l.jsx)("div",{className:"high-z-index-layer featured-work-wrap",children:(0,l.jsx)(a.A,{variant:"opacity",textContent:"FEATURED WORK ( ".concat(j," / ").concat(L," )"),element:"p",elementClass:"body"})}),(0,l.jsx)("span",{className:"heading home-project-list",onMouseLeave:()=>{i.os.to(".home-hover-desc .link-desc > span",{y:"100%",duration:.2})},children:n.length>0?n.map((e=>{var n;return(0,l.jsxs)("div",{className:"title ".concat(s&&s.id===e.id?"prev-hover":""),onMouseEnter:()=>{return n=e,s&&s.id===n.id?c(n):(c(n),t(n)),h(n.projectColor),void i.os.to(".home-hover-desc .link-desc > span",{y:"100%",duration:.3,onComplete:()=>{P(n.focusGenre),i.os.to(".home-hover-desc .link-desc > span",{y:"100%",color:n.projectColor,opacity:0,duration:0,onComplete:()=>{i.os.to(".home-hover-desc .link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})}})}});var n},children:[(0,l.jsx)("div",{className:"project-color",style:{backgroundColor:"".concat(u)}}),(0,l.jsx)(f.A,{to:"projects/".concat(e.displayName),delay:2e3,onDelayStart:()=>S(e.projectColor),onDelayEnd:C,children:(0,l.jsx)(a.A,{custom:e.id,textContent:e.displayName,element:"div",elementClass:"title featured-project-link"},e.id)}),(0,l.jsx)("img",{src:null===(n=e.mainFeaturedImage)||void 0===n?void 0:n.blurhash,alt:e.id,style:{display:"none"}})]},e.id)})):(0,l.jsx)("p",{children:"No featured projects available."})})]}),(0,l.jsx)("button",{className:"primary-button high-z-index-layer button-gradient",children:"Full Archive"})]})},A=e=>{let{windowWidth:t}=e;const[n,s]=(0,r.useState)(0),[o,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),h=(0,r.useRef)(null),d=["".concat("","/animated-cormac.webp"),"".concat("","/Franco.png"),"".concat("","/animated-cormac.webp")],p=e=>()=>{console.log(t),t>=830&&i.os.to(".page-four-service-image",{y:"-".concat(.11*window.innerWidth*(e-1)+20*(e-1),"px"),ease:"power3.inOut",duration:1})};return(0,r.useEffect)((()=>{if(console.log(t),u.current&&h.current&&t>=830){const e=u.current.clientHeight,t=h.current.clientHeight;let r=n-t/2;r<0&&(r=0),r+t>e&&(r=e-t),h.current.style.top="".concat(r,"px")}}),[n]),(0,l.jsxs)("div",{className:"page-four",children:[(0,l.jsxs)("div",{className:"page-four-top-wrap high-z-index-layer",children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"title-body",children:"What I Do:"})}),(0,l.jsxs)("div",{className:"page-four-top-wrap-desc",children:[(0,l.jsx)("p",{className:"body",children:"With years spent studying subtleties,"}),(0,l.jsx)("p",{className:"body",children:"I shoot stories, with creatives, objects & companies."})]}),(0,l.jsxs)("div",{className:"page-four-top-wrap-desc",children:[(0,l.jsx)("p",{className:"body",children:"Covering various visual disciplines,"}),(0,l.jsx)("p",{className:"body",children:"Working with the inspired to produce the inspiring."})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"primary-button what-i-do-cta button-gradient insta-button",children:"Instagram"})})]}),(0,l.jsxs)("div",{className:"page-four-middle-wrap ".concat(o?"service-toggle-desc":"service-toggle-image"),onMouseMove:e=>{if(console.log(t),u.current&&h.current&&t>830){const t=u.current.getBoundingClientRect(),n=e.clientY-t.top,r=u.current.clientHeight,s=h.current.clientHeight;let a=n-s/2;a<0&&(a=0),a+s>r&&(a=r-s),i.os.to(h.current,{top:a,ease:"power3.out",duration:.5})}},onClick:()=>{console.log(t),c(!(o||t<=830))},style:{position:"relative"},ref:u,children:[(0,l.jsxs)("div",{className:"page-four-service-image-wrap",ref:h,style:{position:"absolute",right:0},children:[(0,l.jsx)("div",{className:"page-four-service-image",style:{backgroundImage:"url(".concat(d[0],")")}}),(0,l.jsx)("div",{className:"page-four-service-image",style:{backgroundImage:"url(".concat(d[1],")")}}),(0,l.jsx)("div",{className:"page-four-service-image",style:{backgroundImage:"url(".concat(d[2],")")}})]}),(0,l.jsxs)("div",{className:"page-four-service-one page-four-service",onMouseEnter:p(1),children:[t<=830&&(0,l.jsx)("img",{src:d[0],alt:"service-image",className:"service-image-mobile"}),(0,l.jsx)(a.A,{custom:1,textContent:"Art-Direction",element:"div",elementClass:"title"}),(0,l.jsx)("div",{className:"service-desc",children:(0,l.jsx)("p",{className:"body",children:"DEFINING STRONG CONCEPTUAL NARRATIVES BY NAVIGATING THE NUANCES OF A CLIENT\u2019S REQUIREMENTS."})})]}),(0,l.jsxs)("div",{className:"page-four-service-two page-four-service",onMouseEnter:p(2),children:[t<=830&&(0,l.jsx)("img",{src:d[1],alt:"service-image",className:"service-image-mobile"}),(0,l.jsx)(a.A,{custom:2,textContent:"Collaboration",element:"div",elementClass:"title"}),(0,l.jsx)("div",{className:"service-desc",children:(0,l.jsx)("p",{className:"body",children:"SEEING EYE TO EYE WITH CREATIVES & PRODUCING VISUALS TO MATCH THEIR VISION."})})]}),(0,l.jsxs)("div",{className:"page-four-service-three page-four-service",onMouseEnter:p(3),children:[t<=830&&(0,l.jsx)("img",{src:d[2],alt:"service-image",className:"service-image-mobile"}),(0,l.jsx)(a.A,{custom:3,textContent:"Production",element:"div",elementClass:"title"}),(0,l.jsx)("div",{className:"service-desc",children:(0,l.jsxs)("p",{className:"body",children:["END TO END EXECUTION WITH THE SAME LEVEL OF INTENTION THROUGHOUT,",(0,l.jsx)("br",{}),"FROM PRE ",(0,l.jsx)("span",{children:"\u2192"})," POST PRODUCTION."]})})]})]}),(0,l.jsx)("div",{className:"page-four-bottom-wrap high-z-index-layer",children:(0,l.jsx)(f.A,{to:"/contact",delay:1500,onDelayStart:S,onDelayEnd:C,children:(0,l.jsx)("div",{className:"primary-button button-gradient",children:"Let's work"})})}),(0,l.jsxs)("div",{className:"page-four-dynamic-wrap",children:[(0,l.jsx)("div",{className:"dynamic-video-player dynamic-video-player-4",children:(0,l.jsx)(v,{image:"/animated_webp/visiontovision1.webp",section:4,index:4})}),(0,l.jsx)("div",{className:"dynamic-video-player dynamic-video-player-4 middle",children:(0,l.jsx)(v,{image:"/animated_webp/visiontovision2.webp",section:4,index:4})})]})]})},_=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?n(!0):n(!1)}))}),{root:null,rootMargin:"0px",threshold:.9});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}}),[]),(0,l.jsx)("div",{className:"page-five high-z-index-layer ".concat(t?"visible":""),ref:e,children:(0,l.jsxs)("div",{className:"page-five-container",children:[(0,l.jsx)("div",{className:"page-five-left"}),(0,l.jsxs)("div",{className:"page-five-right ",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(a.A,{textContent:"Vision",element:"h2",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"To Vision",element:"h2",elementClass:"heading"})]}),(0,l.jsxs)("div",{className:"home-about-desc",children:[(0,l.jsx)(a.A,{textContent:"TRANSLATING CREATIVES IMAGINATION TO A STRUCTURED, INTUITIVE & INTENTIONAL APPROACH.",custom:2,element:"p",elementClass:"body"}),(0,l.jsx)(a.A,{textContent:"BY EXPLORING & UNDERSTANDING THE PASSION OF PEERS. EXPRESSING THEIR OUTER-VIDUALISM*",custom:2.5,element:"p",elementClass:"body"})]}),(0,l.jsx)(f.A,{to:"/about",delay:1500,onDelayStart:S,onDelayEnd:C,children:(0,l.jsx)(a.A,{variant:"opacity",textContent:"Get to know me",element:"p",elementClass:"primary-button button-gradient"})})]})]})})},x=(0,r.forwardRef)(((e,t)=>{const[n,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?i(!0):i(!1)}))}),{root:null,rootMargin:"0px",threshold:.05});return t.current&&e.observe(t.current),()=>{t.current&&e.unobserve(t.current)}}),[]),(0,l.jsxs)("div",{className:"page-six ".concat(n?"visible":""),ref:t,children:[(0,l.jsxs)("div",{className:"home-reference-top home-reference-row",children:[(0,l.jsx)(a.A,{variant:"opacity",textContent:"I'M CURRENTLY FORMULATING..",element:"div",elementClass:"body"}),(0,l.jsx)(a.A,{textContent:"A VISUAL ARTS",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"MAGAZINE BY YOUNG",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"CREATORS:",element:"div",elementClass:"heading"})]}),(0,l.jsx)("div",{className:"home-reference-center home-reference-row",children:(0,l.jsx)(c,{})}),(0,l.jsxs)("div",{className:"home-reference-bottom home-reference-row",children:[(0,l.jsxs)("div",{className:"home-reference-bottom-left home-reference-bottom-column",children:[(0,l.jsx)(a.A,{textContent:"PLATFORMING",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"ONE ANOTHER",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"THROUGH",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"CREATIVE",element:"div",elementClass:"heading"}),(0,l.jsx)(a.A,{textContent:"PURSUITS.",element:"div",elementClass:"heading"})]}),(0,l.jsxs)("div",{className:"home-reference-bottom-right home-reference-bottom-column",children:[(0,l.jsx)(a.A,{textContent:"REFERENCE PEACE AIMS TO BRIDGE THE GAP BETWEEN IMPRESSION & EXPRESSION; BY PUTTING A SPOTLIGHT ON UN-SPOTLIGHTED*",element:"p",elementClass:"body"}),(0,l.jsx)("div",{className:"primary-button",children:"Read More"})]})]})]})})),E=e=>{const t=window.innerHeight*(e/100);window.scrollTo({top:t,behavior:"smooth"})},S=e=>{i.os.to(".mask-mouse-area",{alignItems:"start",duration:0}),i.os.to(".body",{opacity:"0",duration:.2,ease:[.76,0,.24,1]}),i.os.to(".details",{opacity:"0",duration:.2,ease:[.76,0,.24,1]}),i.os.to(".mask-mouse-area > a",{height:"20",duration:1.2,delay:.2,ease:[.76,0,.24,1]}),e&&document.documentElement.style.setProperty("--secondary-dark",e)},C=(e,t)=>{console.log("Delay ended for link to ".concat(t))},T=function(){const e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=(0,r.useRef)(null),[o,c]=(0,r.useState)(0),h=(0,r.useRef)(null),[d,f]=(0,r.useState)(window.innerWidth),[E,S]=(0,r.useState)(window.innerHeight);let C=-1;const T=m(),[k,I]=(0,r.useState)([T[0]]),[P,N]=(0,r.useState)(0),R=(0,r.useRef)(null),[M,D]=(0,r.useState)(!1),[j,L]=(0,r.useState)(0),[O,F]=(0,r.useState)(null);(0,r.useEffect)((()=>{M?(I(T[0]),U(T[0]),T[0].projectColor&&N(T[0].projectColor)):(U(null),I(null))}),[M]);const U=e=>{i.os.to(".player-project-name span",{y:"150%",duration:.5,ease:"ease-in-out",onComplete:()=>{F(e),i.os.to(".player-project-name span",{y:"0%"})}})};(0,r.useEffect)((()=>(document.documentElement.style.setProperty("--primary-color","#181818"),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)"),()=>{window.scrollTo(0,0)})),[]),(0,r.useLayoutEffect)((()=>{const e=new ResizeObserver((()=>{const e=window.innerWidth,t=window.innerHeight;f(e),S(t)}));return e.observe(document.body),()=>{e.disconnect()}}),[]),(0,r.useLayoutEffect)((()=>{const e=[];let r=i.os.matchMedia();i.os.fromTo(".scroll-notification",{opacity:0},{opacity:1,delay:.1});return r.add("(min-width: 831px)",(()=>{i.os.to(".page-five-right",{clipPath:"polygon(100% 0, 100% 0, 100% 100%, 100% 100%)",scrollTrigger:{trigger:".page-six",start:"-710px top",end:"-550px top",scrub:1,id:"scrub"}}),i.os.fromTo(".dynamic-video-player-1 .mask-image, .dynamic-video-player-1 .mask-image-blurhash-wrap",{width:"calc(68.5vw)"},{width:"45.3vw",scrollTrigger:{start:"top top",end:()=>"+=".concat(E),scrub:2,id:"scrub",trigger:n.current}}),i.os.fromTo(".dynamic-video-player-1 .mask-image-wrap, .dynamic-video-player-1 .mask-mouse-area",{height:"calc(100vh - 4vw - 164px)",maxHeight:"calc(100vh - 4vw - 164px)"},{height:"calc(100vh - 4vw - 84px)",maxHeight:"calc(100vh - 4vw - 84px)",scrollTrigger:{trigger:n.current,start:"top top",end:()=>"+=".concat(E),scrub:2,id:"scrub"}}),i.os.to(".inner-asterix",{rotate:"-200deg",transformOrigin:"center",scrollTrigger:{trigger:".page-six",start:"-92px top",end:"bottom bottom",scrub:!0,id:"scrub",onUpdate:e=>C=-1*e.direction}}),i.os.to(".dynamic-video-player-5 .mask-image",{width:"92vw",scale:2,transformOrigin:"top left",scrollTrigger:{trigger:".page-six",start:"-610px top",end:"-550px top",scrub:2,id:"scrub"}}),i.os.to(".mask-image, .scroll-video, .mask-image-blurhash-wrap",{"-webkit-filter":"blur(10px)",filter:"blur(10px)",transformOrigin:"top left",scrollTrigger:{trigger:".page-six",start:"-610px top",end:"-550px top",scrub:2,id:"scrub"}}),i.os.to(".dynamic-video-player-4.middle .mask-image",{width:"92vw",transformOrigin:"top left",scale:1.5,scrollTrigger:{trigger:".page-six",start:"-610px top",end:"-550px top",scrub:2,id:"scrub"}}),i.os.to(".dynamic-video-player-5 .mask-image-wrap",{width:"92vw",minWidth:"92vw",scrollTrigger:{trigger:".page-six",start:"-600px top",end:"-550px top",scrub:2,id:"scrub"}}),i.os.to(".dynamic-video-player-4.middle .mask-image-wrap",{width:"68.7vw",minWidth:"68.7vw",scrollTrigger:{trigger:".page-six",start:"-600px top",end:"-550px top",scrub:4,id:"scrub"}}),i.os.to(".reference-peace-bg-gradient",{y:"-50%",scrollTrigger:{trigger:".page-six",start:"-200px top",end:"400px top",scrub:!0,id:"scrub"}}),i.os.to(".page-three",{y:-60,scrollTrigger:{trigger:".page-four",start:()=>"-".concat(1.5*window.innerHeight," top"),end:()=>d/.4,scrub:1,id:"scrub"}}),i.os.to(".dynamic-video-player-1 .mask-mouse-area",{y:20,scrollTrigger:{trigger:".page-four",start:()=>"-".concat(1.5*window.innerHeight," top"),end:()=>d/.4,scrub:1,id:"scrub"}}),e.push(s.u.create({trigger:a.current,pin:".page-five",start:()=>"-".concat(2*E-.08*d+80," top"),pinSpacer:!1,end:"bottom bottom"})),e.push(s.u.create({trigger:a.current,start:"-84px top",pin:".dynamic-video-player-5",pinSpacer:!1,end:"bottom bottom"}))})),r.add("(max-width: 830px)",(()=>{let r=.88*d;i.os.fromTo(".dynamic-video-player-1 .mask-image-wrap",{maxHeight:"calc(100vh - 12vw)"},{maxHeight:"calc(50vh - 10vw)",scrollTrigger:{trigger:n.current,start:"top top",end:"100vh",scrub:2,id:"scrub"}}),i.os.to(".reference-peace-bg-gradient",{y:"-50%",opacity:1,scrollTrigger:{trigger:".page-six",start:"".concat(3.6*d," bottom"),end:()=>"+=200px",scrub:!0,id:"scrub"}}),n.current&&i.os.to(".page-three",{y:"-100vh",scrollTrigger:{trigger:n.current,start:()=>n.current.offsetTop+n.current.clientHeight-E-120,end:()=>n.current.offsetTop+1.8*n.current.clientHeight-E,scrub:!0,id:"scrub"}}),i.os.to(".mask-image, .scroll-video, .mask-image-blurhash-wrap",{"-webkit-filter":"blur(10px)",filter:"blur(10px)",scrollTrigger:{trigger:".page-six",start:"".concat(3.6*d," bottom"),end:()=>"+=100px",scrub:2,id:"scrub"}}),e.push(s.u.create({trigger:".dynamic-video-player-5",start:()=>"bottom bottom",pin:".dynamic-video-player-5",pinSpacer:!1,end:"+=".concat(t.current.offsetHeight-3.6*d+.9*d,"px"),onUpdate:e=>{if(null===r)return;const t=Math.max(0,e.scroll()-e.start),n=window.innerHeight-.16*window.innerWidth,s=Math.min(r+t,n);console.log("New Height:",s),i.os.set(".dynamic-video-player-5 .mask-mouse-area, .dynamic-video-player-5 .mask-mouse-area > a, .dynamic-video-player-5 .mask-mouse-area > a > div, .dynamic-video-player-5 .mask-mouse-area .mask-image",{minHeight:"".concat(s,"px")})}}))})),e.push(s.u.create({trigger:".page-one",start:"top top",pin:".dynamic-video-player-1",pinSpacer:!1,end:()=>n.current.offsetTop+n.current.clientHeight-E-120})),()=>{e.forEach((e=>e.kill())),s.u.clearMatchMedia()}}),[d,E,n,a,R,o,M]),(0,r.useEffect)((()=>{function e(){f(window.innerWidth),S(window.innerHeight)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);let V=(0,p.zy)();(0,r.useEffect)((()=>{i.os.fromTo(".mask-mouse-area > a",{height:"0px"},{height:"auto",duration:1,ease:[.76,0,.24,1],delay:.2})}),[V]);const B=()=>{if(n.current&&h.current){const e=h.current.offsetHeight;window.innerWidth<=830?c(e+E):c(e)}};return(0,r.useEffect)((()=>{B();const e=()=>{B()};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),(0,r.useEffect)((()=>{const e=()=>{B()};return h.current&&h.current.addEventListener("transitionend",e),()=>{h.current&&h.current.removeEventListener("transitionend",e)}}),[h.current,d]),(0,r.useEffect)((()=>{const e=R.current;if(!e)return;const t=new IntersectionObserver((t=>{let[n]=t;n.isIntersecting&&window.scrollY<e.offsetTop?D(!0):!n.isIntersecting&&window.scrollY<e.offsetTop&&D(!1)}),{threshold:.03});return t.observe(e),()=>{e&&t.unobserve(e)}}),[R.current]),(0,l.jsxs)("main",{className:"home",children:[(0,l.jsxs)("section",{className:"page",ref:n,style:{height:o},children:[(0,l.jsx)("div",{className:"".concat(d<830?"small-dynamic-video-player":""," dynamic-video-player dynamic-video-player-1"),ref:e,children:(0,l.jsx)(v,{index:1,data:u,hoveredItem:O,image:"/franco.png",isSection3Visible:M,section:1,windowWidth:d})}),d<830?(0,l.jsx)(y,{windowWidth:d}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("section",{className:"text-content-layer first-three-sections",ref:h,children:[(0,l.jsxs)("div",{className:"first-two-sections",children:[d>830?(0,l.jsx)(y,{windowWidth:d}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(b,{title:"Intro",windowWidth:d})]}),(0,l.jsx)("div",{className:"section-three-wrap",ref:R,children:(0,l.jsx)(w,{title:"Project list",data:u,onHoverChange:U,featuredProjects:T,prevHover:k,setPrevHover:I,projectColour:P,setProjectColour:N})})]})]}),(0,l.jsx)(A,{windowWidth:d}),(0,l.jsxs)("div",{className:"about-reference-wrap",ref:a,children:[(0,l.jsx)("div",{className:"dynamic-video-player dynamic-video-player-5",children:(0,l.jsx)(v,{image:"/animated_webp/visiontovision3.webp",section:5,index:5})}),(0,l.jsx)(_,{title:"About"}),(0,l.jsx)(x,{ref:t})]}),(0,l.jsx)("div",{className:"home-contact-wrap",children:(0,l.jsx)(g.A,{})})]})}},5402:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043);const i={"project-title":"image_project-title__qoyu3",projectPageSection1:"image_projectPageSection1__JHvLf","single-image":"image_single-image__+yVu9",hiddenPreloadedBlurhash:"image_hiddenPreloadedBlurhash__ZBeI4",imageWrap:"image_imageWrap__fkNwM",buttonWrap:"image_buttonWrap__kt5of",thumbnailWrap:"image_thumbnailWrap__i1J+b"};var s=n(3216),a=n(5472),o=n(5317),l=n(579);const c=()=>{const{projectId:e,imageIndex:t}=(0,s.g)(),[n,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(parseInt(t,10)),[d,p]=(0,r.useState)(null);(0,r.useEffect)((()=>()=>{window.scrollTo(0,0)}),[]),(0,r.useEffect)((()=>{n&&n.projectColor&&(document.documentElement.style.setProperty("--primary-color",n.projectColor),document.documentElement.style.setProperty("--secondary-dark",n.projectColor)),window.scrollTo(0,0)}),[n]),(0,r.useEffect)((()=>{(async()=>{try{const n=(0,a.H9)(o.db,"projects",e),r=await(0,a.x7)(n);if(r.exists()){const e=r.data();c(e),p(m(e,parseInt(t,10)))}else console.error("Project not found.")}catch(n){console.error("Error fetching project data:",n)}})()}),[e,t]);const f=e=>e?Object.values(e.imageUrls).flat().length:0,m=(e,t)=>{if(e&&e.imageUrls){const n=Object.values(e.imageUrls).flat().find((e=>e.id===t));return n?n.blurhash:null}return null},g=t=>{if(!n)return;const r=f(n),i=Object.values(n.imageUrls).flat().map((e=>e.id));h((s=>{const a=i.indexOf(s);if(-1===a)return s;const o=i[(a+t+r)%r];return console.log("Navigating from:",s,"to:",o),p(m(n,o)),window.history.replaceState(null,"","/#/projects/".concat(e,"/").concat(o)),o}))};(0,r.useEffect)((()=>{document.title="".concat(u?"".concat(u," - "):"").concat(n?"".concat(n.displayName," - "):"","Max Dona")}),[u,n]);return(0,l.jsxs)("section",{className:"single-image-page ".concat(i.projectPageSection1),children:[(0,l.jsxs)("div",{className:i.mainSectionTopDetails,children:[(0,l.jsx)("h1",{className:"title ".concat(i["project-title"]),children:n&&n.displayName}),(0,l.jsx)("h2",{className:"body ".concat(i["directed-subtext"]),children:n&&"Directed by Max Dona"})]}),(0,l.jsx)("div",{className:i.imageWrap,children:n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:d,alt:"Blurhash ".concat(u),className:i.blurhashImage}),(0,l.jsx)("img",{src:((e,t)=>{if(e&&e.imageUrls){const n=Object.values(e.imageUrls).flat().find((e=>e.id===t));return n?n.url:null}return null})(n,u),alt:"Image ".concat(u),className:"".concat(i["single-image"]),onLoad:()=>{console.log("image loaded"),p(m(n,u))}},u),(()=>{const e=f(n),t=Object.values(n.imageUrls).flat().map((e=>e.id)),r=[];for(let n=1;n<=10;n++)r.push(t[(t.indexOf(u)+n)%e]),r.push(t[(t.indexOf(u)-n+e)%e]);return r.filter(((e,t,n)=>n.indexOf(e)===t))})().map((e=>(0,l.jsx)("img",{src:m(n,e),alt:"Preload Blurhash ".concat(e),className:i.hiddenPreloadedBlurhash},e)))]})}),(0,l.jsxs)("div",{className:i.buttonWrap,children:[(0,l.jsxs)("div",{className:i.buttonWrapRight,children:[(0,l.jsx)("button",{className:"primary-button ".concat(i.navigationButton),children:"Grid View"}),(0,l.jsx)("button",{className:"primary-button ".concat(i.mainSectionButtonDetails),children:"Full Video"})]}),(0,l.jsxs)("div",{className:i.buttonWrapLeft,children:[(0,l.jsx)("button",{className:"primary-button ".concat(i.navigationButton),onClick:()=>g(-1),children:"Prev Image"}),(0,l.jsx)("button",{className:"primary-button ".concat(i.navigationButton),onClick:()=>g(1),children:"Next Image"})]})]})]})}},4650:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>L});var i=n(5043),s=n(8075),a=n(8119),o=(n(5711),n(7447)),l=n(4404),c=n(63),u=n(2548),h=n(3216),d=n(5475),p=n(549),f=n(2013),m=n(3838),g=n(4816),v=n(3235),y=n(3874),b=n(5502),w=n(4110),A=n(5402),_=n(6463),x=n(6713),E=n(9267),S=n(8270),C=n(3106),T=(n(5472),n(647)),k=n(8971),I=n(1234),P=n(2989),N=n(579),R=e([x]);function D(){(0,i.useRef)(null);const{currentUser:e}=(0,i.useContext)(b.c);(0,P.A)();const t=t=>{let{children:n}=t;return e?n:(0,N.jsx)(h.C5,{to:"/login"})};return(0,i.useEffect)((()=>{const e=new C.A({duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,touchMultiplier:2});e.on("scroll",l.u.update),S.os.ticker.add((t=>{e.raf(1e3*t)})),S.os.ticker.lagSmoothing(0),requestAnimationFrame((function t(n){e.raf(n),requestAnimationFrame(t)}));const t=()=>{document.querySelector(".page-content").classList.add("press-down")},n=()=>{document.querySelector(".page-content").classList.remove("press-down")},r=()=>{const t=document.querySelector("header");t&&t.classList.contains("header-toggled-global")?e.stop():e.start()};r(),window.addEventListener("mousedown",t),window.addEventListener("mouseup",n);const i=new MutationObserver(r),s=document.querySelector("header");return s&&i.observe(s,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("mousedown",t),window.removeEventListener("mouseup",n),s&&i.disconnect(),S.os.ticker.remove(e.raf),e.destroy()}}),[]),(0,N.jsxs)("div",{className:"page-content",id:"smooth-scroll",children:[(0,N.jsx)(m.M5,{children:(0,N.jsxs)(d.I9,{children:[(0,N.jsx)(T.A,{}),(0,N.jsx)("div",{className:"routes",children:(0,N.jsxs)(h.BV,{children:[(0,N.jsx)(h.qh,{path:"/",element:(0,N.jsx)(s.A,{})}),(0,N.jsx)(h.qh,{path:"/archive",element:(0,N.jsx)(o.A,{})}),(0,N.jsx)(h.qh,{path:"/about",element:(0,N.jsx)(E.A,{})}),(0,N.jsx)(h.qh,{path:"/contact",element:(0,N.jsx)(u.A,{})}),(0,N.jsx)(h.qh,{path:"/reference-peace",element:(0,N.jsx)(_.A,{})}),(0,N.jsx)(h.qh,{path:"reference-peace/:projectId",element:(0,N.jsx)(x.A,{})}),(0,N.jsxs)(h.qh,{path:"/projects",children:[(0,N.jsx)(h.qh,{index:!0,element:(0,N.jsx)(t,{children:(0,N.jsx)(c.A,{})})}),(0,N.jsx)(h.qh,{path:"referencepeace/new",element:(0,N.jsx)(t,{children:(0,N.jsx)(k.A,{title:"Reference Peace"})})}),(0,N.jsx)(h.qh,{path:"new",element:(0,N.jsx)(t,{children:(0,N.jsx)(g.A,{title:"Add New Project"})})}),(0,N.jsx)(h.qh,{path:"update/:projectId",element:(0,N.jsx)(t,{children:(0,N.jsx)(v.A,{})})}),(0,N.jsx)(h.qh,{path:"/projects/:projectId/:imageIndex",element:(0,N.jsx)(A.A,{})})]}),(0,N.jsx)(h.qh,{path:"projects/:projectId",element:(0,N.jsx)(w.A,{})}),(0,N.jsx)(h.qh,{path:"/login",element:(0,N.jsx)(y.A,{})}),(0,N.jsx)(h.qh,{path:"*",element:(0,N.jsx)(I.A,{})})]})}),(0,N.jsx)(j,{})]})}),(0,N.jsx)(a.A,{}),(0,N.jsx)("div",{className:"transition-overlay"})]})}function j(){const{state:e}=(0,m.f8)();return e.default?(0,N.jsx)(f.A,{}):(0,N.jsx)(p.A,{})}x=(R.then?(await R)():R)[0];const L=D;r()}catch(M){r(M)}}))},6463:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(5043),i=n(2961),s=n(8274),a=n(5472),o=n(5317),l=n(8270),c=n(4404),u=n(6077),h=n(649),d=n(5669),p=n(579);l.Ay.registerPlugin(c.u);const f=e=>{const t=new Date(e),n=t.getDate(),r=n>3&&n<21?"th":["st","nd","rd","th"][Math.min(n%10,4)],i=new Intl.DateTimeFormat("en-GB",{month:"long",year:"numeric"}).format(t);return"".concat(n,"<span>").concat(r,"</span> ").concat(i)},m=e=>{let{imageUrl:t,blurhash:n,handleDelayStart:s}=e;const[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)({x:0,y:0}),u=(0,r.useRef)(null);return(0,p.jsx)("div",{className:i.A["parallax-image-wrap"],onMouseEnter:()=>{u.current&&(u.current.style.transition="ease all 200ms",o(!0),setTimeout((()=>{u.current&&(u.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 0ms, object-position 0s ease")}),600))},onMouseLeave:()=>{o(!1),u.current&&(u.current.style.transition="ease all 200ms",u.current.style.transform="translate(0px, 0px) scale(1.1)")},onMouseMove:e=>{if(!a)return;const{clientX:t,clientY:n,target:r}=e,{left:i,top:s,width:o,height:l}=r.getBoundingClientRect();c({x:.01*(t-(i+o/2)),y:.01*(n-(s+l/2))})},children:(0,p.jsx)("img",{ref:u,src:t,alt:"Parallax Image",className:i.A["masonry-image"],style:{transform:"translate(".concat(l.x,"px, ").concat(l.y,"px) scale(1.1)")}})})},g=function(){let e=0,t=[];(0,r.useRef)(null);let n=0,g=0;const v=(0,r.useRef)(null),y=(0,r.useRef)(null),b=(0,r.useRef)(null),[w,A]=(0,r.useState)(!1),[_,x]=(0,r.useState)(window.innerWidth),[E,S]=(0,r.useState)(0),[C,T]=(0,r.useState)(0),[k,I]=(0,r.useState)(0),[P,N]=(0,r.useState)({vx:0,vy:0}),[R,M]=(0,r.useState)(""),[D,j]=(0,r.useState)({translateY:0,rotate:0}),L=(0,r.useRef)(null),O=(0,r.useRef)(null),[F,U]=(0,r.useState)(0),V=(0,r.useRef)([]),[B,H]=(0,r.useState)([]),[z,W]=(0,r.useState)([B[0]]);(0,r.useEffect)((()=>{let e=(0,a.aQ)((0,a.rJ)(o.db,"referencePeace"),(e=>{let t=[];e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),H(t)}),(e=>{console.log(e)}));return()=>{e()}}),[]),(0,r.useEffect)((()=>{document.title="Reference Peace by Max Dona",document.documentElement.style.setProperty("--primary-color","#181818"),document.documentElement.style.setProperty("--secondary-dark","rgb(10, 10, 10)"),V.current=[...Array(31).keys()].map((()=>(0,r.createRef)()))}),[]);const G=(0,r.useCallback)((t=>{const{clientX:r,clientY:i,movementX:s,movementY:a}=t;n+=Math.abs(a)+1.5*Math.abs(s),n>=95*e&&(X(r,i),2===g&&Y()),e===V.current.length&&(e=0,n=-95)}),[e,g,2,n]);(0,r.useLayoutEffect)((()=>{const e=new ResizeObserver((()=>{const e=window.innerWidth;x(e)}));return e.observe(document.body),()=>{e.disconnect()}}),[]);const q=(0,r.useCallback)((e=>{t.forEach((e=>{const t=e.current;t&&(t.style.transition="500ms ease scale 0.2s, 500ms ease opacity 0.2s, clip-path 500ms ease-out",t.style.opacity="0",t.style.scale="0.2")}))})),K=(0,r.useCallback)((e=>{var t;if(null!==(t=V.current[0])&&void 0!==t&&t.current){const e=V.current[0].current;e.style.transition="500ms ease scale 0.2s, 500ms ease opacity 0.2s, clip-path 500ms ease-out",e.style.opacity="0",e.style.scale="0.2",e.style.zIndex="0"}V.current.forEach((e=>{const t=e.current;t&&t!==V.current[0].current&&(t.style.opacity="0",t.style.scale="0.2",t.style.zIndex="0")}))}),[]),Y=()=>{const e=J();g--,e[0].style.transition="500ms ease scale 0.2s, 500ms ease opacity 0.2s, clip-path 500ms ease-out",e[0].style.opacity="0",e[0].style.scale="0.2"},X=(t,n)=>{var r;const i=null===(r=V.current[e])||void 0===r?void 0:r.current;if(!i)return void console.error("Target image is null at index:",e);const s=window.innerWidth-360,a=Math.min(t,s);i.style.left="".concat(a,"px"),i.style.top="".concat(n,"px"),i.style.zIndex="-9",i.style.transition="0ms opacity, 0ms scale, clip-path 500ms ease-out",i.style.opacity="1",i.style.scale="1",e++,g++,Q()},Q=()=>{J().forEach(((e,t)=>{e.style.zIndex=t}))},J=()=>{const t=[];for(let n=e-g;n<e;n++){let e=n;e<0&&(e+=V.current.length),t.push(V.current[e].current)}return t};(0,r.useLayoutEffect)((()=>{let e=l.Ay.matchMedia();const t=[];return e.add("(min-width: 831px)",(()=>{l.Ay.to(".reference-peace-title-wrap ",{scrollTrigger:{trigger:".reference-peace-page",scrub:!0,start:"".concat(.16*window.innerHeight," top"),end:()=>1.2*window.innerHeight},y:.08*_}),l.Ay.to(".reference-peace-first-page ",{scrollTrigger:{trigger:".reference-peace-page",scrub:1,start:"top top",end:()=>1.2*window.innerHeight},scale:.97,y:.04*_}),b.current&&t.push(c.u.create({trigger:b.current,pin:y.current,start:"-84px top",end:()=>b.current.offsetHeight+window.innerHeight-.14*window.innerWidth,scrub:!0}))})),e.add("(max-width: 830px)",(()=>{b.current&&t.push(c.u.create({trigger:b.current,pin:y.current,start:"-".concat(.04*_+100," top"),end:()=>b.current.offsetHeight+window.innerHeight,scrub:!0}))})),()=>{t.forEach((e=>e.kill())),c.u.clearMatchMedia()}}),[b,y,_]),(0,r.useLayoutEffect)((()=>{const e=new ResizeObserver((()=>{c.u.refresh()}));return b.current&&e.observe(b.current),()=>{b.current&&e.unobserve(b.current)}}),[b]);const Z=(e,t)=>{y.current&&l.Ay.to(".projects-image",{y:"-".concat(.22*window.innerWidth*t+20*t,"px")}),z&&(z.id,e.id),W(e),l.Ay.to(".projects-hover-desc .link-desc > span",{y:"100%",duration:.3,onComplete:()=>{M(f(e.releaseDate)),l.Ay.to(".projects-hover-desc .link-desc > span",{y:"100%",color:"#000000",opacity:0,duration:0,onComplete:()=>{l.Ay.to(".projects-hover-desc .link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})}})}})};let{x:$,y:ee}=(0,u.A)(".App");(0,r.useEffect)((()=>{N({vx:$-C,vy:ee-k}),T($),I(ee)}),[$,ee]);const te=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,r.useEffect)((()=>{const e={translateY:te(1.5*P.vy,-3,3),rotate:te(1.5*P.vx,-1.5,1.5)};return j(e),O.current&&clearTimeout(O.current),O.current=setTimeout((()=>{j({translateY:0,rotate:0})}),100),()=>clearTimeout(O.current)}),[P]),(0,r.useEffect)((()=>{l.Ay.to(".projects-hover-desc",{width:document.querySelector(".projects-hover-desc .link-desc > span").clientWidth,duration:0}),l.Ay.to(".projects-hover-desc",{height:document.querySelector(".projects-hover-desc .link-desc > span").clientHeight,duration:1})}),[R]),(0,p.jsxs)("section",{className:"reference-peace-page ".concat(i.A["reference-peace-page"]),children:[(0,p.jsxs)("div",{className:"reference-peace-first-page ".concat(i.A["reference-peace-first-page"]),children:[window.innerWidth<=830&&(0,p.jsx)("img",{className:"mobile-RP-sticker ".concat(i.A["mobile-RP-sticker"]),src:"/animated_webp/MobileStickerRP.webp",alt:"Mobile-RP-Sticker"}),(0,p.jsxs)("div",{className:"reference-peace-title-wrap ".concat(i.A["reference-peace-title-wrap"]),ref:v,onMouseMove:G,onMouseLeave:q,onMouseEnter:K,children:[(0,p.jsx)(s.A,{custom:18,element:"p",elementClass:"reference-peace-subtitle ".concat(i.A["reference-peace-subtitle"]),textContent:"A Creative"}),(0,p.jsx)(s.A,{custom:18,element:"p",elementClass:"reference-peace-subtitle ".concat(i.A["reference-peace-subtitle"]),textContent:"Pursuit Platform:"}),(0,p.jsxs)("div",{className:"".concat(i.A["reference-peace-title"]),children:[(0,p.jsx)(s.A,{custom:18,element:"p",elementClass:"reference-peace-title-reference ".concat(i.A["reference-peace-title-reference"]),textContent:"Reference"}),(0,p.jsx)(s.A,{custom:18,element:"p",elementClass:"reference-peace-title-peace ".concat(i.A["reference-peace-title-peace"]),textContent:"peace"})]})]}),(0,p.jsxs)("div",{className:"reference-peace-subtext-wrap high-z-index-layer",children:[(0,p.jsxs)("div",{className:"reference-peace-subtext ".concat(i.A["reference-peace-subtext"]," subtext-top body"),children:[(0,p.jsx)(s.A,{elementClass:"high-z-index-layer",textContent:"MULTI",element:"p"}),(0,p.jsx)(s.A,{textContent:"MEDIA",element:"p"}),(0,p.jsx)(s.A,{textContent:"MAGAZINE",element:"p"})]}),(0,p.jsx)("div",{className:"reference-peace-subtext ".concat(i.A["reference-peace-subtext"]," subtext-bottom body"),children:(0,p.jsx)("div",{className:"body scroll-notification ".concat(i.A["scroll-notification"]),children:(0,p.jsxs)("p",{children:["(",(0,p.jsx)("p",{children:"SCROLL"}),")"]})})})]})]}),(0,p.jsxs)("div",{className:"reference-peace-projects-wrap ".concat(i.A["reference-peace-projects-wrap"]),children:[(0,p.jsxs)("div",{className:"subtext-description-wrap ".concat(i.A["subtext-description-wrap"]),children:[(0,p.jsxs)("p",{className:"body high-z-index-layer",children:[(0,p.jsx)("p",{children:"*"}),(0,p.jsx)("br",{}),(0,p.jsx)(s.A,{textContent:"Pursuing the understanding of creative minds through documenting their expression, Reference Peace allows you to connect with the artists behind exclusive works, learning about their influences, inspirations & intentions.",element:"p"})]}),(0,p.jsxs)("p",{className:"".concat(i.A["last-subtext"]," body high-z-index-layer"),children:[(0,p.jsx)("p",{children:"*"}),(0,p.jsx)("br",{}),(0,p.jsx)(s.A,{textContent:"LEARNING & COLLABORATING TOGETHER, Time stamping the current creative climate, ONE VOLUME AT A TIME.",element:"p"})]})]}),(0,p.jsxs)("div",{ref:b,className:"projects-listing  ".concat(i.A["projects-listing"]),children:[(0,p.jsx)("div",{ref:y,className:"projects-image-wrap ".concat(i.A["projects-image-wrap"]),children:window.innerWidth<=830?(0,p.jsx)("span",{className:"body",children:"Tap volume to open"}):B.map(((e,t)=>(0,p.jsx)("div",{className:"projects-image ".concat(i.A["projects-image"]),children:(0,p.jsx)(m,{imageUrl:e.mainFeaturedImage})})))}),(0,p.jsxs)("div",{className:"projects-links-list high-z-index-layer ".concat(i.A["projects-links-list"]),onMouseLeave:()=>{l.Ay.to(".projects-hover-desc .link-desc > span",{y:"100%",duration:.2})},children:[(0,p.jsxs)("div",{className:"projects-hover-desc",ref:L,style:{position:"fixed",left:"".concat($-16,"px"),top:"".concat(ee-20,"px"),transform:"translateY(".concat(D.translateY,"px) rotate(").concat(D.rotate,"deg)")},children:[(0,p.jsx)("div",{className:"projects-hover-svg-wrap",children:(0,p.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"projects-hover-arrow",children:(0,p.jsx)("path",{style:{fill:"".concat(F)},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,p.jsx)("p",{className:"body link-desc",children:(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:R}})})]}),B.map(((e,t)=>(0,p.jsx)("div",{className:"reference-peace-project-item",children:(0,p.jsx)(h.A,{delay:1500,to:"/reference-peace/".concat(e.id),onMouseEnter:()=>Z(e,t),className:"view-project-link title ".concat(i.A["view-project-link"]),children:(0,p.jsx)(s.A,{elementClass:"title",textContent:e.displayName,element:"h2"})})},e.id))),B.map(((e,t)=>(0,p.jsx)("div",{className:"reference-peace-project-item",children:(0,p.jsx)(h.A,{delay:1500,to:"/reference-peace/".concat(e.id),onMouseEnter:()=>Z(e,t),className:"view-project-link title ".concat(i.A["view-project-link"]),children:(0,p.jsx)(s.A,{elementClass:"title",textContent:e.displayName,element:"h2"})})},e.id))),B.map(((e,t)=>(0,p.jsx)("div",{className:"reference-peace-project-item",children:(0,p.jsx)(h.A,{delay:1500,to:"/reference-peace/".concat(e.id),onMouseEnter:()=>Z(e,t),className:"view-project-link title ".concat(i.A["view-project-link"]),children:(0,p.jsx)(s.A,{elementClass:"title",textContent:e.displayName,element:"h2"})})},e.id))),B.map(((e,t)=>(0,p.jsx)("div",{className:"reference-peace-project-item",children:(0,p.jsx)(h.A,{delay:1500,to:"/reference-peace/".concat(e.id),onMouseEnter:()=>Z(e,t),className:"view-project-link title ".concat(i.A["view-project-link"]),children:(0,p.jsx)(s.A,{elementClass:"title",textContent:e.displayName,element:"h2"})})},e.id)))]})]})]}),window.innerWidth>830&&(0,p.jsx)("div",{className:"images-wrap",children:[...Array(31).keys()].map((e=>{const t=V.current[e];return(0,p.jsx)("img",{ref:t,className:"image-trail-".concat(e," ").concat(i.A["trail-image"]," trail-image"),src:"/imagery/referencepeace/".concat(e,".webp")},e)}))}),(0,p.jsx)("div",{className:"reference-peace-contact-block",children:(0,p.jsx)(d.A,{referencePeace:!0})})]})}},6713:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>E});var i=n(5043),s=n(3838),a=n(2961),o=n(3216),l=n(5475),c=n(5472),u=n(5317),h=n(8274),d=n(1407),p=n(8270),f=n(4711),m=n(1580),g=n(6077),v=n(579),y=e([f]);f=(y.then?(await y)():y)[0];const b=()=>{const{projectId:e}=(0,o.g)(),{dispatch:t}=(0,s.f8)(),[n,r]=(0,i.useState)(null),[l,d]=(0,i.useState)(0),p=(0,i.useRef)(0),[f,m]=(0,i.useState)(0),[g,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(1),[E,S]=(0,i.useState)(!1),C=(0,i.useRef)();(0,i.useEffect)((()=>()=>{window.scrollTo(0,0)}),[]);(0,i.useEffect)((()=>{const e=null!==n&&void 0!==n&&n.displayName?n.displayName.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(e=>e.toUpperCase())).replace(/\s+/g,"")+" - ":"";const t="".concat(e,"Reference Peace - Max Dona");document.title=t,n&&n.projectColor&&(document.documentElement.style.setProperty("--primary-color",n.projectColor),document.documentElement.style.setProperty("--secondary-dark",n.projectColor)),window.scrollTo(0,0)}),[n]),(0,i.useEffect)((()=>{(async()=>{try{const t=(0,c.H9)(u.db,"referencePeace",e),n=await(0,c.x7)(t);if(n.exists()){const e=n.data();r(e),console.log(e)}else console.error("Project not found.")}catch(t){console.error("Error fetching project data:",t)}})()}),[e]);const T=(e,t)=>{let r=0;for(let s=0;s<e;s++){var i;null!==n&&void 0!==n&&null!==(i=n.imageSections[s])&&void 0!==i&&i.images&&(r+=n.imageSections[s].images.length)}r+=t,console.log("Image clicked - Group Index: ".concat(e,", Image Index: ").concat(t,", Total Index: ").concat(r)),p.current=window.scrollY,d(r)};if((0,i.useEffect)((()=>(t({type:"Small"}),()=>{t({type:"Default"})})),[t]),!n)return(0,v.jsx)("div",{children:"Loading..."});const k=[];n.volumeType&&"Image"===n.volumeType&&n.imageSections&&n.imageSections.forEach(((e,t)=>{k.push({type:"image",images:e.images,index:t})})),n.volumeType&&"Video"===n.volumeType&&n.videoSections&&n.videoSections.forEach(((e,t)=>{k.push({type:"video",videoName:e.videoName,videoUrl:e.videoUrl,index:t})})),n.volumeType&&"PDF"===n.volumeType&&n.pdfSections&&n.pdfSections.forEach(((e,t)=>{k.push({type:"PDF",pdfName:e.pdfName,pdfLink:e.pdfLink,pdfType:e.pdfType,index:t})}));return(0,v.jsxs)("div",{className:"reference-peace-single ".concat(a.A["reference-peace-single"]),children:[(0,v.jsxs)("div",{className:"".concat(a.A["rp-title-wrap"]),children:[(0,v.jsx)(h.A,{element:"p",custom:10,elementClass:"title ".concat(a.A["rp-title"]),textContent:n?n.displayName:"Loading..."}),n.volumeType&&"PDF"===n.volumeType&&n.pdfSections?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"body ".concat(a.A["pdf-page-numbers"]),children:["Page ",b,E&&(0,v.jsx)(v.Fragment,{children:","}),(0,v.jsx)("br",{}),E&&(0,v.jsxs)(v.Fragment,{children:["Page ",E]})]}),(0,v.jsxs)("div",{className:"".concat(a.A["pdf-page-switchers"]),children:[(0,v.jsx)("button",{className:"".concat(a.A["pdf-page-prev"]),onClick:()=>{C.current&&C.current.goToPreviousPage()},children:"Previous"}),(0,v.jsx)("button",{className:"".concat(a.A["pdf-page-next"]),onClick:()=>{C.current&&C.current.goToNextPage()},children:"Next"})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h.A,{element:"p",custom:25,elementClass:"body ".concat(a.A["rp-description"]),textContent:n?n.mainDescription1:"Loading..."}),(0,v.jsx)(h.A,{element:"p",custom:25,elementClass:"body ".concat(a.A["rp-description"]),textContent:n?n.mainDescription2:"Loading..."})]})]}),n&&(0,v.jsx)(v.Fragment,{children:k.map(((e,t)=>((e,t)=>{switch(e.type){case"video":return(0,v.jsxs)("div",{className:"".concat(a.A["main-section-video-wrap"]," main-section-video-wrap"),children:[(0,v.jsxs)("div",{className:"".concat(a.A["main-section-image"]," main-section-image arrow-hover"),children:[(0,v.jsx)("div",{className:"".concat(a.A["main-section-image-overlay"]," main-section-image-overlay"),style:{backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.mainFeaturedImage,")")}}),(0,v.jsx)("div",{className:a.A["video-container"],children:(0,v.jsx)("div",{className:"player__wrapper ".concat(a.A.player__wrapper),children:(0,v.jsx)(x,{setVideoProgress:m,setIsPlayingProp:y,videoUrl:e.videoUrl})})})]}),(0,v.jsxs)("div",{className:"main-video-controls-overlay ".concat(a.A["main-video-controls-overlay"]),children:[n?(0,v.jsxs)("div",{className:"body main-description-right-wrap ".concat(a.A["main-description-right-wrap"]),children:[(0,v.jsxs)("span",{children:[n.videoName," (2022)"]}),(0,v.jsx)("span",{className:"primary-button",children:"Full Video"})]}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)("div",{className:"body scroll-notification scroll-notification-single ".concat(a.A["scroll-notification"]),children:[(0,v.jsxs)("p",{children:["(",(0,v.jsx)("div",{children:(0,v.jsx)("span",{children:"SCROLL"})}),")"]}),(0,v.jsxs)("p",{className:"body single-click-anywhere ".concat(a.A["single-click-anywhere"]),children:["Click Anywhere To",(0,v.jsxs)("p",{className:"play-text ".concat(a.A["play-text"]," ").concat(g?"play-text-toggle":""),children:[(0,v.jsx)("p",{children:"play"}),(0,v.jsx)("p",{children:"pause"})]})]})]}),(0,v.jsx)("div",{className:"".concat(a.A["progress-bar"]," ").concat(g?"":"stop-progress-toggle"),children:(0,v.jsx)("div",{className:"".concat(a.A.progress,"  "),style:{width:"".concat(f,"%")}})})]})]});case"image":return(0,v.jsx)(A,{groupKey:"image-".concat(t),groupImages:e.images,groupIndex:t,handleImageClick:T,projectData:n},"image-".concat(t));case"PDF":return(0,v.jsx)("div",{className:"pdf-section ".concat(a.A["pdf-section"]),children:(0,v.jsx)(_,{ref:C,pdfLink:e.pdfLink,pdfType:e.pdfType,currentPage:b,nextPageNumber:E,setNextPageNumber:S,setCurrentPage:w})},"pdf-".concat(t));default:return null}})(e,t)))})]})},w=e=>{let{imageUrl:t,blurhashUrl:n}=e;const[r,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)({x:0,y:0}),c=(0,i.useRef)(null),[u,h]=(0,i.useState)(n);(0,i.useEffect)((()=>{const e=new Image;e.src=t,e.onload=()=>{h(t)}}),[t]);return(0,v.jsx)("div",{className:a.A["parallax-image-wrap"],onMouseEnter:()=>{c.current&&(c.current.style.transition="ease all 200ms",s(!0),setTimeout((()=>{c.current&&(c.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 0ms, object-position 0s ease")}),600))},onMouseLeave:()=>{s(!1),c.current&&(c.current.style.transition="ease all 200ms",c.current.style.transform="translate(0px, 0px) scale(1.1)")},onMouseMove:e=>{if(!r)return;const{clientX:t,clientY:n,target:i}=e,{left:s,top:a,width:o,height:c}=i.getBoundingClientRect();l({x:.01*(t-(s+o/2)),y:.01*(n-(a+c/2))})},children:(0,v.jsx)("img",{ref:c,src:u,alt:"Parallax Image",className:a.A["masonry-image"],style:{transform:"translate(".concat(o.x,"px, ").concat(o.y,"px) scale(1.1)"),filter:u===n?"blur(10px)":"blur(0px)"}})})},A=e=>{let{groupKey:t,groupImages:n,groupIndex:r,handleImageClick:s,projectData:c}=e;(0,i.useRef)(null);const{projectId:u}=(0,o.g)();return(0,i.useEffect)((()=>{const e=document.querySelectorAll(".".concat(a.A["masonry-section"],".").concat(t," img"));let n=0;const r=()=>{n++,n===e.length&&(()=>{const e=document.querySelector(".".concat(a.A["masonry-section"],".").concat(t," > div > div"));if(e){const n=e.childElementCount;for(let t=0;t<n;t++){const n=e.children[t];n.classList.add("column-".concat(t+1)),n.classList.add("masonry-column")}const r=()=>{let e=0;return document.querySelectorAll(".".concat(a.A["masonry-section"],".").concat(t," .masonry-column")).forEach((t=>{const n=t.offsetHeight;n>e&&(e=n)})),e},i=r();document.querySelectorAll(".".concat(a.A["masonry-section"],".").concat(t," .masonry-column")).forEach((e=>{const n=e.offsetHeight,r=i-n;p.Ay.to(e,{marginTop:r,scrollTrigger:{trigger:".".concat(a.A["masonry-section"],".").concat(t),start:"-90px top",end:()=>"+=".concat(i-window.innerHeight/2.5),markers:!0,scrub:1}})}))}else console.log("No masonry section found.")})()};return e.forEach((e=>{e.complete?r():e.addEventListener("load",r)})),()=>{e.forEach((e=>{e.removeEventListener("load",r)}))}}),[t,c]),(0,v.jsx)("div",{className:"arrow-hover masonry-section ".concat(a.A["masonry-section"]," ").concat(t),children:(0,v.jsx)(d.i,{columnsCountBreakPoints:{300:1,500:2,700:3,900:4},children:(0,v.jsx)(d.A,{columnsCount:4,gutter:"1.4vw",children:n.map(((e,t)=>{const n=((e,t,n)=>{let r=0;for(let i=0;i<e;i++){const e=null===n||void 0===n?void 0:n.imageUrls["image".concat(i+1)];e&&(r+=e.length)}return r+=t,r})(r,t,c);return(0,v.jsx)(l.N_,{to:"/projects/".concat(u,"/").concat(n),children:(0,v.jsx)("div",{className:"column",children:(0,v.jsx)(w,{imageUrl:e.url,blurhashUrl:e.blurhash},t)})},t)}))})})},t)},_=i.forwardRef(((e,t)=>{let{pdfLink:n,pdfType:r,currentPage:s,nextPageNumber:a,setNextPageNumber:o,setCurrentPage:l,onPreviousPage:c,onNextPage:u}=e;const[h,d]=(0,i.useState)(1),[m,y]=(0,i.useState)("single"),b=(0,i.useRef)(null),w=(0,i.useRef)(null),[A,_]=(0,i.useState)(0),[x,E]=(0,i.useState)(0),[S,C]=(0,i.useState)(0),[T,k]=(0,i.useState)({vx:0,vy:0}),[I,P]=(0,i.useState)(""),[N,R]=(0,i.useState)({translateY:0,rotate:0}),M=(0,i.useRef)(null),D=(0,i.useRef)(null),j=(0,i.useRef)(null),[L,O]=(0,i.useState)(0),[F,U]=((0,i.useRef)([]),(0,i.useState)([])),[V,B]=(0,i.useState)([F[0]]);let{x:H,y:z}=(0,g.A)(".App");const W=(0,i.useCallback)((e=>{console.log("Document loaded successfully:",e),"double"===m&&h%2!==0&&d((e=>Math.max(e-1,1)))}),[m,h]),G=(0,i.useCallback)((e=>{console.error("Error loading document:",e)}),[]),{pdfDocument:q,pdfPage:K}=(0,f.y)({file:n,page:h,canvasRef:b,onDocumentLoadSuccess:W,onError:G}),{pdfPage:Y}=(0,f.y)({file:n,page:"double"===m&&h+1<=(null===q||void 0===q?void 0:q.numPages)?h+1:null,canvasRef:w,onDocumentLoadSuccess:W,onError:G}),X=e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=t.width/2;"single"===m?n<r?(d((e=>Math.max(e-1,1))),l((e=>Math.max(e-1,1)))):(d((e=>Math.min(e+1,q.numPages))),l((e=>Math.min(e+1,q.numPages)))):"double"===m&&(n<r?(d((e=>Math.max(e-2,1))),l((e=>Math.max(e-2,1)))):(d((e=>{const t=e+2;return t<=q.numPages?t:e})),l((e=>{const t=e+2;return t<=q.numPages?t:e}))))};(0,i.useEffect)((()=>{"double"===m&&q&&h+1>q.numPages?d((e=>Math.max(e-2,1))):"single"===m&&q&&h>q.numPages&&d(1)}),[q,h,m]),(0,i.useEffect)((()=>{y("1-page"===r?"single":"double")}),[r]);const Q=(null===q||void 0===q?void 0:q.numPages)||0;o("double"===m&&h+1<=Q?h+1:null);const J=()=>{"single"===m?(d((e=>Math.max(e-1,1))),l((e=>Math.max(e-1,1)))):"double"===m&&(d((e=>Math.max(e-2,1))),l((e=>Math.max(e-2,1))))},Z=()=>{"single"===m?(d((e=>Math.min(e+1,q.numPages))),l((e=>Math.min(e+1,q.numPages)))):"double"===m&&(d((e=>{const t=e+2;return t<=q.numPages?t:e})),l((e=>{const t=e+2;return t<=q.numPages?t:e})))},$=()=>{p.Ay.to(".pdf-hover-desc-left .link-desc > span, .pdf-hover-desc-right .link-desc > span",{y:"100%",duration:.3,onComplete:()=>{p.Ay.to(".pdf-hover-desc-left .link-desc > span, .pdf-hover-desc-right .link-desc > span",{y:"100%",color:"#000000",opacity:0,duration:0,onComplete:()=>{p.Ay.to(".pdf-hover-desc-left .link-desc > span, .pdf-hover-desc-right .link-desc > span",{y:"0%",opacity:1,duration:.3,delay:.3})}})}})},ee=()=>{p.Ay.to(".pdf-hover-desc-left .link-desc > span, .pdf-hover-desc-right .link-desc > span",{y:"100%",duration:.2})};(0,i.useEffect)((()=>{k({vx:H-x,vy:z-S}),E(H),C(z)}),[H,z]);const te=(e,t,n)=>Math.max(t,Math.min(n,e));return(0,i.useEffect)((()=>{const e={translateY:te(1.5*T.vy,-3,3),rotate:te(1.5*T.vx,-1.5,1.5)};return R(e),j.current&&clearTimeout(j.current),j.current=setTimeout((()=>{R({translateY:0,rotate:0})}),100),()=>clearTimeout(j.current)}),[T]),i.useImperativeHandle(t,(()=>({goToPreviousPage:J,goToNextPage:Z}))),(0,i.useEffect)((()=>{q&&(p.Ay.to(".pdf-hover-desc-left",{width:document.querySelector(".pdf-hover-desc-left .link-desc > span").clientWidth,duration:0}),p.Ay.to(".pdf-hover-desc-left",{height:document.querySelector(".pdf-hover-desc-left .link-desc > span").clientHeight,duration:1}),p.Ay.to(".pdf-hover-desc-right",{width:document.querySelector(".pdf-hover-desc-right .link-desc > span").clientWidth,duration:0}),p.Ay.to(".pdf-hover-desc-right",{height:document.querySelector(".pdf-hover-desc-right .link-desc > span").clientHeight,duration:1}))}),[s,q]),(0,v.jsxs)("div",{className:" pdf-section",children:[!q&&!K&&(0,v.jsx)("span",{children:"Loading PDF..."}),q&&(0,v.jsxs)(v.Fragment,{children:["single"===m&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"pdf-canvas-hover-desc-wrap",children:[(0,v.jsxs)("div",{className:"pdf-hover-desc-left ".concat(s-1<=0?"hide-hover-desc":""),ref:M,style:{position:"fixed",left:"".concat(H-16,"px"),top:"".concat(z-20,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:[(0,v.jsx)("div",{className:"projects-hover-svg-wrap",children:(0,v.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"projects-hover-arrow",children:(0,v.jsx)("path",{style:{fill:"black"},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,v.jsx)("p",{className:"body link-desc",children:(0,v.jsx)("span",{dangerouslySetInnerHTML:{__html:s-1<=0?"":"Page ".concat(s-1)}})})]}),(0,v.jsxs)("div",{className:"pdf-hover-desc-right",ref:D,style:{position:"fixed",left:"".concat(H,"px"),top:"".concat(z-20,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:[(0,v.jsx)("p",{className:"body link-desc",children:(0,v.jsx)("span",{dangerouslySetInnerHTML:{__html:"Page "+(s+1)}})}),(0,v.jsx)("div",{className:"projects-hover-svg-wrap",children:(0,v.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"projects-hover-arrow",children:(0,v.jsx)("path",{style:{fill:"black"},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})})]}),(0,v.jsx)("div",{className:"canvas-hover-desc-wrap-left",onClick:()=>J(),onMouseLeave:ee,onMouseEnter:()=>$()}),(0,v.jsx)("div",{className:"canvas-hover-desc-wrap-right",onClick:()=>Z(),onMouseLeave:ee,onMouseEnter:()=>$()})]}),(0,v.jsx)("canvas",{style:{width:"100%"},ref:b,onClick:X})]}),"double"===m&&(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsxs)("div",{className:"pdf-canvas-hover-desc-wrap",children:[(0,v.jsxs)("div",{className:"pdf-hover-desc-left ".concat(s-1<=0?"hide-hover-desc":""),ref:M,style:{position:"fixed",left:"".concat(H-16,"px"),top:"".concat(z-20,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:[(0,v.jsx)("div",{className:"projects-hover-svg-wrap",children:(0,v.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"projects-hover-arrow",children:(0,v.jsx)("path",{style:{fill:"black"},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})}),(0,v.jsx)("p",{className:"body link-desc",children:(0,v.jsx)("span",{dangerouslySetInnerHTML:{__html:s-1<=1?"":"Page ".concat(s-1,",<br/>Page ").concat(s-2)}})})]}),(0,v.jsxs)("div",{className:"pdf-hover-desc-right",ref:D,style:{position:"fixed",left:"".concat(H,"px"),top:"".concat(z-20,"px"),transform:"translateY(".concat(N.translateY,"px) rotate(").concat(N.rotate,"deg)")},children:[(0,v.jsx)("p",{className:"body link-desc",children:(0,v.jsx)("span",{dangerouslySetInnerHTML:{__html:"Page ".concat(s+2,",<br/>Page ").concat(s+3)}})}),(0,v.jsx)("div",{className:"projects-hover-svg-wrap",children:(0,v.jsx)("svg",{width:"17",height:"25",viewBox:"0 0 17 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"projects-hover-arrow",children:(0,v.jsx)("path",{style:{fill:"black"},"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.0078 4.99998H0.29C0.193334 4.99998 0 4.95453 0 4.77271V0.22727C0 0 0.348 0 0.580001 0H1.74023H6.38H6.38086H8.12023H11.2382H12.1809H16.2405V4.63965V6.37983V10.4395V10.4473H16.2435V16.2471C16.2435 16.4791 16.2435 16.8271 16.0053 16.8271H11.2411C11.0506 16.8271 11.0029 16.6338 11.0029 16.5371V10.7739C11.0009 10.7578 11 10.7427 11 10.7295V8.99603L6.39529 13.6006L6.39552 13.6008L3.92365 16.0726C3.82477 16.1715 3.67646 16.3198 3.50954 16.1529L0.171188 12.8146C0.037654 12.6811 0.0866662 12.5653 0.127864 12.5241L1.48753 11.1645L1.4873 11.1642L7.65128 5.00047H2.03023C2.02257 5.00047 2.01509 5.0003 2.0078 4.99998Z",fill:"#181818"})})})]}),(0,v.jsx)("div",{className:"canvas-hover-desc-wrap-left",onClick:()=>J(),onMouseLeave:ee,onMouseEnter:()=>$()}),(0,v.jsx)("div",{className:"canvas-hover-desc-wrap-right",onClick:()=>Z(),onMouseLeave:ee,onMouseEnter:()=>$()})]}),(0,v.jsx)("canvas",{ref:b,onClick:X,style:{width:"49%",height:"auto"}}),a&&(0,v.jsx)("canvas",{ref:w,onClick:X,style:{width:"49%",height:"auto"}})]})]})]})})),x=e=>{let{setVideoProgress:t,setIsPlayingProp:n,videoUrl:r}=e;const[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(0),d=(0,i.useRef)(null),p=(0,i.useRef)(null),f=e=>{p.current=setInterval((()=>{const n=e.getCurrentTime()/e.getDuration()*100;t(n),h(n)}),500)};(0,i.useEffect)((()=>()=>{p.current&&clearInterval(p.current)}),[]);return(0,v.jsx)("div",{className:"".concat(a.A.player," ").concat(s?a.A.playing:""," ").concat(l?a.A.buffering:""),onClick:()=>{s?(d.current.internalPlayer.pauseVideo(),n(!1),o(!1)):(d.current.internalPlayer.playVideo(),n(!0),o(!0))},children:(0,v.jsx)(m.A,{videoId:(e=>{try{const t=new URL(e);return new URLSearchParams(t.search).get("v")}catch(t){return console.error("Invalid URL",t),null}})(r),opts:{height:"100%",width:"100%",playerVars:{controls:0,modestbranding:1,fs:0,rel:0}},onReady:e=>{e.target.mute(),e.target.addEventListener("onStateChange",(t=>{t.data===window.YT.PlayerState.PLAYING?(o(!0),c(!1),f(e.target)):t.data===window.YT.PlayerState.BUFFERING?c(!0):(o(!1),c(!1))}))},ref:d})})},E=b;r()}catch(b){r(b)}}))},4110:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(5043);const i={"project-title":"single_project-title__BipMd","project-page":"single_project-page__EKe98","main-video-controls-overlay":"single_main-video-controls-overlay__VpoEP","scroll-notification":"single_scroll-notification__wc-yQ","project-page-section-1":"single_project-page-section-1__bfHKu","main-section-details":"single_main-section-details__qXjED","main-section-image-wrap":"single_main-section-image-wrap__lcvRP","main-section-image":"single_main-section-image__8XXwr","main-section-image-overlay":"single_main-section-image-overlay__zFBDq",playing:"single_playing__yjSWC","main-description-wrap":"single_main-description-wrap__211nw","main-description-wrap-left":"single_main-description-wrap-left__068nw","main-description-wrap-right":"single_main-description-wrap-right__W6hqU","primary-button":"single_primary-button__Hbzor","main-description-right-wrap":"single_main-description-right-wrap__M3wII","main-description-time-wrap":"single_main-description-time-wrap__qUvnD","details-section-image-wrap":"single_details-section-image-wrap__WX09i","directed-subtext":"single_directed-subtext__kl9Rp","masonry-image":"single_masonry-image__qWOXi","masonry-section":"single_masonry-section__fs3WJ","parallax-image-wrap":"single_parallax-image-wrap__04wij","masonry-main-image":"single_masonry-main-image__DnR2N","main-description":"single_main-description__N2LFy","details-title":"single_details-title__dSanp","details-section":"single_details-section__YPDlr","details-section-image":"single_details-section-image__pqgmR","details-description":"single_details-description__k2jJe","text-section":"single_text-section__AVeg8","large-section":"single_large-section__7EU9v","title-section":"single_title-section__V5sDk","title-section-wrap":"single_title-section-wrap__z1nok","details-description-wrap":"single_details-description-wrap__B0uzi","details-section-wrap":"single_details-section-wrap__oJ6rf","gallery-page":"single_gallery-page__9t-wZ",video_container:"single_video_container__IGrcv",player__wrapper:"single_player__wrapper__PdR0d",player:"single_player__DaFHs","progress-bar":"single_progress-bar__GsI-+",progress:"single_progress__NbZ+N","details-section-wrap-reversed":"single_details-section-wrap-reversed__AEhY3","navigation-section":"single_navigation-section__SHaXL","nav-button":"single_nav-button__KoysF",prev:"single_prev__uycew",next:"single_next__rCeE4","project-nav-indicator":"single_project-nav-indicator__SzPt-"};var s=n(3216),a=n(5472),o=n(5317),l=(n(5402),n(1407)),c=n(8274),u=n(1580),h=n(8270),d=n(4404),p=n(5475),f=n(649),m=n(579);h.os.registerPlugin(d.u);const g=()=>{var e,t;const{projectId:n}=(0,s.g)(),[l,u]=(0,r.useState)(null),[p,f]=(0,r.useState)(0),g=(0,r.useRef)(0),y=(0,r.useRef)(null),[C,T]=((0,r.useRef)(null),(0,r.useState)([])),[k,I]=(0,r.useState)(0),[P,N]=(0,r.useState)(window.innerWidth),[R,M]=(0,r.useState)(!1);(0,r.useEffect)((()=>()=>{window.scrollTo(0,0)}),[]),(0,r.useLayoutEffect)((()=>{const e=new ResizeObserver((()=>{const e=window.innerWidth;N(e)}));return e.observe(document.body),()=>{e.disconnect()}}),[]),(0,r.useEffect)((()=>{l&&l.displayName&&l.projectColor&&(document.title="".concat(l.displayName," by Max Dona"),document.documentElement.style.setProperty("--primary-color",l.projectColor),document.documentElement.style.setProperty("--secondary-dark",l.projectColor))}),[l]),(0,r.useEffect)((()=>{l&&h.os.fromTo(".main-section-image",{height:"0px"},{height:"100%",duration:1,ease:[.76,0,.24,1],delay:.5})}),[l]),(0,r.useLayoutEffect)((()=>{let e,t;return h.os.matchMedia().add("(min-width: 831px)",(()=>{(()=>{const n=document.querySelector(".".concat(i["main-section-details"])),r=document.querySelector(".".concat(i["main-section-image"])),s=document.querySelector(".".concat(i["project-page-section-1"])),a=document.querySelector(".".concat(i["main-description-right-wrap"]));n&&h.os.fromTo(n,{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},{clipPath:"polygon(0 0, 1% 0, 1% 100%, 0 100%)",scrollTrigger:{start:"00px",end:()=>y.current.clientHeight/.75,scrub:1.5,id:"scrub",trigger:y.current}}),r&&h.os.to(r,{width:"100%",scrollTrigger:{start:"100px",end:()=>y.current.clientHeight/.75,scrub:1.5,id:"scrub",trigger:y.current}}),s&&h.os.to(s,{marginBottom:"calc(150vh - 2.4vw)",scrollTrigger:{start:"100vh",end:"150vh",scrub:2,id:"scrub",trigger:y.current}}),a&&h.os.fromTo(a,{y:"0px"},{y:"-42px",scrollTrigger:{start:"00px",end:()=>"84px",scrub:!0,id:"scrub",trigger:y.current}}),e=d.u.create({trigger:".project-page-section-1",start:"top top",end:()=>1.5*y.current.clientHeight,pin:".".concat(i["main-section-image-wrap"])}),t=d.u.create({trigger:"",start:"top top",end:()=>1.5*y.current.clientHeight,pin:".".concat(i["main-video-controls-overlay"])})})()})),()=>{d.u.getAll().forEach((e=>e.kill()))}}),[y]),(0,r.useEffect)((()=>{const e=()=>{const e=document.querySelector(".main-description-right-wrap");e&&(window.scrollY>190?e.querySelectorAll("span").forEach((e=>{e.style.color="white"})):e.querySelectorAll("span").forEach((e=>{e.style.color="var(--primary-color)"})))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=(0,a.H9)(o.db,"projects",n),t=await(0,a.x7)(e);if(t.exists()){const e=t.data();u(e),console.log(e)}else console.error("Project not found.");const r=(0,a.P)((0,a.rJ)(o.db,"projects"),(0,a.My)("displayName")),i=(await(0,a.GG)(r)).docs.map((e=>({id:e.id,...e.data()})));T(i)}catch(e){console.error("Error fetching project data or list:",e)}})()}),[n]),(0,r.useEffect)((()=>{if(C.length>0&&n){const e=C.findIndex((e=>e.id===n));-1!==e?I(e):(console.error("Project ID not found in projectList."),I(0))}}),[C,n]);const D=(e,t)=>{let n=0;for(let r=0;r<e;r++)null!==l&&void 0!==l&&l.imageUrls["image".concat(r+1)]&&(n+=l.imageUrls["image".concat(r+1)].length);n+=t,console.log("Image clicked - Group Index: ".concat(e,", Image Index: ").concat(t,", Total Index: ").concat(n)),g.current=window.scrollY,f(n)},[j,L]=(0,r.useState)(0),[O,F]=(0,r.useState)("00:00"),[U,V]=(0,r.useState)(!1);return(0,m.jsxs)("div",{className:"".concat(i["project-page"]," project-page"),children:[P>830&&(0,m.jsxs)("div",{className:"main-video-controls-overlay ".concat(i["main-video-controls-overlay"]),children:[(0,m.jsxs)("div",{className:"body main-description-time-wrap ".concat(i["main-description-time-wrap"]),onClick:()=>P>830&&A(140),children:["(",O,")"]}),(0,m.jsxs)("div",{className:"body main-description-right-wrap ".concat(i["main-description-right-wrap"]),onClick:()=>P>830&&A(140),children:[(0,m.jsxs)("span",{children:[l?l.videoName:""," ",l?"( ".concat(new Date(l.releaseDate).getFullYear()," )"):""]}),(0,m.jsx)("span",{className:"primary-button",children:"Full Video"})]}),(0,m.jsxs)("div",{className:"body scroll-notification scroll-notification-single ".concat(i["scroll-notification"]),onClick:()=>P>830&&A(140),children:[(0,m.jsxs)("p",{children:["(",(0,m.jsx)("div",{children:(0,m.jsx)("span",{children:"SCROLL"})}),")"]}),(0,m.jsxs)("p",{className:"body single-click-anywhere",children:["Click Anywhere To",(0,m.jsxs)("p",{className:"play-text ".concat(U?"play-text-toggle":""),children:[(0,m.jsx)("p",{children:"play"}),(0,m.jsx)("p",{children:"pause"})]})]})]}),(0,m.jsx)("div",{className:"".concat(i["progress-bar"]," ").concat(U?"":"stop-progress-toggle"),children:(0,m.jsx)("div",{className:"".concat(i.progress,"  "),style:{width:"".concat(j,"%")}})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("section",{className:"".concat(i["project-page-section-1"]," project-page-section-1"),ref:y,children:(0,m.jsx)("div",{className:"".concat(i["main-section-details"]," main-section-details high-z-index-layer"),children:l?(0,m.jsxs)("div",{className:"".concat(i["main-description"]," main-description"),children:[(0,m.jsx)("span",{className:"".concat(i["main-single-heading"]," main-single-heading"),children:(0,m.jsx)(c.A,{textContent:l.displayName,element:"h1",elementClass:"heading"})}),(0,m.jsx)("span",{children:(0,m.jsx)(c.A,{custom:2,textContent:"Directed by Max Dona",element:"h2",elementClass:"body ".concat(i["directed-subtext"])})}),(0,m.jsx)("div",{className:"".concat(i["main-description-wrap"]),children:(0,m.jsxs)("div",{className:"".concat(i["main-description-wrap-left"]),children:[(0,m.jsx)("span",{children:(0,m.jsx)(c.A,{custom:3,textContent:l.mainDescription1,element:"div",elementClass:"body ".concat(i["main-description-1"])})}),(0,m.jsx)("span",{children:(0,m.jsx)(c.A,{custom:3,textContent:l.mainDescription2,element:"div",elementClass:"body ".concat(i["main-description-2"])})})]})})]}):(0,m.jsx)("p",{children:"Loading project data..."})})}),(0,m.jsx)("div",{className:"".concat(i["main-section-image-wrap"]," main-section-image-wrap"),children:(0,m.jsxs)("div",{className:"".concat(i["main-section-image"]," main-section-image"),children:[(0,m.jsx)("div",{className:"".concat(i["main-section-image-overlay"]," main-section-image-overlay"),style:{backgroundImage:"url(".concat(null===l||void 0===l||null===(e=l.mainFeaturedImage)||void 0===e?void 0:e.blurhash,")"),filter:"".concat(R?"blur(0px)":"blur(10px)"),transform:"scale(".concat(R?"1":"1.1",")")},children:(0,m.jsx)("img",{src:null===l||void 0===l||null===(t=l.mainFeaturedImage)||void 0===t?void 0:t.url,alt:"main featured",onLoad:()=>{M(!0)},loading:"lazy"})}),(0,m.jsx)("div",{className:i["video-container"],children:(0,m.jsx)("div",{className:"player__wrapper ".concat(i.player__wrapper),children:(0,m.jsx)(w,{setVideoProgress:L,setVideoCurrentTime:F,setIsPlayingProp:V,videoUrl:null===l||void 0===l?void 0:l.videoLink,windowWidth:P})})})]})}),(0,m.jsx)("section",{children:l&&(0,m.jsx)(m.Fragment,{children:l.sectionOrder.map(((e,t)=>((e,t)=>{var n;switch(e.name){case"detail":return(0,m.jsx)(b,{index:t-1,value:null===l||void 0===l||null===(n=l.details)||void 0===n?void 0:n["".concat(e.index)]},"detail-".concat(t-1));case"image":return(0,m.jsx)(v,{groupKey:"image-".concat(t),groupImages:l.imageUrls["image".concat(e.index)],groupIndex:t,handleImageClick:D,projectData:l},"image-".concat(t));case"text":return(0,m.jsx)(_,{value:null===l||void 0===l?void 0:l.textSections["text".concat(e.index)]},"text-".concat(t));case"title":return(0,m.jsx)(x,{value:null===l||void 0===l?void 0:l.titleSections["title".concat(e.index)]},"title-".concat(t));case"largeImage":const r=l.largeImageSections[e.index];return(0,m.jsx)(E,{sectionKey:"largeImage-".concat(t),value:r?r[0]:null},"largeImage-".concat(t));default:return null}})(e,t)))})}),l&&(0,m.jsx)(S,{currentIndex:k,projectList:C,currentProject:l.displayName})]})]})},v=e=>{let{groupKey:t,groupImages:n,groupIndex:a,handleImageClick:o,projectData:c}=e;const{projectId:u}=(0,s.g)(),f=e=>{d.u.refresh(!0),Array.from(e.children).forEach(((e,t)=>{e.classList.add("column-".concat(t+1),"masonry-column")}));const t=(()=>{let t=0;return e.querySelectorAll(".masonry-column").forEach((e=>{const n=e.offsetHeight;n>t&&(t=n)})),t})();e.querySelectorAll(".masonry-column").forEach((n=>{const r=n.offsetHeight,i=t-r;h.os.to(n,{marginTop:i,scrollTrigger:{trigger:e,start:"top top",end:"+=".concat(t-window.innerHeight/2.5),scrub:1}})}))};return(0,r.useEffect)((()=>{const e=e=>new Promise((t=>{let n=0;const r=e.length;if(0===r)return void t();const i=()=>{n++,n===r&&t()},s=()=>{n++,n===r&&t()};e.forEach((e=>{e.complete?i():(e.addEventListener("load",i),e.addEventListener("error",s))})),setTimeout((()=>t()),1e4)}));return async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,r=0;const s=document.querySelectorAll(".".concat(i["masonry-section"]," img.masonry-blurhash"));for(;r<n;){await e(s);const n=document.querySelector(".".concat(i["masonry-section"],".").concat(t," > div > div"));if(n&&n.children.length>0)return void f(n);r++,await new Promise((e=>setTimeout(e,1e3)))}const a=document.querySelector(".".concat(i["masonry-section"],".").concat(t," > div > div"));f(a)}(),()=>{document.querySelectorAll(".".concat(i["masonry-section"]," img")).forEach((e=>{e.removeEventListener("load",f),e.removeEventListener("error",f)}))}}),[t,c]),(0,m.jsx)("div",{className:"masonry-section ".concat(i["masonry-section"]," ").concat(t),children:(0,m.jsx)(l.i,{columnsCountBreakPoints:{300:1,500:2,700:3,1200:4},children:(0,m.jsx)(l.A,{columnsCount:4,gutter:"1.4vw",children:n.map(((e,t)=>{((e,t,n)=>{let r=0;if(null!==n&&void 0!==n&&n.imageUrls)for(let i=0;i<e;i++){const e=n.imageUrls["image".concat(i+1)];e&&Array.isArray(e)&&(r+=e.length)}})(a,t,c);return(0,m.jsx)(p.N_,{to:"/projects/".concat(u,"/").concat(e.id),children:(0,m.jsx)("div",{className:"column",children:(0,m.jsx)(y,{imageUrl:e.url,blurhashUrl:e.blurhash},t)})},t)}))})})},t)},y=e=>{let{imageUrl:t,blurhashUrl:n}=e;const[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)({x:0,y:0}),c=(0,r.useRef)(null),u=(0,r.useRef)(null);return(0,m.jsxs)("div",{className:"".concat(i["parallax-image-wrap"]," ").concat(s?i.hover:""),onMouseEnter:()=>{c.current&&(c.current.style.transition="ease all 200ms",a(!0),setTimeout((()=>{c.current&&(c.current.style.transition="cubic-bezier(0.76, 0, 0.24, 1) all 0ms, object-position 0s ease")}),600))},onMouseLeave:()=>{a(!1),c.current&&(c.current.style.transition="ease all 200ms",c.current.style.transform="translate(0px, 0px) scale(1.1)")},onMouseMove:e=>{if(!s)return;const{clientX:t,clientY:n,target:r}=e,{left:i,top:a,width:o,height:c}=r.getBoundingClientRect();l({x:.01*(t-(i+o/2)),y:.01*(n-(a+c/2))})},children:[(0,m.jsx)("img",{ref:u,src:n,alt:"Parallax Image",className:"".concat(i["masonry-image"]," masonry-blurhash")}),(0,m.jsx)("img",{ref:c,src:t,alt:"Parallax Image",className:"".concat(i["masonry-image"]," ").concat(i["masonry-main-image"]),loading:"lazy",style:{transform:"translate(".concat(o.x,"px, ").concat(o.y,"px) scale(1.1)")}})]})},b=e=>{let{sectionKey:t,value:n,index:s}=e;const[a,o]=(0,r.useState)(!1);if(!n)return(0,m.jsx)("p",{children:"No details available"});const{firstDescription:l,secondDescription:u,title:h,featuredImage:d}=n,p=s%2!==0;return(0,m.jsxs)("div",{className:"".concat(i["details-section"],"  ").concat(p?i["details-section-wrap-reversed"]:""),children:[(0,m.jsx)("div",{className:i["details-section-image-wrap"],children:(0,m.jsx)("div",{className:i["details-section-image"],style:{backgroundImage:"url(".concat(null===d||void 0===d?void 0:d.blurhash,")"),filter:"".concat(a?"blur(0px)":"blur(10px)"),scale:"".concat(a?"1":"1.1")},children:(0,m.jsx)("img",{src:null===d||void 0===d?void 0:d.url,alt:"detail featured",onLoad:()=>o(!0),loading:"lazy"})})}),(0,m.jsxs)("div",{className:"".concat(i["details-section-wrap"]," high-z-index-layer"),children:[(0,m.jsx)(c.A,{textContent:h,element:"h2",elementClass:"heading ".concat(i["details-title"])}),(0,m.jsxs)("div",{className:"".concat(i["details-description-wrap"]),children:[(0,m.jsx)(c.A,{textContent:l,element:"p",elementClass:"".concat(i["details-description"]," body")}),(0,m.jsx)(c.A,{textContent:u,element:"p",elementClass:"".concat(i["details-description"]," body")})]})]})]},t)},w=e=>{let{setVideoProgress:t,setVideoCurrentTime:n,setIsPlayingProp:s,videoUrl:a,windowWidth:o}=e;const[l,c]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(0),g=(0,r.useRef)(null),v=e=>{const r=setInterval((()=>{const r=e.getCurrentTime(),i=r/e.getDuration()*100,s=Math.floor(r/60),a=Math.floor(r%60),o="".concat(s.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"));t(i),n(o)}),500);return()=>{clearInterval(r)}},y=()=>{l?(g.current.internalPlayer.pauseVideo(),s(!1),c(!1)):(g.current.internalPlayer.playVideo(),o>830&&A(140),s(!0),c(!0))};return(0,m.jsxs)("div",{className:"".concat(i.player," ").concat(l&&!h&&i.playing," ").concat(h&&i.buffering),onClick:y,children:[(0,m.jsx)(u.A,{videoId:(e=>{try{const t=new URL(e);return new URLSearchParams(t.search).get("v")}catch(t){return console.error("Invalid URL",t),null}})(a),opts:{height:"100%",width:"100%",playerVars:{controls:0,modestbranding:1,fs:0,rel:0}},onReady:e=>{e.target.addEventListener("onStateChange",(t=>{t.data===window.YT.PlayerState.PLAYING?(c(!0),d(!1),v(e.target)):t.data===window.YT.PlayerState.BUFFERING?d(!0):t.data===window.YT.PlayerState.ENDED?(c(!1),d(!1),s(!1)):(c(!1),d(!1))}))},ref:g}),(0,m.jsxs)("div",{className:i["progress-bar"],children:[(0,m.jsx)("div",{className:i.progress,style:{width:"".concat(p,"%")}}),(0,m.jsx)("p",{onClick:y,children:l?"Pause":"Play"})]})]})},A=e=>{const t=window.innerHeight*(e/100);window.scrollTo({top:t,behavior:"smooth"})},_=e=>{let{sectionKey:t,value:n}=e;if(!n)return(0,m.jsx)("p",{children:"nodeets"});const{firstDescription:r,secondDescription:s}=n;return(0,m.jsxs)("div",{className:"".concat(i["details-section"]," ").concat(i["text-section"]," high-z-index-layer"),children:[(0,m.jsx)("div",{className:"".concat(i["details-section-wrap"]),children:(0,m.jsx)(c.A,{textContent:r,element:"p",elementClass:"".concat(i["details-description"]," body")})}),(0,m.jsx)("div",{className:"".concat(i["details-section-wrap"]),children:(0,m.jsx)(c.A,{custom:5,textContent:s,element:"p",elementClass:"".concat(i["details-description"]," body")})})]},t)},x=e=>{let{sectionKey:t,value:n}=e;if(!n)return(0,m.jsx)("p",{children:"nodeets"});const{title:r}=n;return(0,m.jsx)("div",{className:"".concat(i["title-section"]," high-z-index-layer"),children:(0,m.jsx)("div",{className:"".concat(i["title-section-wrap"]),children:(0,m.jsx)(c.A,{textContent:r,element:"h3",elementClass:"heading"})})},t)},E=e=>{let{sectionKey:t,value:n}=e;const[s,a]=(0,r.useState)(!0);if(!n)return(0,m.jsx)("p",{children:"No image available"});const{largeImage:o,blurhash:l}=n;return(0,m.jsxs)("div",{className:i["large-section"],children:[s&&l&&(0,m.jsx)("img",{className:i["large-section-wrap"],src:l,alt:"Blurhash",style:{display:s?"block":"none",width:"100%",height:"auto"},loading:"lazy"}),(0,m.jsx)("img",{className:i["large-section-wrap"],src:o,alt:"Large Image",onLoad:()=>{a(!1)},style:{width:"100%",zIndex:2},loading:"lazy"})]},t)},S=e=>{let{currentIndex:t,projectList:n,currentProject:r}=e;if(0===n.length)return null;return(0,m.jsxs)("div",{className:"".concat(i["navigation-section"]," high-z-index-layer"),children:[(0,m.jsx)("div",{className:"".concat(i["nav-button"]," ").concat(i.prev),children:(0,m.jsx)(f.A,{to:"/projects/".concat((()=>{var e;return 0===n.length?null:null===(e=n[(t-1+n.length)%n.length])||void 0===e?void 0:e.id})()),className:"heading",delay:2e3,children:"Prev"})}),(0,m.jsx)("div",{className:"".concat(i["project-nav-indicator"]," body"),children:r}),(0,m.jsx)("div",{className:"".concat(i["nav-button"]," ").concat(i.next),children:(0,m.jsx)(f.A,{to:"/projects/".concat((()=>{var e;return 0===n.length?null:null===(e=n[(t+1)%n.length])||void 0===e?void 0:e.id})()),className:"heading",delay:2e3,children:"Next"})})]})}},5502:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,h:()=>l});var r=n(5043);const i=(e,t)=>{switch(t.type){case"LOGIN":return{currentUser:t.payload};case"LOGOUT":return{currentUser:null};default:return e}};var s=n(579);const a={currentUser:JSON.parse(localStorage.getItem("user"))||null},o=(0,r.createContext)(a),l=e=>{let{children:t}=e;const[n,l]=(0,r.useReducer)(i,a);return(0,r.useEffect)((()=>{localStorage.setItem("user",JSON.stringify(n.currentUser))}),[n.currentUser]),(0,s.jsx)(o.Provider,{value:{currentUser:n.currentUser,dispatch:l},children:t})}},3838:(e,t,n)=>{"use strict";n.d(t,{M5:()=>c,f8:()=>l});var r=n(5043),i=n(579);const s={default:!0},a=(0,r.createContext)(s),o=(e,t)=>{switch(t.type){case"Small":return{default:!1};case"Default":return{default:!0};case"TOGGLE":return{default:!e.default};default:return e}},l=()=>{const e=(0,r.useContext)(a);if(!e)throw new Error("useFooter must be used within a FooterContextProvider");return e},c=e=>{let{children:t}=e;const[n,l]=(0,r.useReducer)(o,s);return(0,i.jsx)(a.Provider,{value:{state:n,dispatch:l},children:t})}},5317:(e,t,n)=>{"use strict";n.d(t,{j:()=>l,db:()=>c,I:()=>u});var r=n(7150);(0,r.KO)("firebase","10.12.2","app");var i=n(2813),s=n(5472),a=n(8147);const o=(0,r.Wp)({apiKey:"AIzaSyCQFUXJUBBthmVV23m-yIvhOKHoyu4-vaw",authDomain:"maxdona-840c5.firebaseapp.com",databaseURL:"https://maxdona-840c5-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"maxdona-840c5",storageBucket:"maxdona-840c5.appspot.com",messagingSenderId:"310610481612",appId:"1:310610481612:web:06100914213976eea68d69"}),l=(0,i.xI)(),c=(0,s.aU)(o),u=(0,a.c7)(o)},2812:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(5043),i=n(4391),s=(n(9555),n(4111)),a=n(5502),o=n(579),l=e([s]);s=(l.then?(await l)():l)[0];i.createRoot(document.getElementById("root")).render((0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(a.h,{children:(0,o.jsx)(s.A,{})})})),t()}catch(c){t(c)}}))},8399:(e,t,n)=>{"use strict";n.d(t,{M:()=>a,o:()=>o});var r=n(5043),i=n(579);const s=(0,r.createContext)(),a=()=>(0,r.useContext)(s),o=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!0);return(0,i.jsx)(s.Provider,{value:{isLoading:n,setIsLoading:a,isComplete:o,setIsComplete:l},children:t})}},649:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043),i=n(3216),s=n(5475),a=n(579);const o=e=>{let{delay:t=0,onDelayStart:n=(()=>{}),onDelayEnd:o=(()=>{}),replace:l=!1,to:c,...u}=e,h=null,d=(0,i.Zp)(),p=(0,i.zy)();(0,r.useEffect)((()=>()=>{h&&clearTimeout(h)}),[h]);return(0,a.jsx)(s.N_,{...u,to:c,onClick:e=>{(null===p||void 0===p?void 0:p.pathname)!==c&&(n(e,c),e.defaultPrevented||(e.preventDefault(),document.body.classList.add("page-transitioning"),h=setTimeout((()=>{l?d(c,{replace:!0}):d(c),o(e,c),document.body.classList.remove("page-transitioning"),window.dispatchEvent(new Event("routeChange"))}),t)))}})}},8119:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=()=>{window.scrollY>30?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.useEffect)((()=>{e?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled")}),[e]),null}},7303:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(5043);var r=n(6077),i=n(579);const s=()=>{const{x:e,y:t,isOutside:n}=(0,r.A)(".App");return(0,i.jsx)("div",{className:"large-arrow-cursor",style:{position:"fixed",left:e+40,top:t+40,transform:"translate(-50%, -50%) scale(".concat(n?0:1,")"),maxHeight:"".concat(n?0:"84px"),maxWidth:"".concat(n?0:"84px")},children:(0,i.jsx)("div",{className:"arrow-cursor-image"})})}},8274:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(5043),i=n(4678),s=n(9630);const a={duration:1,ease:[.76,0,.24,1]},o={initial:{y:"130%"},open:e=>({y:"0%",transition:{...a,duration:2,delay:e>0?e/16-1:-.5}}),closed:e=>({y:"130%",transition:0})},l={initial:{y:10,clipPath:"polygon(0 0, 100% 0%, 100% 0, 0 0)",transition:{...a,delay:.5}},open:e=>({y:0,clipPath:"polygon(0 0, 100% 0%, 100% 100%, 0 100%)",transition:{duration:1,delay:e>0?e/4:.4,ease:[.76,0,.24,1]}}),closed:e=>({y:10,clipPath:"polygon(0 0, 100% 0%, 100% 0, 0 0)",transition:{duration:0}})},c={initial:{opacity:0},open:e=>({opacity:1,transition:{duration:.5,delay:e>0?e/4:.2,ease:s.a6}}),closed:e=>({opacity:0,transition:{duration:0,delay:0,ease:s.a6}})};var u=n(8399),h=n(579);const d=function(e){let{textContent:t,element:n,elementClass:s="",custom:a,variant:d}=e;const[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(window.innerWidth>=830),b=(0,r.useRef)(null),{isLoading:w}=(0,u.M)();if((0,r.useEffect)((()=>{const e=()=>{y(window.innerWidth>=830)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>{let e;w?(g(!1),e=setTimeout((()=>{g(!0)}),600)):g(!0);const t=()=>{if(b.current&&m&&v){const e=b.current.getBoundingClientRect().top;f(e<window.innerHeight)}};return t(),window.addEventListener("scroll",t),()=>{clearTimeout(e),window.removeEventListener("scroll",t)}}),[w,m,v]),!v)return(0,h.jsx)("div",{className:"text-reveal-container ".concat(s),children:t});const A=i.P[n]||i.P.div,_=s.split(" ").join(" "),x=t.split("\n").map(((e,t)=>s.includes("title")||s.includes("heading")?(0,h.jsx)(A,{className:"text-reveal-element ".concat(_),variants:o,initial:"initial",animate:p?"open":"closed",custom:a,children:e},t):(0,h.jsx)(A,{custom:a,className:"text-reveal-element ".concat(_),children:e},t)));return"opacity"===d?(0,h.jsx)(i.P.div,{className:"text-reveal-container",ref:b,variants:c,initial:"initial",animate:p?"open":"closed",custom:a,children:x}):s.includes("title")||s.includes("heading")?(0,h.jsx)(i.P.div,{className:"text-reveal-container",ref:b,custom:a,children:x}):(0,h.jsx)(i.P.div,{className:"text-reveal-container",ref:b,variants:l,initial:"initial",animate:p?"open":"closed",children:x})}},6077:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".App";const[t,n]=(0,r.useState)({x:0,y:0}),[i,s]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const t=e=>{n({x:e.clientX,y:e.clientY}),s(!1)},r=e=>{(e.clientY<=0||e.clientX<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight)&&s(!0)},i=()=>{s(!1)},a=document.querySelector(e);return a&&(a.addEventListener("mousemove",t),window.addEventListener("mouseout",r),window.addEventListener("mouseenter",i)),()=>{a&&(a.removeEventListener("mousemove",t),window.removeEventListener("mouseout",r),window.removeEventListener("mouseenter",i))}}),[e]),{...t,isOutside:i}}},2989:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3536),i=n(5043);const s=function(){(0,i.useEffect)((()=>{const e=()=>{document.body.classList.add("resizing")},t=(0,r.debounce)((()=>{document.body.classList.remove("resizing")}),150);return window.addEventListener("resize",e),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("resize",t)}}),[])}},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>P,FA:()=>S,Fy:()=>m,I9:()=>N,Im:()=>T,Ku:()=>L,T9:()=>d,Tj:()=>u,Uj:()=>a,XA:()=>p,ZQ:()=>g,bD:()=>k,cY:()=>f,eX:()=>x,g:()=>E,hp:()=>R,jZ:()=>v,lT:()=>w,lV:()=>b,nr:()=>A,sr:()=>y,tD:()=>M,u:()=>o,yU:()=>h,zW:()=>_});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_KEY:"AIzaSyCQFUXJUBBthmVV23m-yIvhOKHoyu4-vaw"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function x(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(C,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,s,t)}}const C=/\{\$([^}]+)}/g;function T(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(I(n)&&I(s)){if(!k(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I(e){return null!==e&&"object"===typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function M(e,t){const n=new D(e,t);return n.subscribe.bind(n)}class D{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(){}function L(e){return e&&e._delegate?e._delegate:e}},9990:(e,t,n)=>{"use strict";n.d(t,{JY:()=>Ri,sx:()=>Qi,gL:()=>As});var r=n(5043),i=n(7950),s=n(4705);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var c="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function d(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(l(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(l(1));return n(p)(e,t)}if("function"!==typeof e)throw new Error(l(2));var i=e,s=t,a=[],o=a,u=!1;function f(){o===a&&(o=a.slice())}function m(){if(u)throw new Error(l(3));return s}function g(e){if("function"!==typeof e)throw new Error(l(4));if(u)throw new Error(l(5));var t=!0;return f(),o.push(e),function(){if(t){if(u)throw new Error(l(6));t=!1,f();var n=o.indexOf(e);o.splice(n,1),a=null}}}function v(e){if(!d(e))throw new Error(l(7));if("undefined"===typeof e.type)throw new Error(l(8));if(u)throw new Error(l(9));try{u=!0,s=i(s,e)}finally{u=!1}for(var t=a=o,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:h.INIT}),(r={dispatch:v,subscribe:g,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error(l(10));i=e,v({type:h.REPLACE})}})[c]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(l(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[c]=function(){return this},e},r}function f(e,t){return function(){return t(e.apply(this,arguments))}}function m(e,t){if("function"===typeof e)return f(e,t);if("object"!==typeof e||null===e)throw new Error(l(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=f(i,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var v=n(9461),y=n(8443);let b=function(e){e()};const w=()=>b,A=Symbol.for("react-redux-context"),_="undefined"!==typeof globalThis?globalThis:{};function x(){var e;if(!r.createContext)return{};const t=null!=(e=_[A])?e:_[A]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}const E=x();let S=null;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(null,arguments)}function T(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var k=n(219),I=n.n(k),P=n(2706);const N=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function R(e,t,n,r,i){let s,a,o,l,c,{areStatesEqual:u,areOwnPropsEqual:h,areStatePropsEqual:d}=i,p=!1;function f(i,p){const f=!h(p,a),m=!u(i,s,p,a);return s=i,a=p,f&&m?(o=e(s,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(o,l,a),c):f?(e.dependsOnOwnProps&&(o=e(s,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(o,l,a),c):m?function(){const t=e(s,a),r=!d(t,o);return o=t,r&&(c=n(o,l,a)),c}():c}return function(i,u){return p?f(i,u):(s=i,a=u,o=e(s,a),l=t(r,a),c=n(o,l,a),p=!0,c)}}function M(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function D(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=D(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=D(r),r=i(t,n)),r},i}}function L(e,t){return(n,r)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function O(e,t,n){return C({},n,e,t)}const F={notify(){},get:()=>[]};function U(e,t){let n,r=F,i=0,s=!1;function a(){c.onStateChange&&c.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){const e=w();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=F)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}const V=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;function B(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function H(e,t){if(B(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!B(e[n[i]],t[n[i]]))return!1;return!0}const z=["reactReduxForwardedRef"];let W=()=>{throw new Error("uSES not initialized!")};const G=[null,null];function q(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function K(e,t){return e===t}const Y=function(e,t,n){let{pure:i,areStatesEqual:s=K,areOwnPropsEqual:a=H,areStatePropsEqual:o=H,areMergedPropsEqual:l=H,forwardRef:c=!1,context:u=E}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const h=u,d=function(e){return e?"function"===typeof e?j(e):L(e,"mapStateToProps"):M((()=>({})))}(e),p=function(e){return e&&"object"===typeof e?M((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?j(e):L(e,"mapDispatchToProps"):M((e=>({dispatch:e})))}(t),f=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:s}=n,a=!1;return function(t,n,i){const o=e(t,n,i);return a?s(o,r)||(r=o):(a=!0,r=o),r}}}(e):L(e,"mergeProps"):()=>O}(n),m=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),i={shouldHandleStateChanges:m,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:d,initMapDispatchToProps:p,initMergeProps:f,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,s,a]=r.useMemo((()=>{const{reactReduxForwardedRef:e}=t,n=T(t,z);return[t.context,e,n]}),[t]),o=r.useMemo((()=>n&&n.Consumer&&(0,P.isContextConsumer)(r.createElement(n.Consumer,null))?n:h),[n,h]),l=r.useContext(o),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const d=c?t.store:l.store,p=u?l.getServerState:d.getState,f=r.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,s=T(t,N);return R(n(e,s),r(e,s),i(e,s),e,s)}(d.dispatch,i)),[d]),[g,v]=r.useMemo((()=>{if(!m)return G;const e=U(d,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,c,l]),y=r.useMemo((()=>c?l:C({},l,{subscription:g})),[c,l,g]),b=r.useRef(),w=r.useRef(a),A=r.useRef(),_=r.useRef(!1),x=(r.useRef(!1),r.useRef(!1)),E=r.useRef();V((()=>(x.current=!0,()=>{x.current=!1})),[]);const S=r.useMemo((()=>()=>A.current&&a===w.current?A.current:f(d.getState(),a)),[d,a]),k=r.useMemo((()=>e=>g?function(e,t,n,r,i,s,a,o,l,c,u){if(!e)return()=>{};let h=!1,d=null;const p=()=>{if(h||!o.current)return;const e=t.getState();let n,p;try{n=r(e,i.current)}catch(f){p=f,d=f}p||(d=null),n===s.current?a.current||c():(s.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}(m,d,g,f,w,b,_,x,A,v,e):()=>{}),[g]);var I,M,D;let j;I=q,M=[w,b,_,a,A,v],V((()=>I(...M)),D);try{j=W(k,S,p?()=>f(p(),a):S)}catch(O){throw E.current&&(O.message+="\nThe error may be correlated with this previous error:\n".concat(E.current.stack,"\n\n")),O}V((()=>{E.current=void 0,A.current=void 0,b.current=j}));const L=r.useMemo((()=>r.createElement(e,C({},j,{ref:s}))),[s,e,j]);return r.useMemo((()=>m?r.createElement(o.Provider,{value:y},L):L),[o,L,y])}const g=r.memo(u);if(g.WrappedComponent=e,g.displayName=u.displayName=n,c){const t=r.forwardRef((function(e,t){return r.createElement(g,C({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,I()(t,e)}return I()(g,e)}};const X=function(e){let{store:t,context:n,children:i,serverState:s,stabilityCheck:a="once",noopCheck:o="once"}=e;const l=r.useMemo((()=>{const e=U(t);return{store:t,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:a,noopCheck:o}}),[t,s,a,o]),c=r.useMemo((()=>t.getState()),[t]);V((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=n||E;return r.createElement(u.Provider,{value:l},i)};var Q,J;function Z(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],i=(0,r.useRef)(!0),s=(0,r.useRef)(n),a=i.current||Boolean(t&&s.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.current.inputs))?s.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){i.current=!1,s.current=a}),[a]),a.result}Q=y.useSyncExternalStoreWithSelector,S=Q,(e=>{W=e})(v.useSyncExternalStore),J=i.unstable_batchedUpdates,b=J;var $=Z,ee=function(e,t){return Z((function(){return e}),t)},te="Invariant failed";var ne=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},re=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},ie=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},se={top:0,right:0,bottom:0,left:0},ae=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?se:n,i=e.border,s=void 0===i?se:i,a=e.padding,o=void 0===a?se:a,l=ne(re(t,r)),c=ne(ie(t,s)),u=ne(ie(c,o));return{marginBox:l,borderBox:ne(t),paddingBox:c,contentBox:u,margin:r,border:s,padding:o}},oe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(te)}(!1),n},le=function(e,t){var n,r,i=e.borderBox,s=e.border,a=e.margin,o=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ae({borderBox:l,border:s,margin:a,padding:o})},ce=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),le(e,t)},ue=function(e,t){var n={top:oe(t.marginTop),right:oe(t.marginRight),bottom:oe(t.marginBottom),left:oe(t.marginLeft)},r={top:oe(t.paddingTop),right:oe(t.paddingRight),bottom:oe(t.paddingBottom),left:oe(t.paddingLeft)},i={top:oe(t.borderTopWidth),right:oe(t.borderRightWidth),bottom:oe(t.borderBottomWidth),left:oe(t.borderLeftWidth)};return ae({borderBox:e,margin:n,padding:r,border:i})},he=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ue(t,n)},de=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function pe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||de(r)&&de(i)))return!1;var r,i;return!0}function fe(e,t){void 0===t&&(t=pe);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}const me=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function ge(e,t){}ge.bind(null,"warn"),ge.bind(null,"error");function ve(){}function ye(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const be=!0,we="Invariant failed";class Ae extends Error{}function _e(e,t){if(!e)throw new Ae(be?we:"".concat(we,": ").concat(t||""))}Ae.prototype.toString=function(){return this.message};class xe extends r.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=ve,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof Ae&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=ye(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Ae))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Ee=e=>e+1,Se=(e,t)=>{const n=e.droppableId===t.droppableId,r=Ee(e.index),i=Ee(t.index);return n?"\n      You have moved the item from position ".concat(r,"\n      to position ").concat(i,"\n    "):"\n    You have moved the item from position ".concat(r,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(i,"\n  ")},Ce=(e,t,n)=>t.droppableId===n.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(n.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(n.draggableId,"\n      in list ").concat(n.droppableId,"\n    "),Te=e=>"\n  The item has returned to its starting position\n  of ".concat(Ee(e.index),"\n"),ke={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>"\n  You have lifted an item in position ".concat(Ee(e.source.index),"\n"),onDragUpdate:e=>{const t=e.destination;if(t)return Se(e.source,t);const n=e.combine;return n?Ce(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(Te(e.source),"\n    ");const t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      ".concat(Se(e.source,t),"\n    "):n?"\n      You have dropped the item.\n      ".concat(Ce(e.draggableId,e.source,n),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(Te(e.source),"\n  ")}};var Ie=ke;const Pe={x:0,y:0},Ne=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Re=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Me=(e,t)=>e.x===t.x&&e.y===t.y,De=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),je=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},Le=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Oe=(e,t)=>Math.min(...t.map((t=>Le(e,t)))),Fe=e=>t=>({x:e(t.x),y:e(t.y)});const Ue=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Ve=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Be=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=ne({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):ne(e);var He=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const s=((e,t)=>t?Ue(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(s,r,n);return{page:t,withPlaceholder:n,active:Be(a,i)}},ze=(e,t)=>{e.frame||_e(!1);const n=e.frame,r=Re(t,n.scroll.initial),i=De(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=He({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:a}};const We=fe((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Ge=fe((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),qe=fe((e=>Object.values(e))),Ke=fe((e=>Object.values(e)));var Ye=fe(((e,t)=>{const n=Ke(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Xe(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Qe(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Je=fe(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Ze=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const $e={point:Pe,value:0},et={invisible:{},visible:{},all:[]};var tt={displaced:et,displacedBy:$e,at:null},nt=(e,t)=>n=>e<=n&&n<=t,rt=e=>{const t=nt(e.top,e.bottom),n=nt(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(i&&s)return!0;const a=r.top<e.top&&r.bottom>e.bottom,o=r.left<e.left&&r.right>e.right;if(a&&o)return!0;return a&&s||o&&i}},it=e=>{const t=nt(e.top,e.bottom),n=nt(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const st={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},at={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const ot=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:s}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Pe;return Ue(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,s)&&((e,t,n)=>n(t)(e))(a,r,s)},lt=e=>ot({...e,isVisibleThroughFrameFn:rt}),ct=e=>ot({...e,isVisibleThroughFrameFn:it}),ut=(e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return!s||s.shouldAnimate};function ht(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:s,last:a}=e;return t.reduce((function(e,t){const o=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ne(re(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);if(!lt({target:o,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;const c={draggableId:l,shouldAnimate:ut(l,a,s)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function dt(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const s=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:et,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function pt(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:s,last:a,index:o,forceShouldAnimate:l}=e;const c=Ze(t,r);if(null==o)return dt({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});const u=n.find((e=>e.descriptor.index===o));if(!u)return dt({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});const h=Je(t,n),d=n.indexOf(u);return{displaced:ht({afterDragging:h.slice(d),destination:r,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function ft(e,t){return Boolean(t.effected[e])}var mt=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:s,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c}=e;const u=o.at;if(u||_e(!1),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const s=i.index,a=t?s+1:s-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<o||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:pt({draggable:r,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:e})}const h=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:s}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,o=r[a].descriptor.index;return ft(a,s)?t?o:o-1:t?o+1:o})({isMovingForward:t,destination:s,displaced:o.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:pt({draggable:r,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},gt=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=Qe(n);i||_e(!1);const s=i.draggableId,a=r[s].page.borderBox.center,o=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const s=Boolean(t.visible[r]||t.invisible[r]);return ft(r,n)?s?Pe:De(i.point):s?i.point:Pe})({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return Ne(a,o)};const vt=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,yt=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,bt=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return je(t.line,n.marginBox[t.end]+vt(t,r),yt(t,n.marginBox,r))},wt=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return je(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),yt(t,n.marginBox,r))};var At=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:s}=e;const a=Ye(i.descriptor.id,r),o=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return je(t.line,n.contentBox[t.start]+vt(t,r),yt(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:o});const{displaced:c,displacedBy:u}=t,h=c.all[0];if(h){const e=r[h];if(ft(h,s))return wt({axis:l,moveRelativeTo:e.page,isMoving:o});const t=le(e.page,u.point);return wt({axis:l,moveRelativeTo:t,isMoving:o})}const d=a[a.length-1];if(d.descriptor.id===n.descriptor.id)return o.borderBox.center;if(ft(d.descriptor.id,s)){const e=le(d.page,De(s.displacedBy.point));return bt({axis:l,moveRelativeTo:e,isMoving:o})}return bt({axis:l,moveRelativeTo:d.page,isMoving:o})},_t=(e,t)=>{const n=e.frame;return n?Ne(t,n.scroll.diff.displacement):t};var xt=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:s}=e;const a=n.page.borderBox.center,o=t.at;return r&&o?"REORDER"===o.type?At({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s}):gt({impact:t,draggables:i,afterCritical:s}):a})(e),n=e.droppable;return n?_t(n,t):t},Et=(e,t)=>{const n=Re(t,e.scroll.initial),r=De(n);return{frame:ne({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function St(e,t){return e.map((e=>t[e]))}var Ct=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>Ne(e.scroll.diff.displacement,t))(r,t),s=Re(i,n.page.borderBox.center);return Ne(n.client.borderBox.center,s)},Tt=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:s,onlyOnMainAxis:a=!1}=e;const o=Re(r,t.page.borderBox.center),l={target:Ue(t.page.borderBox,o),destination:n,withDroppableDisplacement:s,viewport:i};return a?(e=>{return ot({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=nt(e.top,e.bottom),r=nt(e.left,e.right);return e=>t===st?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):ct(l)},kt=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:s,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=Ye(r.descriptor.id,i),h=Ze(n,r),d=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:s}=e;if(!r.isCombineEnabled)return null;if(!Xe(s))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...s,at:t}}const o=s.displaced.all,l=o.length?o[0]:null;if(t)return l?a(l):null;const c=Je(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&_e(!1);const h=u-1;return h<0?null:a(c[h].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:s})||mt({isMovingForward:t,isInHomeList:h,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:s,viewport:a,afterCritical:c});if(!d)return null;const p=xt({impact:d,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Tt({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:Ct({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:d,scrollJumpRequest:null}}const f=Re(p,o),m=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:s}=e;const a=Et(n,Ne(n.scroll.current,s)),o=r.frame?ze(r,Ne(r.frame.scroll.current,s)):r,l=t.displaced,c=ht({afterDragging:St(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=ht({afterDragging:St(l.all,i),destination:o,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),h={},d={},p=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:h[e]=!0})),{...t,displaced:{all:l.all,invisible:h,visible:d}}})({impact:d,viewport:a,destination:r,draggables:i,maxScrollChange:f});return{clientSelection:l,impact:m,scrollJumpRequest:f}};const It=e=>{const t=e.subject.active;return t||_e(!1),t};const Pt=(e,t)=>{const n=e.page.borderBox.center;return ft(e.descriptor.id,t)?Re(n,t.displacedBy.point):n},Nt=(e,t)=>{const n=e.page.borderBox;return ft(e.descriptor.id,t)?Ue(n,De(t.displacedBy.point)):n};var Rt=fe((function(e,t){const n=t[e.line];return{value:n,point:je(e.line,n)}}));const Mt=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Dt=(e,t,n)=>{const r=e.frame;Ze(t,e)&&_e(!1),e.subject.withPlaceholder&&_e(!1);const i=Rt(e.axis,t.displaceBy).point,s=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return je(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],s=Ye(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-i;return s<=0?null:je(r.line,s)})(e,i,n),a={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=He({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const o=s?Ne(r.scroll.max,s):r.scroll.max,l=Mt(r,o),c=He({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var jt=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:s,droppables:a,viewport:o,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:s}=e;const a=r.subject.active;if(!a)return null;const o=r.axis,l=nt(a[o.start],a[o.end]),c=qe(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>rt(s.frame)(It(e)))).filter((e=>{const n=It(e);return t?a[o.crossAxisEnd]<n[o.crossAxisEnd]:n[o.crossAxisStart]<a[o.crossAxisStart]})).filter((e=>{const t=It(e),n=nt(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||n(a[o.start])||n(a[o.end])})).sort(((e,n)=>{const r=It(e)[o.crossAxisStart],i=It(n)[o.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>It(e)[o.crossAxisStart]===It(n[0])[o.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>nt(It(e)[o.start],It(e)[o.end])(n[o.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>It(e)[o.start]-It(t)[o.start]))[0]:c.sort(((e,t)=>{const r=Oe(n,Ve(It(e))),i=Oe(n,Ve(It(t)));return r!==i?r-i:It(e)[o.start]-It(t)[o.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:o});if(!c)return null;const u=Ye(c.descriptor.id,s),h=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:s}=e;const a=i.filter((e=>ct({target:Nt(e,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=Le(t,_t(r,Pt(e,s))),a=Le(t,_t(r,Pt(n,s)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:o,destination:c,insideDestination:u,afterCritical:l}),d=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:s,destination:a,viewport:o,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:et,displacedBy:$e,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=xt({impact:e,draggable:i,droppable:a,draggables:s,afterCritical:l}),n=Ze(i,a)?a:Dt(a,i,s);return Tt({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),h=Rt(a.axis,i.displaceBy);return pt({draggable:i,insideDestination:r,destination:a,viewport:o,displacedBy:h,last:et,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:s,moveRelativeTo:h,insideDestination:u,viewport:o,afterCritical:l});if(!d)return null;const p=xt({impact:d,draggable:r,droppable:c,draggables:s,afterCritical:l});return{clientSelection:Ct({pageBorderBoxCenter:p,draggable:r,viewport:o}),impact:d,scrollJumpRequest:null}},Lt=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Ot=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=Lt(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),s=t.dimensions.droppables[t.critical.droppable.id],a=r||s,o=a.axis.direction,l="vertical"===o&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===o&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,{draggables:d,droppables:p}=t.dimensions;return l?kt({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,destination:a,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):jt({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,isOver:a,draggables:d,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Ft(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Ut(e){const t=nt(e.top,e.bottom),n=nt(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Vt(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=qe(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(Ut(n)(t.center))return!0;const s=e.axis,a=n.center[s.crossAxisLine],o=t[s.crossAxisStart],l=t[s.crossAxisEnd],c=nt(n[s.crossAxisStart],n[s.crossAxisEnd]),u=c(o),h=c(l);return!u&&!h||(u?o<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,s=r.map((e=>{const n=e.axis,r=je(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Le(i,r)}})).sort(((e,t)=>t.distance-e.distance));return s[0]?s[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const Bt=(e,t)=>ne(Ue(e,t));function Ht(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var zt=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:s,viewport:a,afterCritical:o}=e;const l=Bt(n.page.borderBox,t),c=Vt({pageBorderBox:l,draggable:n,droppables:i});if(!c)return tt;const u=i[c],h=Ye(u.descriptor.id,r),d=((e,t)=>{const n=e.frame;return n?Bt(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:s,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const o=i.axis,l=Rt(i.axis,t.displaceBy),c=l.value,u=n[o.start],h=n[o.end],d=Je(t,s).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[o.size]/4,s=ft(t,a),l=Ht({displaced:r.displaced,id:t});return s?l?h>n[o.start]+i&&h<n[o.end]-i:u>n[o.start]-c+i&&u<n[o.end]-c-i:l?h>n[o.start]+c+i&&h<n[o.end]+c-i:u>n[o.start]+i&&u<n[o.end]-i}));return d?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:s,destination:u,insideDestination:h,afterCritical:o})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:s,viewport:a,afterCritical:o}=e;const l=r.axis,c=Rt(r.axis,n.displaceBy),u=c.value,h=t[l.start],d=t[l.end],p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Je(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ft(t,o),i=Ht({displaced:s,id:t});return r?i?d<=n:h<n-u:i?d<=n+u:h<n}))||null,inHomeList:Ze(n,r)});return pt({draggable:n,insideDestination:i,destination:r,viewport:a,last:s,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:u,insideDestination:h,last:s.displaced,viewport:a,afterCritical:o})},Wt=(e,t)=>({...e,[t.descriptor.id]:t});const Gt=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=Lt(t),s=Lt(n);if(!i)return r;if(i===s)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const o=(e=>{const t=e.subject.withPlaceholder;t||_e(!1);const n=e.frame;if(!n){const t=He({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||_e(!1);const i=Mt(n,r),s=He({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}})(a);return Wt(r,o)};var qt=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:s,scrollJumpRequest:a}=e;const o=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Re(c,t.initial.client.selection),h={offset:u,selection:c,borderBoxCenter:Ne(t.initial.client.borderBoxCenter,u)},d={selection:Ne(h.selection,o.scroll.current),borderBoxCenter:Ne(h.borderBoxCenter,o.scroll.current),offset:Ne(h.offset,o.scroll.diff.value)},p={client:h,page:d};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:o,current:p};const f=l.draggables[t.critical.draggable.id],m=s||zt({pageOffset:d.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:s}=e;const a=Gt({previousImpact:i,impact:s,droppables:r}),o=Lt(s);if(!o)return a;const l=r[o];if(Ze(t,l))return a;if(l.subject.withPlaceholder)return a;const c=Dt(l,t,n);return Wt(a,c)})({draggable:f,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:p,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var Kt=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:s}=e;const a=t.displaced,o=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=ht({afterDragging:o,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:a});return{...t,displaced:l}},Yt=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:s,afterCritical:a}=e;const o=xt({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Ct({pageBorderBoxCenter:o,draggable:n,viewport:s})},Xt=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&_e(!1);const i=t.impact,s=r||t.viewport,a=n||t.dimensions,{draggables:o,droppables:l}=a,c=o[t.critical.draggable.id],u=Lt(i);u||_e(!1);const h=l[u],d=Kt({impact:i,viewport:s,destination:h,draggables:o}),p=Yt({impact:d,draggable:c,droppable:h,draggables:o,viewport:s,afterCritical:t.afterCritical});return qt({impact:d,clientSelection:p,state:t,dimensions:a,viewport:s})},Qt=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const s=Rt(n.axis,t.displaceBy),a=Ye(n.descriptor.id,r),o=a.indexOf(t);-1===o&&_e(!1);const l=a.slice(o+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:s,effected:c};var h;return{impact:{displaced:ht({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(h=t.descriptor,{index:h.index,droppableId:h.droppableId})}},afterCritical:u}};const Jt=e=>{0},Zt=e=>{0};var $t=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,s=(e=>{const t=e.frame;return t||_e(!1),t})(n[t]),a=s.scroll.diff.value,o=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=le(t.client,n),s=ce(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:s}})({draggable:e,offset:Ne(i,a),initialWindowScroll:r.scroll.initial});return o}))};const en=e=>"SNAP"===e.movementMode,tn=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Wt(e.droppables,t)}))(e.dimensions,t);return!en(e)||n?qt({state:e,dimensions:r}):Xt({state:e,dimensions:r})};function nn(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const rn={phase:"IDLE",completed:null,shouldFlush:!1};var sn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...rn,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&_e(!1);const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:a}=t.payload,o=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:o.client.borderBox.center,offset:Pe},u={client:c,page:{selection:Ne(c.selection,i.scroll.initial),borderBoxCenter:Ne(c.selection,i.scroll.initial),offset:Ne(c.selection,i.scroll.diff.value)}},h=qe(s.droppables).every((e=>!e.isFixedOnPage)),{impact:d,afterCritical:p}=Qt({draggable:o,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:s,initial:u,current:u,isWindowScrollAllowed:h,impact:d,afterCritical:p,onLiftImpact:d,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&_e(!1);return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&_e(!1),(e=>{let{state:t,published:n}=e;Jt();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return ze(n,e.scroll)})),i={...t.dimensions.droppables,...We(r)},s=Ge($t({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...s};n.removals.forEach((e=>{delete a[e]}));const o={droppables:i,draggables:a},l=Lt(t.impact),c=l?o.droppables[l]:null,u=o.draggables[t.critical.draggable.id],h=o.droppables[t.critical.droppable.id],{impact:d,afterCritical:p}=Qt({draggable:u,home:h,draggables:a,viewport:t.viewport}),f=c&&c.isCombineEnabled?t.impact:d,m=zt({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:f,viewport:t.viewport,afterCritical:p});Zt();const g={...t,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===t.phase?g:{...g,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ft(e)||_e(!1);const{client:n}=t.payload;return Me(n,e.current.client.selection)?e:qt({state:e,clientSelection:n,impact:en(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return nn(e);if("COLLECTING"===e.phase)return nn(e);Ft(e)||_e(!1);const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=ze(i,r);return tn(e,s,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ft(e)||_e(!1);const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||_e(!1),i.isEnabled===r&&_e(!1);const s={...i,isEnabled:r};return tn(e,s,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ft(e)||_e(!1);const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||_e(!1),i.isCombineEnabled===r&&_e(!1);const s={...i,isCombineEnabled:r};return tn(e,s,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ft(e)||_e(!1),e.isWindowScrollAllowed||_e(!1);const n=t.payload.newScroll;if(Me(e.viewport.scroll.current,n))return nn(e);const r=Et(e.viewport,n);return en(e)?Xt({state:e,viewport:r}):qt({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ft(e))return e;const n=t.payload.maxScroll;if(Me(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&_e(!1);const n=Ot({state:e,type:t.type});return n?qt({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&_e(!1);return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&_e(!1);return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};const an=e=>({type:"LIFT",payload:e}),on=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ln=()=>({type:"COLLECTION_STARTING",payload:null}),cn=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),un=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),hn=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),dn=e=>({type:"MOVE",payload:e}),pn=()=>({type:"MOVE_UP",payload:null}),fn=()=>({type:"MOVE_DOWN",payload:null}),mn=()=>({type:"MOVE_RIGHT",payload:null}),gn=()=>({type:"MOVE_LEFT",payload:null}),vn=()=>({type:"FLUSH",payload:null}),yn=e=>({type:"DROP_COMPLETE",payload:e}),bn=e=>({type:"DROP",payload:e}),wn=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const An="cubic-bezier(0.2, 0, 0, 1)",_n="cubic-bezier(.2,1,.1,1)",xn={drop:0,combining:.7},En={drop:.75},Sn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Cn="".concat(Sn.outOfTheWay,"s ").concat(An),Tn={fluid:"opacity ".concat(Cn),snap:"transform ".concat(Cn,", opacity ").concat(Cn),drop:e=>{const t="".concat(e,"s ").concat(_n);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(Cn),placeholder:"height ".concat(Cn,", width ").concat(Cn,", margin ").concat(Cn)},kn=e=>Me(e,Pe)?void 0:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),In={moveTo:kn,drop:(e,t)=>{const n=kn(e);if(n)return t?"".concat(n," scale(").concat(En.drop,")"):n}},{minDropTime:Pn,maxDropTime:Nn}=Sn,Rn=Nn-Pn;var Mn=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if("DROP"!==r.type)return void e(r);const i=t(),s=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:s}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&_e(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&_e(!1);const a=i.critical,o=i.dimensions,l=o.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:s,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:Kt({draggables:t,impact:a,destination:i,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:et},didDropInsideDroppable:!0}})({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=u?Xe(c):null,d=u?Qe(c):null,p={index:a.draggable.index,droppableId:a.droppable.id},f={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:s,mode:i.movementMode,destination:h,combine:d},m=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:s}=e;const{draggables:a,droppables:o}=r,l=Lt(t),c=l?o[l]:null,u=o[n.descriptor.droppableId],h=Yt({impact:t,draggable:n,draggables:a,afterCritical:s,droppable:c||u,viewport:i});return Re(h,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:o,viewport:i.viewport,afterCritical:i.afterCritical}),g={critical:i.critical,afterCritical:i.afterCritical,result:f,impact:c};if(!(!Me(i.current.client.offset,m)||Boolean(f.combine)))return void n(yn({completed:g}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=Le(t,n);if(i<=0)return Pn;if(i>=1500)return Nn;const s=Pn+Rn*(i/1500);return Number(("CANCEL"===r?.6*s:s).toFixed(2))})({current:i.current.client.offset,destination:m,reason:s});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:m,dropDuration:v,completed:g}))}},Dn=()=>({x:window.pageXOffset,y:window.pageYOffset});function jn(e){let{onWindowScroll:t}=e;const n=me((function(){t(Dn())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=ve;function s(){return i!==ve}return{start:function(){s()&&_e(!1),i=ye(window,[r])},stop:function(){s()||_e(!1),n.cancel(),i(),i=ve},isActive:s}}var Ln=e=>{const t=jn({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&(e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(n)&&t.stop(),e(n)}},On=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&_e(!1);const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const Fn=(e,t)=>{Jt(),t(),Zt()},Un=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Vn(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var Bn=(e,t)=>{const n=((e,t)=>{const n=On();let r=null;const i=n=>{r||_e(!1),r=null,Fn(0,(()=>Vn(e().onDragEnd,n,t,Ie.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&_e(!1),Fn(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&_e(!1),Fn(0,(()=>{const r=e().onBeforeDragStart;r&&r(Un(t,n))}))},start:(i,s)=>{r&&_e(!1);const a=Un(i,s);r={mode:s,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{Fn(0,(()=>Vn(e().onDragStart,a,t,Ie.onDragStart)))}))},update:(i,s)=>{const a=Xe(s),o=Qe(s);r||_e(!1);const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(h=a,!(null==(u=r.lastLocation)&&null==h||null!=u&&null!=h&&u.droppableId===h.droppableId&&u.index===h.index));var u,h;c&&(r.lastLocation=a);const d=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,o);if(d&&(r.lastCombine=o),!l&&!c&&!d)return;const p={...Un(i,r.mode),combine:o,destination:a};n.add((()=>{Fn(0,(()=>Vn(e().onDragUpdate,p,t,Ie.onDragUpdate)))}))},flush:()=>{r||_e(!1),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...Un(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if("BEFORE_INITIAL_CAPTURE"===r.type)return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if("INITIAL_PUBLISH"===r.type){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),"FLUSH"===r.type)return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};var Hn=e=>t=>n=>{if("DROP_ANIMATION_FINISHED"!==n.type)return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&_e(!1),e.dispatch(yn({completed:r.completed}))};var zn=e=>{let t=null,n=null;return r=>i=>{if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"!==i.type)return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=ye(window,[s])}))}};var Wn=e=>t=>n=>{if(t(n),"PUBLISH_WHILE_DRAGGING"!==n.type)return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(bn({reason:r.reason})))};const Gn=g;var qn=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:s,autoScroller:a}=e;return p(sn,Gn(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(l(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=g.apply(void 0,s)(n.dispatch),o(o({},n),{},{dispatch:r})}}}((c=r,()=>e=>t=>{"INITIAL_PUBLISH"===t.type&&c.dragging(),"DROP_ANIMATE"===t.type&&c.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||c.resting(),e(t)}),(e=>()=>t=>n=>{"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if("LIFT"!==i.type)return void t(i);const{id:s,clientSelection:a,movementMode:o}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(yn({completed:l.completed})),"IDLE"!==n().phase&&_e(!1),r(vn()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:o}});const c={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===o}},{critical:u,dimensions:h,viewport:d}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:h,clientSelection:a,movementMode:o,viewport:d}})}})(t),Mn,Hn,zn,Wn,(e=>t=>n=>r=>{if((e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&_e(!1),void e.start(i)}n(r),e.scroll(t.getState())})(a),Ln,(e=>{let t=!1;return()=>n=>r=>{if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),Bn(i,s))));var c};var Kn=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const s=Re({x:n,y:t},{x:i,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Yn=()=>{const e=document.documentElement;return e||_e(!1),e},Xn=()=>{const e=Yn();return Kn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Qn=e=>{let{critical:t,scrollOptions:n,registry:r}=e;Jt();const i=(()=>{const e=Dn(),t=Xn(),n=e.y,r=e.x,i=Yn(),s=i.clientWidth,a=i.clientHeight;return{frame:ne({top:n,left:r,right:r+s,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Pe,displacement:Pe}}}})(),s=i.scroll.current,a=t.droppable,o=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(s,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(s))),c={draggables:Ge(l),droppables:We(o)};Zt();return{dimensions:c,critical:t,viewport:i}};function Jn(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Zn=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const s=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,Jt();const{additions:e,removals:s,modified:a}=r,o=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(Pe))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:o,removals:Object.keys(s),modified:l};r={additions:{},removals:{},modified:{}},Zt(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],s()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],s()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||_e(!1);const i=n.critical.draggable;"ADDITION"===t.type&&Jn(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Jn(e,i,t.value)&&r.remove(t.value)},s={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||_e(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||_e(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||_e(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&_e(!1);const r=e.draggable.getById(t.draggableId),s=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:s.descriptor},o=e.subscribe(i);return n={critical:a,unsubscribe:o},Qn({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return s},$n=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),er=e=>{window.scrollBy(e.x,e.y)};const tr=fe((e=>qe(e).filter((e=>!!e.isEnabled&&!!e.frame))));var nr=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=tr(t).find((t=>(t.frame||_e(!1),Ut(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const rr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ir=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},sr=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>rr)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-ir({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,s);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,a=t,o=s,l=Date.now()-a;if(l>=s)return e;if(l<i)return 1;const c=ir({startOfRange:i,endOfRange:o,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,s),1):a},ar=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:s,getAutoScrollerOptions:a}=e;const o=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>rr)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?sr({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a}):-1*sr({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})};const or=Fe((e=>0===e?0:e));var lr=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:s,getAutoScrollerOptions:a}=e;const o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=ar({container:n,distanceToEdges:o,dragStartTime:t,axis:st,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),c=ar({container:n,distanceToEdges:o,dragStartTime:t,axis:at,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),u=or({x:c,y:l});if(Me(u,Pe))return null;const h=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,s=n.width>t.width;return s||i?s&&i?null:{x:s?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return h?Me(h,Pe)?null:h:null};const cr=Fe((e=>0===e?0:e>0?1:-1)),ur=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const s=Ne(n,i),a={x:e(s.x,r.x),y:e(s.y,r.y)};return Me(a,Pe)?null:a}})(),hr=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},s=cr(r),a=ur({max:i,current:n,change:s});return!a||(0!==s.x&&0===a.x||0!==s.y&&0===a.y)},dr=(e,t)=>hr({current:e.scroll.current,max:e.scroll.max,change:t}),pr=(e,t)=>{const n=e.frame;return!!n&&hr({current:n.scroll.current,max:n.scroll.max,change:t})};var fr=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:s,getAutoScrollerOptions:a}=e;const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:s,getAutoScrollerOptions:a}=e;const o=lr({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return o&&dr(t,o)?o:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=nr({center:o,destination:Lt(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:s,getAutoScrollerOptions:a}=e;const o=t.frame;if(!o)return null;const l=lr({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return l&&pr(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&s(c.descriptor.id,u)},mr=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!pr(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&pr(e,t)?ur({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=Re(t,r);n(e.descriptor.id,i);return Re(t,i)},s=(e,t,n)=>{if(!e)return n;if(!dr(t,n))return n;const i=((e,t)=>{if(!dr(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return ur({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const s=Re(n,i);r(s);return Re(n,s)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=Lt(e.impact);r||_e(!1);const a=i(e.dimensions.droppables[r],n);if(!a)return;const o=e.viewport,l=s(e.isWindowScrollAllowed,o,a);l&&((e,n)=>{const r=Ne(e.current.client.selection,n);t({client:r})})(e,l)}},gr=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const s=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=(()=>rr)}=e;const i=me(t),s=me(n);let a=null;const o=e=>{a||_e(!1);const{shouldUseTimeDampening:t,dragStartTime:n}=a;fr({state:e,scrollWindow:i,scrollDroppable:s,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{Jt(),a&&_e(!1);const t=Date.now();let n=!1;const i=()=>{n=!0};fr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},Zt(),n&&o(e)},stop:()=>{a&&(i.cancel(),s.cancel(),a=null)},scroll:o}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=mr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):s.scroll(e))},start:s.start,stop:s.stop}};const vr="data-rfd",yr=(()=>{const e="".concat(vr,"-drag-handle");return{base:e,draggableId:"".concat(e,"-draggable-id"),contextId:"".concat(e,"-context-id")}})(),br=(()=>{const e="".concat(vr,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),wr=(()=>{const e="".concat(vr,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),Ar={contextId:"".concat(vr,"-scroll-container-context-id")},_r=(e,t)=>e.map((e=>{const n=e.styles[t];return n?"".concat(e.selector," { ").concat(n," }"):""})).join(" ");var xr=e=>{const t=(n=e,e=>"[".concat(e,'="').concat(n,'"]'));var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(yr.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e="\n      transition: ".concat(Tn.outOfTheWay,";\n    ");return{selector:t(br.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(wr.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:_r(i,"always"),resting:_r(i,"resting"),dragging:_r(i,"dragging"),dropAnimating:_r(i,"dropAnimating"),userCancel:_r(i,"userCancel")}};var Er="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const Sr=()=>{const e=document.querySelector("head");return e||_e(!1),e},Cr=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Tr(e,t){return Array.from(e.querySelectorAll(t))}var kr=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ir(e){return e instanceof kr(e).HTMLElement}function Pr(e,t){const n="[".concat(yr.contextId,'="').concat(e,'"]'),r=Tr(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(yr.draggableId)===t));return i&&Ir(i)?i:null}function Nr(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,s=r(i);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||_e(!1),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=i(e);return t||_e(!1),t},findById:i,exists:e=>Boolean(i(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Rr=r.createContext(null),Mr=()=>{const e=document.body;return e||_e(!1),e};var Dr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const jr=e=>"rfd-announcement-".concat(e);const Lr={separator:"::"};var Or=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;const n=r.useId();return $((()=>"".concat(e).concat(t.separator).concat(n)),[t.separator,e,n])};var Fr=r.createContext(null);function Ur(e){0}function Vr(e,t){Ur()}function Br(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),t}function Hr(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const zr=9,Wr=13,Gr=27,qr=32,Kr=33,Yr=34,Xr=35,Qr=36,Jr=37,Zr=38,$r=39,ei=40,ti={[Wr]:!0,[zr]:!0};var ni=e=>{ti[e.keyCode]&&e.preventDefault()};var ri=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)].find((e=>"on".concat(e)in document))||e})();const ii=0,si=5;const ai={type:"IDLE"};function oi(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:s}=e;if(t!==ii)return;const a={x:n,y:s},o=r();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(a);"PENDING"!==o.type&&_e(!1);const l=o.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=si||Math.abs(u.y-c.y)>=si))return;var c,u;e.preventDefault();const h=o.actions.fluidLift(a);i({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return e.keyCode===Gr?(e.preventDefault(),void t()):void ni(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&_e(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:ri,fn:t}]}function li(){}const ci={[Yr]:!0,[Kr]:!0,[Qr]:!0,[Xr]:!0};function ui(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>r.keyCode===Gr?(r.preventDefault(),void n()):r.keyCode===qr?(r.preventDefault(),t(),void e.drop()):r.keyCode===ei?(r.preventDefault(),void e.moveDown()):r.keyCode===Zr?(r.preventDefault(),void e.moveUp()):r.keyCode===$r?(r.preventDefault(),void e.moveRight()):r.keyCode===Jr?(r.preventDefault(),void e.moveLeft()):void(ci[r.keyCode]?r.preventDefault():ni(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ri,fn:n}]}const hi={type:"IDLE"},di=.15;const pi=["input","button","textarea","select","option","optgroup","video","audio"];function fi(e,t){if(null==t)return!1;if(pi.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&fi(e,t.parentElement)}function mi(e,t){const n=t.target;return!!Ir(n)&&fi(e,n)}var gi=e=>ne(e.getBoundingClientRect()).center;const vi=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function yi(e,t){return null==e?null:e[vi](t)?e:yi(e.parentElement,t)}function bi(e,t){return e.closest?e.closest(t):yi(e,t)}function wi(e,t){const n=t.target;if(!((r=n)instanceof kr(r).Element))return null;var r;const i=function(e){return"[".concat(yr.contextId,'="').concat(e,'"]')}(e),s=bi(n,i);return s&&Ir(s)?s:null}function Ai(e){e.preventDefault()}function _i(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function xi(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const s=r.draggable.findById(i);return!!s&&(!!s.options.isEnabled&&!!$n(n.getState(),i))}function Ei(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:s,forceSensorStop:a,sourceEvent:o}=e;if(!xi({lockAPI:t,store:r,registry:i,draggableId:s}))return null;const l=i.draggable.getById(s),c=function(e,t){const n="[".concat(br.contextId,'="').concat(e,'"]'),r=Tr(document,n).find((e=>e.getAttribute(br.id)===t));return r&&Ir(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&mi(c,o))return null;const u=t.claim(a||ve);let h="PRE_DRAG";function d(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}const f=function(e,t){_i({expected:e,phase:h,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),h="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=ye(window,[{eventName:"click",fn:Ai,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(bn({reason:t}))}return"PRE_DRAG"!==h&&(n(),_e(!1)),r.dispatch(an(e.liftActionArgs)),h="DRAGGING",{isActive:()=>_i({expected:"DRAGGING",phase:h,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}return{isActive:()=>_i({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:function(e){const t=me((e=>{f((()=>dn({client:e})))}));return{...m({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(pn),moveRight:()=>f(mn),moveDown:()=>f(fn),moveLeft:()=>f(gn)};return m({liftActionArgs:{id:s,clientSelection:gi(c),movementMode:"SNAP"},cleanup:ve,actions:e})},abort:function(){_i({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!0})&&t.release()}}}const Si=[function(e){const t=(0,r.useRef)(ai),n=(0,r.useRef)(ve),i=$((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(t.button!==ii)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,o,{sourceEvent:t});if(!i)return;t.preventDefault();const s={x:t.clientX,y:t.clientY};n.current(),u(i,s)}})),[e]),s=$((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=ee((function(){n.current=ye(window,[s,i],{passive:!1,capture:!0})}),[s,i]),o=ee((()=>{"IDLE"!==t.current.type&&(t.current=ai,n.current(),a())}),[a]),l=ee((()=>{const e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),c=ee((function(){const e=oi({cancel:l,completed:o,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=ye(window,e,{capture:!0,passive:!1})}),[l,o]),u=ee((function(e,n){"IDLE"!==t.current.type&&_e(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Er((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,r.useRef)(li),n=$((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(n.keyCode!==qr)return;const r=e.findClosestDraggableId(n);if(!r)return;const s=e.tryGetLock(r,l,{sourceEvent:n});if(!s)return;n.preventDefault();let a=!0;const o=s.snapLift();function l(){a||_e(!1),a=!1,t.current(),i()}t.current(),t.current=ye(window,ui(o,l),{capture:!0,passive:!1})}})),[e]),i=ee((function(){t.current=ye(window,[n],{passive:!1,capture:!0})}),[n]);Er((function(){return i(),function(){t.current()}}),[i])},function(e){const t=(0,r.useRef)(hi),n=(0,r.useRef)(ve),i=ee((function(){return t.current}),[]),s=ee((function(e){t.current=e}),[]),a=$((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:t});if(!i)return;const s=t.touches[0],{clientX:a,clientY:o}=s,c={x:a,y:o};n.current(),d(i,c)}})),[e]),o=ee((function(){n.current=ye(window,[a],{capture:!0,passive:!1})}),[a]),l=ee((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),s(hi),n.current(),o())}),[o,s]),c=ee((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=ee((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:i},r=ye(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:s}=e.touches[0],a={x:i,y:s};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&_e(!1);const i=e.touches[0];if(!i)return;if(!(i.force>=di))return;const s=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return s?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}},{eventName:ri,fn:t}]}(t),e),s=ye(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(e.keyCode===Gr&&e.preventDefault(),t()):t()}},{eventName:ri,fn:t}]}(t),e);n.current=function(){r(),s()}}),[c,i,l]),h=ee((function(){const e=i();"PENDING"!==e.type&&_e(!1);const t=e.actions.fluidLift(e.point);s({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,s]),d=ee((function(e,t){"IDLE"!==i().type&&_e(!1);const n=setTimeout(h,120);s({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,i,s,h]);Er((function(){return o(),function(){n.current();const e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),s(hi))}}),[i,o,s]),Er((function(){return ye(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function Ci(e){let{contextId:t,store:n,registry:i,customSensors:s,enableDefaultSensors:a}=e;const o=[...a?Si:[],...s||[]],l=(0,r.useState)((()=>function(){let e=null;function t(){e||_e(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&_e(!1);const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=ee((function(e,t){Hr(e)&&!Hr(t)&&l.tryAbandon()}),[l]);Er((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),Er((()=>l.tryAbandon),[l.tryAbandon]);const u=ee((e=>xi({lockAPI:l,registry:i,store:n,draggableId:e})),[l,i,n]),h=ee(((e,r,s)=>Ei({lockAPI:l,registry:i,contextId:t,store:n,draggableId:e,forceSensorStop:r||null,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null})),[t,l,i,n]),d=ee((e=>function(e,t){const n=wi(e,t);return n?n.getAttribute(yr.draggableId):null}(t,e)),[t]),p=ee((e=>{const t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),f=ee((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(vn()))}),[l,n]),m=ee((()=>l.isClaimed()),[l]),g=$((()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:m})),[u,h,d,p,f,m]);Ur();for(let r=0;r<o.length;r++)o[r](g)}const Ti=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};r.version.startsWith("16")||r.version.startsWith("17")?n():(0,i.flushSync)(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),ki=e=>({...rr,...e.autoScrollerOptions,durationDampening:{...rr.durationDampening,...e.autoScrollerOptions}});function Ii(e){return e.current||_e(!1),e.current}function Pi(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:s,dragHandleUsageInstructions:a}=e,o=(0,r.useRef)(null);Vr();const l=Br(e),c=ee((()=>Ti(l.current)),[l]),u=ee((()=>ki(l.current)),[l]),h=function(e){const t=$((()=>jr(e)),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),C(e.style,Dr),Mr().appendChild(e),function(){setTimeout((function(){const t=Mr();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),ee((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){let{contextId:t,text:n}=e;const i=Or("hidden-text",{separator:"-"}),s=$((()=>function(e){let{contextId:t,uniqueId:n}=e;return"rfd-hidden-text-".concat(t,"-").concat(n)}({contextId:t,uniqueId:i})),[i,t]);return(0,r.useEffect)((function(){const e=document.createElement("div");return e.id=s,e.textContent=n,e.style.display="none",Mr().appendChild(e),function(){const t=Mr();t.contains(e)&&t.removeChild(e)}}),[s,n]),s}({contextId:t,text:a}),p=function(e,t){const n=$((()=>xr(e)),[e]),i=(0,r.useRef)(null),s=(0,r.useRef)(null),a=ee(fe((e=>{const t=s.current;t||_e(!1),t.textContent=e})),[]),o=ee((e=>{const t=i.current;t||_e(!1),t.textContent=e}),[]);Er((()=>{(i.current||s.current)&&_e(!1);const r=Cr(t),l=Cr(t);return i.current=r,s.current=l,r.setAttribute("".concat(vr,"-always"),e),l.setAttribute("".concat(vr,"-dynamic"),e),Sr().appendChild(r),Sr().appendChild(l),o(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||_e(!1),Sr().removeChild(t),e.current=null};e(i),e(s)}}),[t,o,a,n.always,n.resting,e]);const l=ee((()=>a(n.dragging)),[a,n.dragging]),c=ee((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=ee((()=>{s.current&&a(n.resting)}),[a,n.resting]);return $((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}(t,s),f=ee((e=>{Ii(o).dispatch(e)}),[]),g=$((()=>m({publishWhileDragging:on,updateDroppableScroll:cn,updateDroppableIsEnabled:un,updateDroppableIsCombineEnabled:hn,collectionStarting:ln},f)),[f]),v=function(){const e=$(Nr,[]);return(0,r.useEffect)((()=>function(){r.version.startsWith("16")||r.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()}),[e]),e}(),y=$((()=>Zn(v,g)),[v,g]),b=$((()=>gr({scrollWindow:er,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,...m({move:dn},f)})),[y.scrollDroppable,f,u]),w=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(!1),a=ee((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),o=ee((function(t){const n=Pr(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=ee((function(e,t){n.current===e&&(n.current=t)}),[]),c=ee((function(){i.current||s.current&&(i.current=requestAnimationFrame((()=>{i.current=null;const e=n.current;e&&o(e)})))}),[o]),u=ee((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(yr.draggableId)===e&&(n.current=e)}),[]);return Er((()=>(s.current=!0,function(){s.current=!1;const e=i.current;e&&cancelAnimationFrame(e)})),[]),$((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),A=$((()=>qn({announce:h,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:c,styleMarshal:p})),[h,b,y,w,c,p]);o.current=A;const _=ee((()=>{const e=Ii(o);"IDLE"!==e.getState().phase&&e.dispatch(vn())}),[]),x=ee((()=>{const e=Ii(o).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n($((()=>({isDragging:x,tryAbort:_})),[x,_]));const E=ee((e=>$n(Ii(o).getState(),e)),[]),S=ee((()=>Ft(Ii(o).getState())),[]),T=$((()=>({marshal:y,focus:w,contextId:t,canLift:E,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:v})),[t,y,d,w,E,S,v]);return Ci({contextId:t,store:A,registry:v,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((()=>_),[_]),r.createElement(Fr.Provider,{value:T},r.createElement(X,{context:Rr,store:A},e.children))}var Ni=function(){return r.useId()};function Ri(e){const t=Ni(),n=e.dragHandleUsageInstructions||Ie.dragHandleUsageInstructions;return r.createElement(xe,null,(i=>r.createElement(Pi,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const Mi={dragging:5e3,dropAnimating:4500},Di=(e,t)=>t?Tn.drop(t.duration):e?Tn.snap:Tn.fluid,ji=(e,t)=>{if(e)return t?xn.drop:xn.combining},Li=e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode;function Oi(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,s=Boolean(r),a=Li(e),o=Boolean(i),l=o?In.drop(n,s):In.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Di(a,i),transform:l,opacity:ji(s,o),zIndex:o?Mi.dropAnimating:Mi.dragging,pointerEvents:"none"}}(e):(t=e,{transform:In.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"});var t}function Fi(e){const t=Or("draggable"),{descriptor:n,registry:i,getDraggableRef:s,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=$((()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l})),[a,l,o]),u=ee((e=>{const t=s();return t||_e(!1),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=ue(i,r),a=ce(s,n);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:a}}(n,t,e)}),[n,s]),h=$((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),d=(0,r.useRef)(h),p=(0,r.useRef)(!0);Er((()=>(i.draggable.register(d.current),()=>i.draggable.unregister(d.current))),[i.draggable]),Er((()=>{if(p.current)return void(p.current=!1);const e=d.current;d.current=h,i.draggable.update(h,e)}),[h,i.draggable])}var Ui=r.createContext(null);function Vi(e){const t=(0,r.useContext)(e);return t||_e(!1),t}function Bi(e){e.preventDefault()}var Hi=e=>{const t=(0,r.useRef)(null),n=ee((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),s=ee((()=>t.current),[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:l}=Vi(Fr),{type:c,droppableId:u}=Vi(Ui),h=$((()=>({id:e.draggableId,index:e.index,type:c,droppableId:u})),[e.draggableId,e.index,c,u]),{children:d,draggableId:p,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:v,mapped:y,dropAnimationFinished:b}=e;if(Vr(),Ur(),!v){Fi($((()=>({descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:f})),[h,l,s,g,m,f]))}const w=$((()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Bi}:null),[a,o,p,f]),A=ee((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(r.version.startsWith("16")||r.version.startsWith("17")?b():(0,i.flushSync)(b))}),[b,y]),_=$((()=>{const e=Oi(y),t="DRAGGING"===y.type&&y.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,p,y,A,n]),x=$((()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}})),[h.droppableId,h.id,h.index,h.type]);return r.createElement(r.Fragment,null,d(_,y.snapshot,x))},zi=(e,t)=>e===t,Wi=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Gi(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const qi={mapped:{type:"SECONDARY",offset:Pe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Gi(null)}};const Ki=Y((()=>{const e=function(){const e=fe(((e,t)=>({x:e,y:t}))),t=fe((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=fe((function(e,n,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,s,a,null)}}}));return(r,i)=>{if(Hr(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],o=Lt(r.impact),l=(s=r.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,o,l,c)}var s;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,s=r.dimensions.draggables[i.draggableId],a=e.result,o=a.mode,l=Wi(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:_n,moveTo:r.newHomeClientOffset,opacity:c?xn.drop:null,scale:c?En.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:s,dropping:u,draggingOver:l,combineWith:c,mode:o,forceShouldAnimate:null,snapshot:t(o,n,l,c,u)}}}return null}}(),t=function(){const e=fe(((e,t)=>({x:e,y:t}))),t=fe(Gi),n=fe((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(Pe,e,!0):null,i=(t,i,s,a)=>{const o=s.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Qe(s),u=c&&c.draggableId===t?i:null;if(!o){if(!l)return r(u);if(s.displaced.invisible[t])return null;const i=De(a.displacedBy.point),o=e(i.x,i.y);return n(o,u,!0)}if(l)return r(u);const h=s.displacedBy.point,d=e(h.x,h.y);return n(d,u,o.shouldAnimate)};return(e,t)=>{if(Hr(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||qi}),{dropAnimationFinished:wn},null,{context:Rr,areStatePropsEqual:zi})(Hi);var Yi=Ki;function Xi(e){return Vi(Ui).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(Yi,e):null}function Qi(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return r.createElement(Xi,C({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const Ji=e=>t=>e===t,Zi=Ji("scroll"),$i=Ji("auto"),es=(Ji("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),ts=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return es(n,Zi)||es(n,$i)},ns=e=>null==e||e===document.body||e===document.documentElement?null:ts(e)?e:ns(e.parentElement);var rs=e=>({x:e.scrollLeft,y:e.scrollTop});const is=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||is(e.parentElement)};var ss=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:s,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=he(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,a=i+t.scrollWidth,o=re({top:r,right:a,bottom:s,left:i},n.border);return ae({borderBox:o,margin:n.margin,border:n.border,padding:n.padding})})(t,c),h=ce(u,i),d=(()=>{if(!c)return null;const e=he(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:ce(e,i),scroll:rs(c),scrollSize:t,shouldClipSubject:l}})(),p=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:s,client:a,page:o,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Kn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Pe,displacement:Pe}}}})(),u="vertical"===s?st:at;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:o,frame:c,subject:He({page:o,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:h,closest:d});return p};const as={passive:!1},os={passive:!0};var ls=e=>e.shouldPublishImmediately?as:os;const cs=e=>e&&e.env.closestScrollable||null;function us(e){const t=(0,r.useRef)(null),n=Vi(Fr),i=Or("droppable"),{registry:s,marshal:a}=n,o=Br(e),l=$((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=$((()=>fe(((e,n)=>{t.current||_e(!1);const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),h=ee((()=>{const e=t.current;return e&&e.env.closestScrollable?rs(e.env.closestScrollable):Pe}),[]),d=ee((()=>{const e=h();u(e.x,e.y)}),[h,u]),p=$((()=>me(d)),[d]),f=ee((()=>{const e=t.current,n=cs(e);e&&n||_e(!1);e.scrollOptions.shouldPublishImmediately?d():p()}),[p,d]),m=ee(((e,r)=>{t.current&&_e(!1);const i=o.current,s=i.getDroppableRef();s||_e(!1);const a=(e=>({closestScrollable:ns(e),isFixedOnPage:is(e)}))(s),c={ref:s,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=ss({ref:s,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),h=a.closestScrollable;return h&&(h.setAttribute(Ar.contextId,n.contextId),h.addEventListener("scroll",f,ls(c.scrollOptions))),u}),[n.contextId,l,f,o]),g=ee((()=>{const e=t.current,n=cs(e);return e&&n||_e(!1),rs(n)}),[]),v=ee((()=>{const e=t.current;e||_e(!1);const n=cs(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Ar.contextId),n.removeEventListener("scroll",f,ls(e.scrollOptions)))}),[f,p]),y=ee((e=>{const n=t.current;n||_e(!1);const r=cs(n);r||_e(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=$((()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y})),[v,m,g,y]),w=$((()=>({uniqueId:i,descriptor:l,callbacks:b})),[b,l,i]);Er((()=>(c.current=w.descriptor,s.droppable.register(w),()=>{t.current&&v(),s.droppable.unregister(w)})),[b,l,v,w,a,s.droppable]),Er((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Er((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function hs(){}const ds={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ps=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?ds:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Tn.placeholder:null}};var fs=r.memo((e=>{const t=(0,r.useRef)(null),n=ee((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:i,onTransitionEnd:s,onClose:a,contextId:o}=e,[l,c]=(0,r.useState)("open"===e.animate);(0,r.useEffect)((()=>l?"open"!==i?(n(),c(!1),hs):t.current?hs:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):hs),[i,l,n]);const u=ee((e=>{"height"===e.propertyName&&(s(),"close"===i&&a())}),[i,a,s]),h=ps({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}));class ms extends r.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}var gs=e=>{const t=(0,r.useContext)(Fr);t||_e(!1);const{contextId:n,isMovementAllowed:s}=t,a=(0,r.useRef)(null),o=(0,r.useRef)(null),{children:l,droppableId:c,type:u,mode:h,direction:d,ignoreContainerClipping:p,isDropDisabled:f,isCombineEnabled:m,snapshot:g,useClone:v,updateViewportMaxScroll:y,getContainerForClone:b}=e,w=ee((()=>a.current),[]),A=ee((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]),_=(ee((()=>o.current),[]),ee((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]));Vr();const x=ee((()=>{s()&&y({maxScroll:Xn()})}),[s,y]);us({droppableId:c,type:u,mode:h,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:p,getDroppableRef:w});const E=$((()=>r.createElement(ms,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:i,animate:s}=e;return r.createElement(fs,{placeholder:i,onClose:t,innerRef:_,animate:s,contextId:n,onTransitionEnd:x})}))),[n,x,e.placeholder,e.shouldAnimatePlaceholder,_]),S=$((()=>({innerRef:A,placeholder:E,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}})),[n,c,E,A]),C=v?v.dragging.draggableId:null,T=$((()=>({droppableId:c,type:u,isUsingCloneFor:C})),[c,C,u]);return r.createElement(Ui.Provider,{value:T},l(S,g),function(){if(!v)return null;const{dragging:e,render:t}=v,n=r.createElement(Xi,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return i.createPortal(n,b())}())};const vs={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||_e(!1),document.body}},ys=e=>{let t,n={...e};for(t in vs)void 0===e[t]&&(n={...n,[t]:vs[t]});return n},bs=(e,t)=>e===t.droppable.type,ws=(e,t)=>t.draggables[e.draggable.id];var As=Y((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=fe((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=fe(((r,i,s,a,o,l)=>{const c=o.descriptor.id;if(o.descriptor.droppableId===r){const e=l?{render:l,dragging:n(o.descriptor)}:null,t={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const s=ys(i),a=s.droppableId,o=s.type,l=!s.isDropDisabled,c=s.renderClone;if(Hr(n)){const e=n.critical;if(!bs(o,e))return t;const i=ws(e,n.dimensions),s=Lt(n.impact)===a;return r(a,l,s,s,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!bs(o,e.critical))return t;const i=ws(e.critical,n.dimensions);return r(a,l,Wi(e.result)===a,Lt(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!bs(o,r.critical))return t;const i=Lt(r.impact)===a,s=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?s?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...ys(n),...e,...t})),{context:Rr,areStatePropsEqual:zi})(gs)},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>h,Gh:()=>M,HS:()=>D,Oi:()=>o,Rr:()=>d,TM:()=>a,pX:()=>U,pb:()=>I,rc:()=>i,tH:()=>F,ue:()=>m,yD:()=>R}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const s="popstate";function a(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=d(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))}),(function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:d=!1}=a,p=l.history,f=i.Pop,m=null,g=v();function v(){return(p.state||{idx:null}).idx}function y(){f=i.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:f,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(r({},p.state,{idx:g}),""));let w={get action(){return f},get location(){return e(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,y),m=e,()=>{l.removeEventListener(s,y),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let r=u(w.location,e,t);n&&n(r,e),g=v()+1;let s=c(r,g),a=w.createHref(r);try{p.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}d&&m&&m({action:f,location:w.location,delta:1})},replace:function(e,t){f=i.Replace;let r=u(w.location,e,t);n&&n(r,e),g=v();let s=c(r,g),a=w.createHref(r);p.replaceState(s,"",a),d&&m&&m({action:f,location:w.location,delta:0})},go:e=>p.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=I(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=k(r);s=C(i[a],e)}return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,b=3,w=2,A=1,_=10,x=-2,E=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=x),t&&(r+=w),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?A:_)),r)}function C(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:D([i,c.pathname]),pathnameBase:j(D([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function k(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=N(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=d(e):(s=r({},e),o(!s.pathname||!s.pathname.includes("?"),P("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),P("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),P("#","search","hash",s)));let a,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)a=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(r),hash:O(i)}}(s,a),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!p||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class F extends Error{}function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],B=(new Set(V),["get",...V]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},922:(e,t,n)=>{"use strict";n.d(t,{lF:()=>u});var r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],i=(e,t)=>{var n="";for(let i=1;i<=t;i++){let s=Math.floor(e)/Math.pow(83,t-i)%83;n+=r[Math.floor(s)]}return n},s=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},a=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(12.92*t*255+.5):Math.trunc(255*(1.055*Math.pow(t,.4166666666666667)-.055)+.5)},o=(e,t)=>(e=>e<0?-1:1)(e)*Math.pow(Math.abs(e),t),l=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},c=(e,t,n,r)=>{let i=0,a=0,o=0,l=4*t;for(let u=0;u<t;u++){let t=4*u;for(let c=0;c<n;c++){let n=t+c*l,h=r(u,c);i+=h*s(e[n]),a+=h*s(e[n+1]),o+=h*s(e[n+2])}}let c=1/(t*n);return[i*c,a*c,o*c]},u=(e,t,n,r,s)=>{if(r<1||r>9||s<1||s>9)throw new l("BlurHash must have between 1 and 9 components");if(t*n*4!==e.length)throw new l("Width and height must match the pixels array");let u=[];for(let i=0;i<s;i++)for(let s=0;s<r;s++){let r=0==s&&0==i?1:2,a=c(e,t,n,((e,a)=>r*Math.cos(Math.PI*s*e/t)*Math.cos(Math.PI*i*a/n)));u.push(a)}let h,d=u[0],p=u.slice(1),f="";if(f+=i(r-1+9*(s-1),1),p.length>0){let e=Math.max(...p.map((e=>Math.max(...e)))),t=Math.floor(Math.max(0,Math.min(82,Math.floor(166*e-.5))));h=(t+1)/166,f+=i(t,1)}else h=1,f+=i(0,1);return f+=i((e=>(a(e[0])<<16)+(a(e[1])<<8)+a(e[2]))(d),4),p.forEach((e=>{f+=i(((e,t)=>19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*o(e[0]/t,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*o(e[1]/t,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*o(e[2]/t,.5)+9.5)))))(e,h),2)})),f}},6522:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_KEY:"AIzaSyCQFUXJUBBthmVV23m-yIvhOKHoyu4-vaw"}.DEBUG),e}(t=e.exports=n(5613)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},5613:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,s=i-(r||i);e.diff=s,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var s=a[l];n=i.call(e,s),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7340),t.names=[],t.skips=[],t.formatters={}},122:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var a=s[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},4404:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{u:()=>cn});var i,s,a,o,l,c,u,h,d,p,f,m,g,v=function(){return i||"undefined"!==typeof window&&(i=window.gsap)&&i.registerPlugin&&i},y=1,b=[],w=[],A=[],_=Date.now,x=function(e,t){return t},E=function(e,t){return~A.indexOf(e)&&A[A.indexOf(e)+1][t]},S=function(e){return!!~p.indexOf(e)},C=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},T=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},k="scrollLeft",I="scrollTop",P=function(){return f&&f.isPressed||w.cache++},N=function(e,t){var n=function n(r){if(r||0===r){y&&(a.history.scrollRestoration="manual");var i=f&&f.isPressed;r=n.v=Math.round(r)||(f&&f.iOS?1:0),e(r),n.cacheID=w.cache,i&&x("ss",r)}else(t||w.cache!==n.cacheID||x("ref"))&&(n.cacheID=w.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},R={s:k,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:N((function(e){return arguments.length?a.scrollTo(e,M.sc()):a.pageXOffset||o[k]||l[k]||c[k]||0}))},M={s:I,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:R,sc:N((function(e){return arguments.length?a.scrollTo(R.sc(),e):a.pageYOffset||o[I]||l[I]||c[I]||0}))},D=function(e,t){return(t&&t._ctx&&t._ctx.selector||i.utils.toArray)(e)[0]||("string"===typeof e&&!1!==i.config().nullTargetWarn?console.warn("Element not found:",e):null)},j=function(e,t){var n=t.s,r=t.sc;S(e)&&(e=o.scrollingElement||l);var s=w.indexOf(e),a=r===M.sc?1:2;!~s&&(s=w.push(e)-1),w[s+a]||C(e,"scroll",P);var c=w[s+a],u=c||(w[s+a]=N(E(e,n),!0)||(S(e)?r:N((function(t){return arguments.length?e[n]=t:e[n]}))));return u.target=e,c||(u.smooth="smooth"===i.getProperty(e,"scrollBehavior")),u},L=function(e,t,n){var r=e,i=e,s=_(),a=s,o=t||50,l=Math.max(500,3*o),c=function(e,t){var l=_();t||l-s>o?(i=r,r=e,a=s,s=l):n?r+=e:r=i+(e-i)/(l-a)*(s-a)};return{update:c,reset:function(){i=r=n?0:r,a=s=0},getVelocity:function(e){var t=a,o=i,u=_();return(e||0===e)&&e!==r&&c(e),s===a||u-a>l?0:(r+(n?o:-o))/((n?u:s)-t)*1e3}}},O=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},F=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},U=function(){(d=i.core.globals().ScrollTrigger)&&d.core&&function(){var e=d.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,w),r.push.apply(r,A),w=n,A=r,x=function(e,n){return t[e](n)}}()},V=function(e){return i=e||v(),!s&&i&&"undefined"!==typeof document&&document.body&&(a=window,o=document,l=o.documentElement,c=o.body,p=[a,o,l,c],i.utils.clamp,g=i.core.context||function(){},h="onpointerenter"in c?"pointer":"mouse",u=B.isTouch=a.matchMedia&&a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,m=B.eventTypes=("ontouchstart"in l?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in l?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return y=0}),500),U(),s=1),s};R.op=M,w.cache=0;var B=function(){function e(e){this.init(e)}var t,n,p;return e.prototype.init=function(e){s||V(i)||console.warn("Please gsap.registerPlugin(Observer)"),d||U();var t=e.tolerance,n=e.dragMinimum,r=e.type,p=e.target,v=e.lineHeight,y=e.debounce,w=e.preventDefault,A=e.onStop,x=e.onStopDelay,E=e.ignore,k=e.wheelSpeed,I=e.event,N=e.onDragStart,B=e.onDragEnd,H=e.onDrag,z=e.onPress,W=e.onRelease,G=e.onRight,q=e.onLeft,K=e.onUp,Y=e.onDown,X=e.onChangeX,Q=e.onChangeY,J=e.onChange,Z=e.onToggleX,$=e.onToggleY,ee=e.onHover,te=e.onHoverEnd,ne=e.onMove,re=e.ignoreCheck,ie=e.isNormalizer,se=e.onGestureStart,ae=e.onGestureEnd,oe=e.onWheel,le=e.onEnable,ce=e.onDisable,ue=e.onClick,he=e.scrollSpeed,de=e.capture,pe=e.allowClicks,fe=e.lockAxis,me=e.onLockAxis;this.target=p=D(p)||l,this.vars=e,E&&(E=i.utils.toArray(E)),t=t||1e-9,n=n||0,k=k||1,he=he||1,r=r||"wheel,touch,pointer",y=!1!==y,v||(v=parseFloat(a.getComputedStyle(c).lineHeight)||22);var ge,ve,ye,be,we,Ae,_e,xe=this,Ee=0,Se=0,Ce=e.passive||!w,Te=j(p,R),ke=j(p,M),Ie=Te(),Pe=ke(),Ne=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===m[0],Re=S(p),Me=p.ownerDocument||o,De=[0,0,0],je=[0,0,0],Le=0,Oe=function(){return Le=_()},Fe=function(e,t){return(xe.event=e)&&E&&~E.indexOf(e.target)||t&&Ne&&"touch"!==e.pointerType||re&&re(e,t)},Ue=function(){var e=xe.deltaX=F(De),n=xe.deltaY=F(je),r=Math.abs(e)>=t,i=Math.abs(n)>=t;J&&(r||i)&&J(xe,e,n,De,je),r&&(G&&xe.deltaX>0&&G(xe),q&&xe.deltaX<0&&q(xe),X&&X(xe),Z&&xe.deltaX<0!==Ee<0&&Z(xe),Ee=xe.deltaX,De[0]=De[1]=De[2]=0),i&&(Y&&xe.deltaY>0&&Y(xe),K&&xe.deltaY<0&&K(xe),Q&&Q(xe),$&&xe.deltaY<0!==Se<0&&$(xe),Se=xe.deltaY,je[0]=je[1]=je[2]=0),(be||ye)&&(ne&&ne(xe),ye&&(H(xe),ye=!1),be=!1),Ae&&!(Ae=!1)&&me&&me(xe),we&&(oe(xe),we=!1),ge=0},Ve=function(e,t,n){De[n]+=e,je[n]+=t,xe._vx.update(e),xe._vy.update(t),y?ge||(ge=requestAnimationFrame(Ue)):Ue()},Be=function(e,t){fe&&!_e&&(xe.axis=_e=Math.abs(e)>Math.abs(t)?"x":"y",Ae=!0),"y"!==_e&&(De[2]+=e,xe._vx.update(e,!0)),"x"!==_e&&(je[2]+=t,xe._vy.update(t,!0)),y?ge||(ge=requestAnimationFrame(Ue)):Ue()},He=function(e){if(!Fe(e,1)){var t=(e=O(e,w)).clientX,r=e.clientY,i=t-xe.x,s=r-xe.y,a=xe.isDragging;xe.x=t,xe.y=r,(a||Math.abs(xe.startX-t)>=n||Math.abs(xe.startY-r)>=n)&&(H&&(ye=!0),a||(xe.isDragging=!0),Be(i,s),a||N&&N(xe))}},ze=xe.onPress=function(e){Fe(e,1)||e&&e.button||(xe.axis=_e=null,ve.pause(),xe.isPressed=!0,e=O(e),Ee=Se=0,xe.startX=xe.x=e.clientX,xe.startY=xe.y=e.clientY,xe._vx.reset(),xe._vy.reset(),C(ie?p:Me,m[1],He,Ce,!0),xe.deltaX=xe.deltaY=0,z&&z(xe))},We=xe.onRelease=function(e){if(!Fe(e,1)){T(ie?p:Me,m[1],He,!0);var t=!isNaN(xe.y-xe.startY),n=xe.isDragging,r=n&&(Math.abs(xe.x-xe.startX)>3||Math.abs(xe.y-xe.startY)>3),s=O(e);!r&&t&&(xe._vx.reset(),xe._vy.reset(),w&&pe&&i.delayedCall(.08,(function(){if(_()-Le>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Me.createEvent){var t=Me.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,a,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),xe.isDragging=xe.isGesturing=xe.isPressed=!1,A&&n&&!ie&&ve.restart(!0),B&&n&&B(xe),W&&W(xe,r)}},Ge=function(e){return e.touches&&e.touches.length>1&&(xe.isGesturing=!0)&&se(e,xe.isDragging)},qe=function(){return(xe.isGesturing=!1)||ae(xe)},Ke=function(e){if(!Fe(e)){var t=Te(),n=ke();Ve((t-Ie)*he,(n-Pe)*he,1),Ie=t,Pe=n,A&&ve.restart(!0)}},Ye=function(e){if(!Fe(e)){e=O(e,w),oe&&(we=!0);var t=(1===e.deltaMode?v:2===e.deltaMode?a.innerHeight:1)*k;Ve(e.deltaX*t,e.deltaY*t,0),A&&!ie&&ve.restart(!0)}},Xe=function(e){if(!Fe(e)){var t=e.clientX,n=e.clientY,r=t-xe.x,i=n-xe.y;xe.x=t,xe.y=n,be=!0,A&&ve.restart(!0),(r||i)&&Be(r,i)}},Qe=function(e){xe.event=e,ee(xe)},Je=function(e){xe.event=e,te(xe)},Ze=function(e){return Fe(e)||O(e,w)&&ue(xe)};ve=xe._dc=i.delayedCall(x||.25,(function(){xe._vx.reset(),xe._vy.reset(),ve.pause(),A&&A(xe)})).pause(),xe.deltaX=xe.deltaY=0,xe._vx=L(0,50,!0),xe._vy=L(0,50,!0),xe.scrollX=Te,xe.scrollY=ke,xe.isDragging=xe.isGesturing=xe.isPressed=!1,g(this),xe.enable=function(e){return xe.isEnabled||(C(Re?Me:p,"scroll",P),r.indexOf("scroll")>=0&&C(Re?Me:p,"scroll",Ke,Ce,de),r.indexOf("wheel")>=0&&C(p,"wheel",Ye,Ce,de),(r.indexOf("touch")>=0&&u||r.indexOf("pointer")>=0)&&(C(p,m[0],ze,Ce,de),C(Me,m[2],We),C(Me,m[3],We),pe&&C(p,"click",Oe,!0,!0),ue&&C(p,"click",Ze),se&&C(Me,"gesturestart",Ge),ae&&C(Me,"gestureend",qe),ee&&C(p,h+"enter",Qe),te&&C(p,h+"leave",Je),ne&&C(p,h+"move",Xe)),xe.isEnabled=!0,e&&e.type&&ze(e),le&&le(xe)),xe},xe.disable=function(){xe.isEnabled&&(b.filter((function(e){return e!==xe&&S(e.target)})).length||T(Re?Me:p,"scroll",P),xe.isPressed&&(xe._vx.reset(),xe._vy.reset(),T(ie?p:Me,m[1],He,!0)),T(Re?Me:p,"scroll",Ke,de),T(p,"wheel",Ye,de),T(p,m[0],ze,de),T(Me,m[2],We),T(Me,m[3],We),T(p,"click",Oe,!0),T(p,"click",Ze),T(Me,"gesturestart",Ge),T(Me,"gestureend",qe),T(p,h+"enter",Qe),T(p,h+"leave",Je),T(p,h+"move",Xe),xe.isEnabled=xe.isPressed=xe.isDragging=!1,ce&&ce(xe))},xe.kill=xe.revert=function(){xe.disable();var e=b.indexOf(xe);e>=0&&b.splice(e,1),f===xe&&(f=0)},b.push(xe),ie&&S(p)&&(f=xe),xe.enable(I)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&r(t.prototype,n),p&&r(t,p),e}();B.version="3.12.5",B.create=function(e){return new B(e)},B.register=V,B.getAll=function(){return b.slice()},B.getById=function(e){return b.filter((function(t){return t.vars.id===e}))[0]},v()&&i.registerPlugin(B);var H,z,W,G,q,K,Y,X,Q,J,Z,$,ee,te,ne,re,ie,se,ae,oe,le,ce,ue,he,de,pe,fe,me,ge,ve,ye,be,we,Ae,_e,xe,Ee,Se,Ce=1,Te=Date.now,ke=Te(),Ie=0,Pe=0,Ne=function(e,t,n){var r=Ge(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},Re=function(e,t){return!t||Ge(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Me=function e(){return Pe&&requestAnimationFrame(e)},De=function(){return te=1},je=function(){return te=0},Le=function(e){return e},Oe=function(e){return Math.round(1e5*e)/1e5||0},Fe=function(){return"undefined"!==typeof window},Ue=function(){return H||Fe()&&(H=window.gsap)&&H.registerPlugin&&H},Ve=function(e){return!!~Y.indexOf(e)},Be=function(e){return("Height"===e?ye:W["inner"+e])||q["client"+e]||K["client"+e]},He=function(e){return E(e,"getBoundingClientRect")||(Ve(e)?function(){return tn.width=W.innerWidth,tn.height=ye,tn}:function(){return ft(e)})},ze=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=E(e,n))?s()-He(e)()[i]:Ve(e)?(q[n]||K[n])-Be(r):e[n]-e["offset"+r])},We=function(e,t){for(var n=0;n<ae.length;n+=3)(!t||~t.indexOf(ae[n+1]))&&e(ae[n],ae[n+1],ae[n+2])},Ge=function(e){return"string"===typeof e},qe=function(e){return"function"===typeof e},Ke=function(e){return"number"===typeof e},Ye=function(e){return"object"===typeof e},Xe=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Qe=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add((function(){return t(e)})):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Je=Math.abs,Ze="left",$e="right",et="bottom",tt="width",nt="height",rt="Right",it="Left",st="Top",at="Bottom",ot="padding",lt="margin",ct="Width",ut="Height",ht="px",dt=function(e){return W.getComputedStyle(e)},pt=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ft=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==dt(e)[ne]&&H.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},mt=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},gt=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},vt=function(e){var t=H.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0===r<0?s:t(r<0?n-e:n+e)}},yt=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},bt=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},wt=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},At=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},_t={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},xt={toggleActions:"play",anticipatePin:0},Et={top:0,left:0,center:.5,bottom:1,right:1},St=function(e,t){if(Ge(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Et?Et[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ct=function(e,t,n,r,i,s,a,o){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,p=G.createElement("div"),f=Ve(n)||"fixed"===E(n,"pinType"),m=-1!==e.indexOf("scroller"),g=f?K:n,v=-1!==e.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||o)&&f?"fixed;":"absolute;"),(m||o||!f)&&(b+=(r===M?$e:et)+":"+(s+parseFloat(h))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(p,g.children[0]):g.appendChild(p),p._offset=p["offset"+r.op.d2],Tt(p,0,r,v),p},Tt=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],a=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+ct]=1,i["border"+a+ct]=0,i[n.p]=t+"px",H.set(e,i)},kt=[],It={},Pt=function(){return Te()-Ie>34&&(_e||(_e=requestAnimationFrame(Yt)))},Nt=function(){(!ue||!ue.isPressed||ue.startX>K.clientWidth)&&(w.cache++,ue?_e||(_e=requestAnimationFrame(Yt)):Yt(),Ie||Ot("scrollStart"),Ie=Te())},Rt=function(){pe=W.innerWidth,de=W.innerHeight},Mt=function(){w.cache++,!ee&&!ce&&!G.fullscreenElement&&!G.webkitFullscreenElement&&(!he||pe!==W.innerWidth||Math.abs(W.innerHeight-de)>.25*W.innerHeight)&&X.restart(!0)},Dt={},jt=[],Lt=function e(){return wt(cn,"scrollEnd",e)||Gt(!0)},Ot=function(e){return Dt[e]&&Dt[e].map((function(e){return e()}))||jt},Ft=[],Ut=function(e){for(var t=0;t<Ft.length;t+=5)(!e||Ft[t+4]&&Ft[t+4].query===e)&&(Ft[t].style.cssText=Ft[t+1],Ft[t].getBBox&&Ft[t].setAttribute("transform",Ft[t+2]||""),Ft[t+3].uncache=1)},Vt=function(e,t){var n;for(re=0;re<kt.length;re++)!(n=kt[re])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));be=!0,t&&Ut(t),t||Ot("revert")},Bt=function(e,t){w.cache++,(t||!xe)&&w.forEach((function(e){return qe(e)&&e.cacheID++&&(e.rec=0)})),Ge(e)&&(W.history.scrollRestoration=ge=e)},Ht=0,zt=function(){K.appendChild(ve),ye=!ue&&ve.offsetHeight||W.innerHeight,K.removeChild(ve)},Wt=function(e){return Q(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},Gt=function(e,t){if(!Ie||e||be){zt(),xe=cn.isRefreshing=!0,w.forEach((function(e){return qe(e)&&++e.cacheID&&(e.rec=e())}));var n=Ot("refreshInit");oe&&cn.sort(),t||Vt(),w.forEach((function(e){qe(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),kt.slice(0).forEach((function(e){return e.refresh()})),be=!1,kt.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),we=1,Wt(!0),kt.forEach((function(e){var t=ze(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),Wt(!1),we=0,n.forEach((function(e){return e&&e.render&&e.render(-1)})),w.forEach((function(e){qe(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),Bt(ge,1),X.pause(),Ht++,xe=2,Yt(2),kt.forEach((function(e){return qe(e.vars.onRefresh)&&e.vars.onRefresh(e)})),xe=cn.isRefreshing=!1,Ot("refresh")}else bt(cn,"scrollEnd",Lt)},qt=0,Kt=1,Yt=function(e){if(2===e||!xe&&!be){cn.isUpdating=!0,Se&&Se.update(0);var t=kt.length,n=Te(),r=n-ke>=50,i=t&&kt[0].scroll();if(Kt=qt>i?-1:1,xe||(qt=i),r&&(Ie&&!te&&n-Ie>200&&(Ie=0,Ot("scrollEnd")),Z=ke,ke=n),Kt<0){for(re=t;re-- >0;)kt[re]&&kt[re].update(0,r);Kt=1}else for(re=0;re<t;re++)kt[re]&&kt[re].update(0,r);cn.isUpdating=!1}_e=0},Xt=[Ze,"top",et,$e,lt+at,lt+rt,lt+st,lt+it,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qt=Xt.concat([tt,nt,"boxSizing","max"+ct,"max"+ut,"position",lt,ot,ot+st,ot+rt,ot+at,ot+it]),Jt=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=Xt.length,a=t.style,o=e.style;s--;)a[i=Xt[s]]=n[i];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),o[et]=o[$e]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[tt]=mt(e,R)+ht,a[nt]=mt(e,M)+ht,a[ot]=o[lt]=o.top=o[Ze]="0",$t(r),o[tt]=o["max"+ct]=n[tt],o[nt]=o["max"+ut]=n[nt],o[ot]=n[ot],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Zt=/([A-Z])/g,$t=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||H.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(Zt,"-$1").toLowerCase())}},en=function(e){for(var t=Qt.length,n=e.style,r=[],i=0;i<t;i++)r.push(Qt[i],n[Qt[i]]);return r.t=e,r},tn={left:0,top:0},nn=function(e,t,n,r,i,s,a,o,l,c,u,h,d,p){qe(e)&&(e=e(o)),Ge(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?St("0"+e.substr(3),n):0));var f,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),Ke(e))d&&(e=H.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),a&&Tt(a,n,r,!0);else{qe(t)&&(t=t(o));var y,b,w,A,_=(e||"0").split(" ");g=D(t,o)||K,(y=ft(g)||{})&&(y.left||y.top)||"none"!==dt(g).display||(A=g.style.display,g.style.display="block",y=ft(g),A?g.style.display=A:g.style.removeProperty("display")),b=St(_[0],y[r.d]),w=St(_[1]||"0",n),e=y[r.p]-l[r.p]-c+b+i-w,a&&Tt(a,w,r,n-w<20||a._isStart&&w>20),n-=n-w}if(p&&(o[p]=e||-.001,e<0&&(e=0)),s){var x=e+n,E=s._isStart;f="scroll"+r.d2,Tt(s,x,r,E&&x>20||!E&&(u?Math.max(K[f],q[f]):s.parentNode[f])<=x+1),u&&(l=ft(a),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+ht))}return d&&g&&(f=ft(g),d.seek(h),m=ft(g),d._caScrollDist=f[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},rn=/(webkit|moz|length|cssText|inset)/i,sn=function(e,t,n,r){if(e.parentNode!==t){var i,s,a=e.style;if(t===K){for(i in e._stOrig=a.cssText,s=dt(e))+i||rn.test(i)||!s[i]||"string"!==typeof a[i]||"0"===i||(a[i]=s[i]);a.top=n,a.left=r}else a.cssText=e._stOrig;H.core.getCache(e).uncache=1,t.appendChild(e)}},an=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=t,t}},on=function(e,t,n){var r={};r[t.p]="+="+n,H.set(e,r)},ln=function(e,t){var n=j(e,t),r="_scroll"+t.p2,i=function t(i,s,a,o,l){var c=t.tween,u=s.onComplete,h={};a=a||n();var d=an(n,a,(function(){c.kill(),t.tween=0}));return l=o&&l||0,o=o||i-a,c&&c.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(a+o*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){w.cache++,t.tween&&Yt()},s.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=H.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},bt(e,"wheel",n.wheelHandler),cn.isTouch&&bt(e,"touchmove",n.wheelHandler),i},cn=function(){function e(t,n){z||e.register(H)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),me(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Pe){var r,i,s,a,o,l,c,u,h,d,p,f,m,g,v,y,b,_,x,S,C,T,k,I,P,N,L,O,F,U,V,B,z,Y,X,$,ne,ie,se,ae,ce=t=pt(Ge(t)||Ke(t)||t.nodeType?{trigger:t}:t,xt),ue=ce.onUpdate,he=ce.toggleClass,de=ce.id,pe=ce.onToggle,fe=ce.onRefresh,me=ce.scrub,ge=ce.trigger,ve=ce.pin,ye=ce.pinSpacing,be=ce.invalidateOnRefresh,_e=ce.anticipatePin,ke=ce.onScrubComplete,Me=ce.onSnapComplete,De=ce.once,je=ce.snap,Fe=ce.pinReparent,Ue=ce.pinSpacer,We=ce.containerAnimation,Ze=ce.fastScrollEnd,$e=ce.preventOverlaps,et=t.horizontal||t.containerAnimation&&!1!==t.horizontal?R:M,yt=!me&&0!==me,At=D(t.scroller||W),Et=H.core.getCache(At),Tt=Ve(At),Pt="fixed"===("pinType"in t?t.pinType:E(At,"pinType")||Tt&&"fixed"),Rt=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Dt=yt&&t.toggleActions.split(" "),jt="markers"in t?t.markers:xt.markers,Ot=Tt?0:parseFloat(dt(At)["border"+et.p2+ct])||0,Ft=this,Ut=t.onRefreshInit&&function(){return t.onRefreshInit(Ft)},Vt=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=E(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?Be(i):e["client"+i])||0}}(At,Tt,et),Bt=function(e,t){return!t||~A.indexOf(e)?He(e):function(){return tn}}(At,Tt),zt=0,Wt=0,qt=0,Yt=j(At,et);if(Ft._startClamp=Ft._endClamp=!1,Ft._dir=et,_e*=45,Ft.scroller=At,Ft.scroll=We?We.time.bind(We):Yt,a=Yt(),Ft.vars=t,n=n||t.animation,"refreshPriority"in t&&(oe=1,-9999===t.refreshPriority&&(Se=Ft)),Et.tweenScroll=Et.tweenScroll||{top:ln(At,M),left:ln(At,R)},Ft.tweenTo=r=Et.tweenScroll[et.p],Ft.scrubDuration=function(e){(z=Ke(e)&&e)?B?B.duration(e):B=H.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:z,paused:!0,onComplete:function(){return ke&&ke(Ft)}}):(B&&B.progress(1).kill(),B=0)},n&&(n.vars.lazy=!1,n._initted&&!Ft.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),Ft.animation=n.pause(),n.scrollTrigger=Ft,Ft.scrubDuration(me),U=0,de||(de=n.vars.id)),je&&(Ye(je)&&!je.push||(je={snapTo:je}),"scrollBehavior"in K.style&&H.set(Tt?[K,q]:At,{scrollBehavior:"auto"}),w.forEach((function(e){return qe(e)&&e.target===(Tt?G.scrollingElement||q:At)&&(e.smooth=!1)})),s=qe(je.snapTo)?je.snapTo:"labels"===je.snapTo?function(e){return function(t){return H.utils.snap(gt(e),t)}}(n):"labelsDirectional"===je.snapTo?(ae=n,function(e,t){return vt(gt(ae))(e,t.direction)}):!1!==je.directional?function(e,t){return vt(je.snapTo)(e,Te()-Wt<500?0:t.direction)}:H.utils.snap(je.snapTo),Y=je.duration||{min:.1,max:2},Y=Ye(Y)?J(Y.min,Y.max):J(Y,Y),X=H.delayedCall(je.delay||z/2||.1,(function(){var e=Yt(),t=Te()-Wt<500,i=r.tween;if(!(t||Math.abs(Ft.getVelocity())<10)||i||te||zt===e)Ft.isActive&&zt!==e&&X.restart(!0);else{var a,o,u=(e-l)/g,h=n&&!yt?n.totalProgress():u,d=t?0:(h-V)/(Te()-Z)*1e3||0,p=H.utils.clamp(-u,1-u,Je(d/2)*d/.185),f=u+(!1===je.inertia?0:p),m=je,v=m.onStart,y=m.onInterrupt,b=m.onComplete;if(a=s(f,Ft),Ke(a)||(a=f),o=Math.round(l+a*g),e<=c&&e>=l&&o!==e){if(i&&!i._initted&&i.data<=Je(o-e))return;!1===je.inertia&&(p=a-u),r(o,{duration:Y(Je(.185*Math.max(Je(f-h),Je(a-h))/d/.05||0)),ease:je.ease||"power3",data:Je(o-e),onInterrupt:function(){return X.restart(!0)&&y&&y(Ft)},onComplete:function(){Ft.update(),zt=Yt(),n&&(B?B.resetTo("totalProgress",a,n._tTime/n._tDur):n.progress(a)),U=V=n&&!yt?n.totalProgress():Ft.progress,Me&&Me(Ft),b&&b(Ft)}},e,p*g,o-e-p*g),v&&v(Ft,r.tween)}}})).pause()),de&&(It[de]=Ft),(se=(ge=Ft.trigger=D(ge||!0!==ve&&ve))&&ge._gsap&&ge._gsap.stRevert)&&(se=se(Ft)),ve=!0===ve?ge:D(ve),Ge(he)&&(he={targets:ge,className:he}),ve&&(!1===ye||ye===lt||(ye=!(!ye&&ve.parentNode&&ve.parentNode.style&&"flex"===dt(ve.parentNode).display)&&ot),Ft.pin=ve,(i=H.core.getCache(ve)).spacer?v=i.pinState:(Ue&&((Ue=D(Ue))&&!Ue.nodeType&&(Ue=Ue.current||Ue.nativeElement),i.spacerIsNative=!!Ue,Ue&&(i.spacerState=en(Ue))),i.spacer=_=Ue||G.createElement("div"),_.classList.add("pin-spacer"),de&&_.classList.add("pin-spacer-"+de),i.pinState=v=en(ve)),!1!==t.force3D&&H.set(ve,{force3D:!0}),Ft.spacer=_=i.spacer,F=dt(ve),I=F[ye+et.os2],S=H.getProperty(ve),C=H.quickSetter(ve,et.a,ht),Jt(ve,_,F),b=en(ve)),jt){f=Ye(jt)?pt(jt,_t):_t,d=Ct("scroller-start",de,At,et,f,0),p=Ct("scroller-end",de,At,et,f,0,d),x=d["offset"+et.op.d2];var Xt=D(E(At,"content")||At);u=this.markerStart=Ct("start",de,Xt,et,f,x,0,We),h=this.markerEnd=Ct("end",de,Xt,et,f,x,0,We),We&&(ie=H.quickSetter([u,h],et.a,ht)),Pt||A.length&&!0===E(At,"fixedMarkers")||(!function(e){var t=dt(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(Tt?K:At),H.set([d,p],{force3D:!0}),N=H.quickSetter(d,et.a,ht),O=H.quickSetter(p,et.a,ht))}if(We){var Qt=We.vars.onUpdate,Zt=We.vars.onUpdateParams;We.eventCallback("onUpdate",(function(){Ft.update(0,0,1),Qt&&Qt.apply(We,Zt||[])}))}if(Ft.previous=function(){return kt[kt.indexOf(Ft)-1]},Ft.next=function(){return kt[kt.indexOf(Ft)+1]},Ft.revert=function(e,t){if(!t)return Ft.kill(!0);var r=!1!==e||!Ft.enabled,i=ee;r!==Ft.isReverted&&(r&&($=Math.max(Yt(),Ft.scroll.rec||0),qt=Ft.progress,ne=n&&n.progress()),u&&[u,h,d,p].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(ee=Ft,Ft.update(r)),!ve||Fe&&Ft.isActive||(r?function(e,t,n){$t(n);var r=e._gsap;if(r.spacerIsNative)$t(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(ve,_,v):Jt(ve,_,dt(ve),P)),r||Ft.update(r),ee=i,Ft.isReverted=r)},Ft.refresh=function(i,s,f,w){if(!ee&&Ft.enabled||s)if(ve&&i&&Ie)bt(e,"scrollEnd",Lt);else{!xe&&Ut&&Ut(Ft),ee=Ft,r.tween&&!f&&(r.tween.kill(),r.tween=0),B&&B.pause(),be&&n&&n.revert({kill:!1}).invalidate(),Ft.isReverted||Ft.revert(!0,!0),Ft._subPinOffset=!1;var A,x,E,C,I,N,O,F,U,V,z,W,Y,Q=Vt(),J=Bt(),Z=We?We.duration():ze(At,et),te=g<=.01,re=0,ie=w||0,se=Ye(f)?f.end:t.end,ae=t.endTrigger||ge,oe=Ye(f)?f.start:t.start||(0!==t.start&&ge?ve?"0 0":"0 100%":0),ce=Ft.pinnedContainer=t.pinnedContainer&&D(t.pinnedContainer,Ft),ue=ge&&Math.max(0,kt.indexOf(Ft))||0,he=ue;for(jt&&Ye(f)&&(W=H.getProperty(d,et.p),Y=H.getProperty(p,et.p));he--;)(N=kt[he]).end||N.refresh(0,1)||(ee=Ft),!(O=N.pin)||O!==ge&&O!==ve&&O!==ce||N.isReverted||(V||(V=[]),V.unshift(N),N.revert(!0,!0)),N!==kt[he]&&(ue--,he--);for(qe(oe)&&(oe=oe(Ft)),oe=Ne(oe,"start",Ft),l=nn(oe,ge,Q,et,Yt(),u,d,Ft,J,Ot,Pt,Z,We,Ft._startClamp&&"_startClamp")||(ve?-.001:0),qe(se)&&(se=se(Ft)),Ge(se)&&!se.indexOf("+=")&&(~se.indexOf(" ")?se=(Ge(oe)?oe.split(" ")[0]:"")+se:(re=St(se.substr(2),Q),se=Ge(oe)?oe:(We?H.utils.mapRange(0,We.duration(),We.scrollTrigger.start,We.scrollTrigger.end,l):l)+re,ae=ge)),se=Ne(se,"end",Ft),c=Math.max(l,nn(se||(ae?"100% 0":Z),ae,Q,et,Yt()+re,h,p,Ft,J,Ot,Pt,Z,We,Ft._endClamp&&"_endClamp"))||-.001,re=0,he=ue;he--;)(O=(N=kt[he]).pin)&&N.start-N._pinPush<=l&&!We&&N.end>0&&(A=N.end-(Ft._startClamp?Math.max(0,N.start):N.start),(O===ge&&N.start-N._pinPush<l||O===ce)&&isNaN(oe)&&(re+=A*(1-N.progress)),O===ve&&(ie+=A));if(l+=re,c+=re,Ft._startClamp&&(Ft._startClamp+=re),Ft._endClamp&&!xe&&(Ft._endClamp=c||-.001,c=Math.min(c,ze(At,et))),g=c-l||(l-=.01)&&.001,te&&(qt=H.utils.clamp(0,1,H.utils.normalize(l,c,$))),Ft._pinPush=ie,u&&re&&((A={})[et.a]="+="+re,ce&&(A[et.p]="-="+Yt()),H.set([u,h],A)),!ve||we&&Ft.end>=ze(At,et)){if(ge&&Yt()&&!We)for(x=ge.parentNode;x&&x!==K;)x._pinOffset&&(l-=x._pinOffset,c-=x._pinOffset),x=x.parentNode}else A=dt(ve),C=et===M,E=Yt(),T=parseFloat(S(et.a))+ie,!Z&&c>1&&(z={style:z=(Tt?G.scrollingElement||q:At).style,value:z["overflow"+et.a.toUpperCase()]},Tt&&"scroll"!==dt(K)["overflow"+et.a.toUpperCase()]&&(z.style["overflow"+et.a.toUpperCase()]="scroll")),Jt(ve,_,A),b=en(ve),x=ft(ve,!0),F=Pt&&j(At,C?R:M)(),ye?((P=[ye+et.os2,g+ie+ht]).t=_,(he=ye===ot?mt(ve,et)+g+ie:0)&&(P.push(et.d,he+ht),"auto"!==_.style.flexBasis&&(_.style.flexBasis=he+ht)),$t(P),ce&&kt.forEach((function(e){e.pin===ce&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),Pt&&Yt($)):(he=mt(ve,et))&&"auto"!==_.style.flexBasis&&(_.style.flexBasis=he+ht),Pt&&((I={top:x.top+(C?E-l:F)+ht,left:x.left+(C?F:E-l)+ht,boxSizing:"border-box",position:"fixed"})[tt]=I["max"+ct]=Math.ceil(x.width)+ht,I[nt]=I["max"+ut]=Math.ceil(x.height)+ht,I[lt]=I[lt+st]=I[lt+rt]=I[lt+at]=I[lt+it]="0",I[ot]=A[ot],I[ot+st]=A[ot+st],I[ot+rt]=A[ot+rt],I[ot+at]=A[ot+at],I[ot+it]=A[ot+it],y=function(e,t,n){for(var r,i=[],s=e.length,a=n?8:0;a<s;a+=2)r=e[a],i.push(r,r in t?t[r]:e[a+1]);return i.t=e.t,i}(v,I,Fe),xe&&Yt(0)),n?(U=n._initted,le(1),n.render(n.duration(),!0,!0),k=S(et.a)-T+g+ie,L=Math.abs(g-k)>1,Pt&&L&&y.splice(y.length-2,2),n.render(0,!0,!0),U||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),le(0)):k=g,z&&(z.value?z.style["overflow"+et.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+et.a));V&&V.forEach((function(e){return e.revert(!1,!0)})),Ft.start=l,Ft.end=c,a=o=xe?$:Yt(),We||xe||(a<$&&Yt($),Ft.scroll.rec=0),Ft.revert(!1,!0),Wt=Te(),X&&(zt=-1,X.restart(!0)),ee=0,n&&yt&&(n._initted||ne)&&n.progress()!==ne&&n.progress(ne||0,!0).render(n.time(),!0,!0),(te||qt!==Ft.progress||We||be)&&(n&&!yt&&n.totalProgress(We&&l<-.001&&!qt?H.utils.normalize(l,c,0):qt,!0),Ft.progress=te||(a-l)/g===qt?0:qt),ve&&ye&&(_._pinOffset=Math.round(Ft.progress*k)),B&&B.invalidate(),isNaN(W)||(W-=H.getProperty(d,et.p),Y-=H.getProperty(p,et.p),on(d,et,W),on(u,et,W-(w||0)),on(p,et,Y),on(h,et,Y-(w||0))),te&&!xe&&Ft.update(),!fe||xe||m||(m=!0,fe(Ft),m=!1)}},Ft.getVelocity=function(){return(Yt()-o)/(Te()-Z)*1e3||0},Ft.endAnimation=function(){Xe(Ft.callbackAnimation),n&&(B?B.progress(1):n.paused()?yt||Xe(n,Ft.direction<0,1):Xe(n,n.reversed()))},Ft.labelToScroll=function(e){return n&&n.labels&&(l||Ft.refresh()||l)+n.labels[e]/n.duration()*g||0},Ft.getTrailing=function(e){var t=kt.indexOf(Ft),n=Ft.direction>0?kt.slice(0,t).reverse():kt.slice(t+1);return(Ge(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return Ft.direction>0?e.end<=l:e.start>=c}))},Ft.update=function(e,t,i){if(!We||i||e){var s,u,h,p,f,m,v,w=!0===xe?$:Ft.scroll(),A=e?0:(w-l)/g,x=A<0?0:A>1?1:A||0,E=Ft.progress;if(t&&(o=a,a=We?Yt():w,je&&(V=U,U=n&&!yt?n.totalProgress():x)),_e&&ve&&!ee&&!Ce&&Ie&&(!x&&l<w+(w-o)/(Te()-Z)*_e?x=1e-4:1===x&&c>w+(w-o)/(Te()-Z)*_e&&(x=.9999)),x!==E&&Ft.enabled){if(p=(f=(s=Ft.isActive=!!x&&x<1)!==(!!E&&E<1))||!!x!==!!E,Ft.direction=x>E?1:-1,Ft.progress=x,p&&!ee&&(u=x&&!E?0:1===x?1:1===E?2:3,yt&&(h=!f&&"none"!==Dt[u+1]&&Dt[u+1]||Dt[u],v=n&&("complete"===h||"reset"===h||h in n))),$e&&(f||v)&&(v||me||!n)&&(qe($e)?$e(Ft):Ft.getTrailing($e).forEach((function(e){return e.endAnimation()}))),yt||(!B||ee||Ce?n&&n.totalProgress(x,!(!ee||!Wt&&!e)):(B._dp._time-B._start!==B._time&&B.render(B._dp._time-B._start),B.resetTo?B.resetTo("totalProgress",x,n._tTime/n._tDur):(B.vars.totalProgress=x,B.invalidate().restart()))),ve)if(e&&ye&&(_.style[ye+et.os2]=I),Pt){if(p){if(m=!e&&x>E&&c+1>w&&w+1>=ze(At,et),Fe)if(e||!s&&!m)sn(ve,_);else{var S=ft(ve,!0),P=w-l;sn(ve,K,S.top+(et===M?P:0)+ht,S.left+(et===M?0:P)+ht)}$t(s||m?y:b),L&&x<1&&s||C(T+(1!==x||m?0:k))}}else C(Oe(T+k*x));je&&!r.tween&&!ee&&!Ce&&X.restart(!0),he&&(f||De&&x&&(x<1||!Ae))&&Q(he.targets).forEach((function(e){return e.classList[s||De?"add":"remove"](he.className)})),ue&&!yt&&!e&&ue(Ft),p&&!ee?(yt&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),ue&&ue(Ft)),!f&&Ae||(pe&&f&&Qe(Ft,pe),Rt[u]&&Qe(Ft,Rt[u]),De&&(1===x?Ft.kill(!1,1):Rt[u]=0),f||Rt[u=1===x?1:3]&&Qe(Ft,Rt[u])),Ze&&!s&&Math.abs(Ft.getVelocity())>(Ke(Ze)?Ze:2500)&&(Xe(Ft.callbackAnimation),B?B.progress(1):Xe(n,"reverse"===h?1:!x,1))):yt&&ue&&!ee&&ue(Ft)}if(O){var R=We?w/We.duration()*(We._caScrollDist||0):w;N(R+(d._isFlipped?1:0)),O(R)}ie&&ie(-w/We.duration()*(We._caScrollDist||0))}},Ft.enable=function(t,n){Ft.enabled||(Ft.enabled=!0,bt(At,"resize",Mt),Tt||bt(At,"scroll",Nt),Ut&&bt(e,"refreshInit",Ut),!1!==t&&(Ft.progress=qt=0,a=o=zt=Yt()),!1!==n&&Ft.refresh())},Ft.getTween=function(e){return e&&r?r.tween:B},Ft.setPositions=function(e,t,n,r){if(We){var i=We.scrollTrigger,s=We.duration(),a=i.end-i.start;e=i.start+a*e/s,t=i.start+a*t/s}Ft.refresh(!1,!1,{start:Re(e,n&&!!Ft._startClamp),end:Re(t,n&&!!Ft._endClamp)},r),Ft.update()},Ft.adjustPinSpacing=function(e){if(P&&e){var t=P.indexOf(et.d)+1;P[t]=parseFloat(P[t])+e+ht,P[1]=parseFloat(P[1])+e+ht,$t(P)}},Ft.disable=function(t,n){if(Ft.enabled&&(!1!==t&&Ft.revert(!0,!0),Ft.enabled=Ft.isActive=!1,n||B&&B.pause(),$=0,i&&(i.uncache=1),Ut&&wt(e,"refreshInit",Ut),X&&(X.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Tt)){for(var s=kt.length;s--;)if(kt[s].scroller===At&&kt[s]!==Ft)return;wt(At,"resize",Mt),Tt||wt(At,"scroll",Nt)}},Ft.kill=function(e,r){Ft.disable(e,r),B&&!r&&B.kill(),de&&delete It[de];var s=kt.indexOf(Ft);s>=0&&kt.splice(s,1),s===re&&Kt>0&&re--,s=0,kt.forEach((function(e){return e.scroller===Ft.scroller&&(s=1)})),s||xe||(Ft.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,p].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),Se===Ft&&(Se=0),ve&&(i&&(i.uncache=1),s=0,kt.forEach((function(e){return e.pin===ve&&s++})),s||(i.spacer=0)),t.onKill&&t.onKill(Ft)},kt.push(Ft),Ft.enable(!1,!1),se&&se(Ft),n&&n.add&&!g){var rn=Ft.update;Ft.update=function(){Ft.update=rn,l||c||Ft.refresh()},H.delayedCall(.01,Ft.update),g=.01,l=c=0}else Ft.refresh();ve&&function(){if(Ee!==Ht){var e=Ee=Ht;requestAnimationFrame((function(){return e===Ht&&Gt(!0)}))}}()}else this.update=this.refresh=this.kill=Le},e.register=function(t){return z||(H=t||Ue(),Fe()&&window.document&&e.enable(),z=Pe),z},e.defaults=function(e){if(e)for(var t in e)xt[t]=e[t];return xt},e.disable=function(e,t){Pe=0,kt.forEach((function(n){return n[t?"kill":"disable"](e)})),wt(W,"wheel",Nt),wt(G,"scroll",Nt),clearInterval($),wt(G,"touchcancel",Le),wt(K,"touchstart",Le),yt(wt,G,"pointerdown,touchstart,mousedown",De),yt(wt,G,"pointerup,touchend,mouseup",je),X.kill(),We(wt);for(var n=0;n<w.length;n+=3)At(wt,w[n],w[n+1]),At(wt,w[n],w[n+2])},e.enable=function(){if(W=window,G=document,q=G.documentElement,K=G.body,H&&(Q=H.utils.toArray,J=H.utils.clamp,me=H.core.context||Le,le=H.core.suppressOverwrites||Le,ge=W.history.scrollRestoration||"auto",qt=W.pageYOffset,H.core.globals("ScrollTrigger",e),K)){Pe=1,(ve=document.createElement("div")).style.height="100vh",ve.style.position="absolute",zt(),Me(),B.register(H),e.isTouch=B.isTouch,fe=B.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),he=1===B.isTouch,bt(W,"wheel",Nt),Y=[W,G,q,K],H.matchMedia?(e.matchMedia=function(e){var t,n=H.matchMedia();for(t in e)n.add(t,e[t]);return n},H.addEventListener("matchMediaInit",(function(){return Vt()})),H.addEventListener("matchMediaRevert",(function(){return Ut()})),H.addEventListener("matchMedia",(function(){Gt(0,1),Ot("matchMedia")})),H.matchMedia("(orientation: portrait)",(function(){return Rt(),Rt}))):console.warn("Requires GSAP 3.11.0 or later"),Rt(),bt(G,"scroll",Nt);var t,n,r=K.style,i=r.borderTopStyle,s=H.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=ft(K),M.m=Math.round(t.top+M.sc())||0,R.m=Math.round(t.left+R.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),$=setInterval(Pt,250),H.delayedCall(.5,(function(){return Ce=0})),bt(G,"touchcancel",Le),bt(K,"touchstart",Le),yt(bt,G,"pointerdown,touchstart,mousedown",De),yt(bt,G,"pointerup,touchend,mouseup",je),ne=H.utils.checkPrefix("transform"),Qt.push(ne),z=Te(),X=H.delayedCall(.2,Gt).pause(),ae=[G,"visibilitychange",function(){var e=W.innerWidth,t=W.innerHeight;G.hidden?(ie=e,se=t):ie===e&&se===t||Mt()},G,"DOMContentLoaded",Gt,W,"load",Gt,W,"resize",Mt],We(bt),kt.forEach((function(e){return e.enable(0,1)})),n=0;n<w.length;n+=3)At(wt,w[n],w[n+1]),At(wt,w[n],w[n+2])}},e.config=function(t){"limitCallbacks"in t&&(Ae=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval($)||($=n)&&setInterval(Pt,n),"ignoreMobileResize"in t&&(he=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(We(wt)||We(bt,t.autoRefreshEvents||"none"),ce=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=D(e),r=w.indexOf(n),i=Ve(n);~r&&w.splice(r,i?6:2),t&&(i?A.unshift(W,t,K,t,q,t):A.unshift(n,t))},e.clearMatchMedia=function(e){kt.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(Ge(e)?D(e):e).getBoundingClientRect(),i=r[n?tt:nt]*t||0;return n?r.right-i>0&&r.left+i<W.innerWidth:r.bottom-i>0&&r.top+i<W.innerHeight},e.positionInViewport=function(e,t,n){Ge(e)&&(e=D(e));var r=e.getBoundingClientRect(),i=r[n?tt:nt],s=null==t?i/2:t in Et?Et[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/W.innerWidth:(r.top+s)/W.innerHeight},e.killAll=function(e){if(kt.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=Dt.killAll||[];Dt={},t.forEach((function(e){return e()}))}},e}();cn.version="3.12.5",cn.saveStyles=function(e){return e?Q(e).forEach((function(e){if(e&&e.style){var t=Ft.indexOf(e);t>=0&&Ft.splice(t,5),Ft.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),H.core.getCache(e),me())}})):Ft},cn.revert=function(e,t){return Vt(!e,t)},cn.create=function(e,t){return new cn(e,t)},cn.refresh=function(e){return e?Mt():(z||cn.register())&&Gt(!0)},cn.update=function(e){return++w.cache&&Yt(!0===e?2:0)},cn.clearScrollMemory=Bt,cn.maxScroll=function(e,t){return ze(e,t?R:M)},cn.getScrollFunc=function(e,t){return j(D(e),t?R:M)},cn.getById=function(e){return It[e]},cn.getAll=function(){return kt.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},cn.isScrolling=function(){return!!Ie},cn.snapDirectional=vt,cn.addEventListener=function(e,t){var n=Dt[e]||(Dt[e]=[]);~n.indexOf(t)||n.push(t)},cn.removeEventListener=function(e,t){var n=Dt[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},cn.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,a=t.batchMax||1e9,o=function(e,t){var n=[],r=[],i=H.delayedCall(s,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),a<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&qe(t[n])&&"onRefreshInit"!==n?o(0,t[n]):t[n];return qe(a)&&(a=a(),bt(cn,"refresh",(function(){return a=t.batchMax()}))),Q(e).forEach((function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(cn.create(t))})),r};var un,hn=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},dn=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(B.isTouch?" pinch-zoom":""):"none",t===q&&e(K,n)},pn={auto:1,scroll:1},fn=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,a=s._gsap||H.core.getCache(s),o=Te();if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==K&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!pn[(t=dt(s)).overflowY]&&!pn[t.overflowX]);)s=s.parentNode;a._isScroll=s&&s!==r&&!Ve(s)&&(pn[(t=dt(s)).overflowY]||pn[t.overflowX]),a._isScrollT=o}(a._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},mn=function(e,t,n,r){return B.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&fn,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&bt(G,B.eventTypes[0],vn,!1,!0)},onDisable:function(){return wt(G,B.eventTypes[0],vn,!0)}})},gn=/(input|label|select|textarea)/i,vn=function(e){var t=gn.test(e.target.tagName);(t||un)&&(e._gsapAllow=!0,un=t)},yn=function(e){Ye(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,a,o,l,c=e,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,p=c.onRelease,f=D(e.target)||q,m=H.core.globals().ScrollSmoother,g=m&&m.get(),v=fe&&(e.content&&D(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=j(f,M),b=j(f,R),A=1,_=(B.isTouch&&W.visualViewport?W.visualViewport.scale*W.visualViewport.width:W.outerWidth)/W.innerWidth,x=0,E=qe(h)?function(){return h(t)}:function(){return h||2.8},S=mn(f,e.type,!0,d),C=function(){return i=!1},T=Le,k=Le,I=function(){n=ze(f,M),k=J(fe?1:0,n),u&&(T=J(0,ze(f,R))),r=Ht},P=function(){v._gsap.y=Oe(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},N=function(){I(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&H.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return fe&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(C);var e=Oe(t.deltaY/2),n=k(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Oe((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=w.cache,Yt()}return!0}y.offset&&P(),i=!0}()||A>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=A;A=Oe((W.visualViewport&&W.visualViewport.scale||1)/_),s.pause(),e!==A&&dn(f,A>1.01||!u&&"x"),a=b(),o=y(),I(),r=Ht},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&P(),t){w.cache++;var r,i,a=E();u&&(i=(r=b())+.05*a*-e.velocityX/.227,a*=hn(b,r,i,ze(f,R)),s.vars.scrollX=T(i)),i=(r=y())+.05*a*-e.velocityY/.227,a*=hn(y,r,i,ze(f,M)),s.vars.scrollY=k(i),s.invalidate().duration(a).play(.01),(fe&&s.vars.scrollY>=n||r>=n-1)&&H.to({},{onUpdate:N,duration:a})}else l.restart(!0);p&&p(e)},e.onWheel=function(){s._ts&&s.pause(),Te()-x>1e3&&(r=0,x=Te())},e.onChange=function(e,t,n,i,s){if(Ht!==r&&I(),t&&u&&b(T(i[2]===t?a+(e.startX-e.x):b()+t-i[1])),n){y.offset&&P();var l=s[2]===n,c=l?o+e.startY-e.y:y()+n-s[1],h=k(c);l&&c!==h&&(o+=h-c),y(h)}(n||t)&&Yt()},e.onEnable=function(){dn(f,!u&&"x"),cn.addEventListener("refresh",N),bt(W,"resize",N),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),S.enable()},e.onDisable=function(){dn(f,!0),wt(W,"resize",N),cn.removeEventListener("refresh",N),S.kill()},e.lockAxis=!1!==e.lockAxis,(t=new B(e)).iOS=fe,fe&&!y()&&y(1),fe&&H.ticker.add(Le),l=t._dc,s=H.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:an(y,y(),(function(){return s.pause()}))},onUpdate:Yt,onComplete:l.vars.onComplete}),t};cn.sort=function(e){return kt.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},cn.observe=function(e){return new B(e)},cn.normalizeScroll=function(e){if("undefined"===typeof e)return ue;if(!0===e&&ue)return ue.enable();if(!1===e)return ue&&ue.kill(),void(ue=e);var t=e instanceof B?e:yn(e);return ue&&ue.target===t.target&&ue.kill(),Ve(t.target)&&(ue=t),t},cn.core={_getVelocityProp:L,_inputObserver:mn,_scrollers:w,_proxies:A,bridge:{ss:function(){Ie||Ot("scrollStart"),Ie=Te()},ref:function(){return ee}}},Ue()&&H.registerPlugin(cn)},8270:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{Ay:()=>Hr,os:()=>Hr});var s,a,o,l,c,u,h,d,p,f,m,g={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},v={duration:.5,overwrite:!1,delay:0},y=1e8,b=1e-8,w=2*Math.PI,A=w/4,_=0,x=Math.sqrt,E=Math.cos,S=Math.sin,C=function(e){return"string"===typeof e},T=function(e){return"function"===typeof e},k=function(e){return"number"===typeof e},I=function(e){return"undefined"===typeof e},P=function(e){return"object"===typeof e},N=function(e){return!1!==e},R=function(){return"undefined"!==typeof window},M=function(e){return T(e)||C(e)},D="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},j=Array.isArray,L=/(?:-?\.?\d|\.)+/gi,O=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,F=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,V=/[+-]=-?[.\d]+/,B=/[^,'"\[\]\s]+/gi,H=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,z={},W={},G=function(e){return(W=we(e,z))&&_n},q=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},K=function(e,t){return!t&&console.warn(e)},Y=function(e,t){return e&&(z[e]=t)&&W&&(W[e]=t)||z},X=function(){return 0},Q={suppressEvents:!0,isStart:!0,kill:!1},J={suppressEvents:!0,kill:!1},Z={suppressEvents:!0},$={},ee=[],te={},ne={},re={},ie=30,se=[],ae="",oe=function(e){var t,n,r=e[0];if(P(r)||T(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=se.length;n--&&!se[n].targetTest(r););t=se[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new jt(e[n],t)))||e.splice(n,1);return e},le=function(e){return e._gsap||oe(Ze(e))[0]._gsap},ce=function(e,t,n){return(n=e[t])&&T(n)?e[t]():I(n)&&e.getAttribute&&e.getAttribute(t)||n},ue=function(e,t){return(e=e.split(",")).forEach(t)||e},he=function(e){return Math.round(1e5*e)/1e5||0},de=function(e){return Math.round(1e7*e)/1e7||0},pe=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},fe=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},me=function(){var e,t,n=ee.length,r=ee.slice(0);for(te={},ee.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},ge=function(e,t,n,r){ee.length&&!a&&me(),e.render(t,n,r||a&&t<0&&(e._initted||e._startAt)),ee.length&&!a&&me()},ve=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(B).length<2?t:C(e)?e.trim():e},ye=function(e){return e},be=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},we=function(e,t){for(var n in t)e[n]=t[n];return e},Ae=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=P(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},_e=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},xe=function(e){var t,n=e.parent||l,r=e.keyframes?(t=j(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):be;if(N(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Ee=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,a=e[r];if(i)for(s=t[i];a&&a[i]>s;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Se=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Ce=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Te=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},ke=function(e,t,n,r){return e._startAt&&(a?e._startAt.revert(J):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Ie=function e(t){return!t||t._ts&&e(t.parent)},Pe=function(e){return e._repeat?Ne(e._tTime,e=e.duration()+e._rDelay)*e:0},Ne=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Re=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Me=function(e){return e._end=de(e._start+(e._tDur/Math.abs(e._ts||e._rts||b)||0))},De=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=de(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Me(e),n._dirty||Te(n,e)),e},je=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Re(e.rawTime(),t),(!t._dur||Ke(0,t.totalDuration(),n)-t._tTime>b)&&t.render(n,!0)),Te(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Le=function(e,t,n,r){return t.parent&&Ce(t),t._start=de((k(n)?n:n||e!==l?We(e,n,t):e._time)+t._delay),t._end=de(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ee(e,t,"_first","_last",e._sort?"_start":0),Ve(t)||(e._recent=t),r||je(e,t),e._ts<0&&De(e,e._tTime),e},Oe=function(e,t){return(z.ScrollTrigger||q("scrollTrigger",t))&&z.ScrollTrigger.create(t,e)},Fe=function(e,t,n,r,i){return zt(e,t,i),e._initted?!n&&e._pt&&!a&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&p!==_t.frame?(ee.push(e),e._lazy=[i,r],1):void 0:1},Ue=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Ve=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Be=function(e,t,n,r){var i=e._repeat,s=de(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:de(s*(i+1)+e._rDelay*i):s,a>0&&!r&&De(e,e._tTime=e._tDur*a),e.parent&&Me(e),n||Te(e.parent,e),e},He=function(e){return e instanceof Ot?Te(e):Be(e,e._dur)},ze={_start:0,endTime:X,totalDuration:X},We=function e(t,n,r){var i,s,a,o=t.labels,l=t._recent||ze,c=t.duration()>=y?l.endTime(!1):t._dur;return C(n)&&(isNaN(n)||n in o)?(s=n.charAt(0),a="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(i<0?l:r).totalDuration()/100:1)):i<0?(n in o||(o[n]=c),o[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),a&&r&&(s=s/100*(j(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},Ge=function(e,t,n){var r,i,s=k(t[1]),a=(s?2:1)+(e<2?0:1),o=t[a];if(s&&(o.duration=t[1]),o.parent=n,e){for(r=o,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=N(i.vars.inherit)&&i.parent;o.immediateRender=N(r.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return new Yt(t[0],o,t[a+1])},qe=function(e,t){return e||0===e?t(e):t},Ke=function(e,t,n){return n<e?e:n>t?t:n},Ye=function(e,t){return C(e)&&(t=H.exec(e))?t[1]:""},Xe=[].slice,Qe=function(e,t){return e&&P(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&P(e[0]))&&!e.nodeType&&e!==c},Je=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return C(e)&&!t||Qe(e,1)?(r=n).push.apply(r,Ze(e)):n.push(e)}))||n},Ze=function(e,t,n){return o&&!t&&o.selector?o.selector(e):!C(e)||n||!u&&xt()?j(e)?Je(e,n):Qe(e)?Xe.call(e,0):e?[e]:[]:Xe.call((t||h).querySelectorAll(e),0)},$e=function(e){return e=Ze(e)[0]||K("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Ze(t,n.querySelectorAll?n:n===e?K("Invalid scope")||h.createElement("div"):e)}},et=function(e){return e.sort((function(){return.5-Math.random()}))},tt=function(e){if(T(e))return e;var t=P(e)?e:{each:e},n=Pt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},a=r>0&&r<1,o=isNaN(r)||a,l=t.axis,c=r,u=r;return C(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!a&&o&&(c=r[0],u=r[1]),function(e,a,h){var d,p,f,m,g,v,b,w,A,_=(h||t).length,E=s[_];if(!E){if(!(A="auto"===t.grid?0:(t.grid||[1,y])[1])){for(b=-y;b<(b=h[A++].getBoundingClientRect().left)&&A<_;);A<_&&A--}for(E=s[_]=[],d=o?Math.min(A,_)*c-.5:r%A,p=A===y?0:o?_*u/A-.5:r/A|0,b=0,w=y,v=0;v<_;v++)f=v%A-d,m=p-(v/A|0),E[v]=g=l?Math.abs("y"===l?m:f):x(f*f+m*m),g>b&&(b=g),g<w&&(w=g);"random"===r&&et(E),E.max=b-w,E.min=w,E.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(A>_?_-1:l?"y"===l?_/A:A:Math.max(A,_/A))||0)*("edges"===r?-1:1),E.b=_<0?i-_:i,E.u=Ye(t.amount||t.each)||0,n=n&&_<0?kt(n):n}return _=(E[e]-E.min)/E.max||0,de(E.b+(n?n(_):_)*E.v)+E.u}},nt=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=de(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(k(n)?0:Ye(n))}},rt=function(e,t){var n,r,i=j(e);return!i&&P(e)&&(n=i=e.radius||y,e.values?(e=Ze(e.values),(r=!k(e[0]))&&(n*=n)):e=nt(e.increment)),qe(t,i?T(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,a=parseFloat(r?t.x:t),o=parseFloat(r?t.y:0),l=y,c=0,u=e.length;u--;)(i=r?(i=e[u].x-a)*i+(s=e[u].y-o)*s:Math.abs(e[u]-a))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||k(t)?c:c+Ye(t)}:nt(e))},it=function(e,t,n,r){return qe(j(e)?!t:!0===n?!!(n=0):!r,(function(){return j(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},st=function(e,t,n){return qe(n,(function(n){return e[~~t(n)]}))},at=function(e){for(var t,n,r,i,s=0,a="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?B:L),a+=e.substr(s,t-s)+it(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return a+e.substr(s,e.length-s)},ot=function(e,t,n,r,i){var s=t-e,a=r-n;return qe(i,(function(t){return n+((t-e)/s*a||0)}))},lt=function(e,t,n){var r,i,s,a=e.labels,o=y;for(r in a)(i=a[r]-t)<0===!!n&&i&&o>(i=Math.abs(i))&&(s=r,o=i);return s},ct=function(e,t,n){var r,i,s,a=e.vars,l=a[t],c=o,u=e._ctx;if(l)return r=a[t+"Params"],i=a.callbackScope||e,n&&ee.length&&me(),u&&(o=u),s=r?l.apply(i,r):l.call(i),o=c,s},ut=function(e){return Ce(e),e.scrollTrigger&&e.scrollTrigger.kill(!!a),e.progress()<1&&ct(e,"onInterrupt"),e},ht=[],dt=function(e){if(e)if(e=!e.name&&e.default||e,R()||e.headless){var t=e.name,n=T(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:X,render:rn,add:Bt,kill:an,modifier:sn,rawVars:0},s={targetTest:0,get:0,getSetter:$t,aliases:{},register:0};if(xt(),e!==r){if(ne[t])return;be(r,be(_e(e,i),s)),we(r.prototype,we(i,_e(e,s))),ne[r.prop=t]=r,e.targetTest&&(se.push(r),$[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Y(t,r),e.register&&e.register(_n,r,cn)}else ht.push(e)},pt=255,ft={aqua:[0,pt,pt],lime:[0,pt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,pt],navy:[0,0,128],white:[pt,pt,pt],olive:[128,128,0],yellow:[pt,pt,0],orange:[pt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[pt,0,0],pink:[pt,192,203],cyan:[0,pt,pt],transparent:[pt,pt,pt,0]},mt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*pt+.5|0},gt=function(e,t,n){var r,i,s,a,o,l,c,u,h,d,p=e?k(e)?[e>>16,e>>8&pt,e&pt]:0:ft.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),ft[e])p=ft[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&pt,p&pt,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&pt,e&pt]}else if("hsl"===e.substr(0,3))if(p=d=e.match(L),t){if(~e.indexOf("="))return p=e.match(O),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,o=+p[1]/100,r=2*(l=+p[2]/100)-(i=l<=.5?l*(o+1):l+o-l*o),p.length>3&&(p[3]*=1),p[0]=mt(a+1/3,r,i),p[1]=mt(a,r,i),p[2]=mt(a-1/3,r,i);else p=e.match(L)||ft.transparent;p=p.map(Number)}return t&&!d&&(r=p[0]/pt,i=p[1]/pt,s=p[2]/pt,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?a=o=0:(h=c-u,o=l>.5?h/(2-c-u):h/(c+u),a=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*o+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},vt=function(e){var t=[],n=[],r=-1;return e.split(bt).forEach((function(e){var i=e.match(F)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},yt=function(e,t,n){var r,i,s,a,o="",l=(e+o).match(bt),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=gt(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(s=vt(e),(r=n.c).join(o)!==s.c.join(o)))for(a=(i=e.replace(bt,"1").split(F)).length-1;u<a;u++)o+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(a=(i=e.split(bt)).length-1;u<a;u++)o+=i[u]+l[u];return o+i[a]},bt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in ft)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),wt=/hsl[a]?\(/,At=function(e){var t,n=e.join(" ");if(bt.lastIndex=0,bt.test(n))return t=wt.test(n),e[1]=yt(e[1],t),e[0]=yt(e[0],t,vt(e[1])),!0},_t=function(){var e,t,n,r,i,s,a=Date.now,o=500,l=33,p=a(),f=p,g=1e3/240,v=g,y=[],b=function n(c){var u,h,d,m,b=a()-f,w=!0===c;if((b>o||b<0)&&(p+=b-l),((u=(d=(f+=b)-p)-v)>0||w)&&(m=++r.frame,i=d-1e3*r.time,r.time=d/=1e3,v+=u+(u>=g?4:g-u),h=1),w||(e=t(n)),h)for(s=0;s<y.length;s++)y[s](d,i,m,c)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){d&&(!u&&R()&&(c=u=window,h=c.document||{},z.gsap=_n,(c.gsapVersions||(c.gsapVersions=[])).push(_n.version),G(W||c.GreenSockGlobals||!c.gsap&&c||{}),ht.forEach(dt)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,v-1e3*r.time+1|0)},m=1,b(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),m=0,t=X},lagSmoothing:function(e,t){o=e||1/0,l=Math.min(t||33,o)},fps:function(e){g=1e3/(e||240),v=1e3*r.time+g},add:function(e,t,n){var i=t?function(t,n,s,a){e(t,n,s,a),r.remove(i)}:e;return r.remove(e),y[n?"unshift":"push"](i),xt(),i},remove:function(e,t){~(t=y.indexOf(e))&&y.splice(t,1)&&s>=t&&s--},_listeners:y}}(),xt=function(){return!m&&_t.wake()},Et={},St=/^[\d.\-M][\d.\-,\s]/,Ct=/["']/g,Tt=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),a=s[0],o=1,l=s.length;o<l;o++)n=s[o],t=o!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[a]=isNaN(r)?r.replace(Ct,"").trim():+r,a=n.substr(t+1).trim();return i},kt=function(e){return function(t){return 1-e(1-t)}},It=function e(t,n){for(var r,i=t._first;i;)i instanceof Ot?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Pt=function(e,t){return e&&(T(e)?e:Et[e]||function(e){var t=(e+"").split("("),n=Et[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Tt(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ve)):Et._CE&&St.test(e)?Et._CE("",e):n}(e))||t},Nt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return ue(e,(function(e){for(var t in Et[e]=z[e]=s,Et[i=e.toLowerCase()]=n,s)Et[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Et[e+"."+t]=s[t]})),s},Rt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Mt=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),a=s/w*(Math.asin(1/i)||0),o=function(e){return 1===e?1:i*Math.pow(2,-10*e)*S((e-a)*s)+1},l="out"===t?o:"in"===t?function(e){return 1-o(1-e)}:Rt(o);return s=w/s,l.config=function(n,r){return e(t,n,r)},l},Dt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Rt(r);return i.config=function(n){return e(t,n)},i};ue("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Nt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Et.Linear.easeNone=Et.none=Et.Linear.easeIn,Nt("Elastic",Mt("in"),Mt("out"),Mt()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};Nt("Bounce",(function(e){return 1-s(1-e)}),s)}(7.5625,2.75),Nt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Nt("Circ",(function(e){return-(x(1-e*e)-1)})),Nt("Sine",(function(e){return 1===e?1:1-E(e*A)})),Nt("Back",Dt("in"),Dt("out"),Dt()),Et.SteppedEase=Et.steps=z.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Ke(0,.99999999,e)|0)+i)*n}}},v.ease=Et["quad.out"],ue("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ae+=e+","+e+"Params,"}));var jt=function(e,t){this.id=_++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ce,this.set=t?t.getSetter:$t},Lt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Be(this,+e.duration,1,1),this.data=e.data,o&&(this._ctx=o,o.data.push(this)),m||_t.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Be(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(xt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(De(this,e),!n._dp||n.parent||je(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Le(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===b||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),ge(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Pe(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Pe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ne(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Re(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Ke(-Math.abs(this._delay),this._tDur,n),!1!==t),Me(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==b&&(this._tTime-=b)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Le(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(N(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Re(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Z);var t=a;return a=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),a=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,He(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,He(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(We(this,e),N(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,N(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-b))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=T(e)?e:ye,i=function(){var e=t.then;t.then=null,T(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ut(this)},e}();be(Lt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ot=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=N(t.sortChildren),l&&Le(t.parent||l,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&Oe(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return Ge(0,arguments,this),this},n.from=function(e,t,n){return Ge(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Ge(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,xe(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Yt(e,t,We(this,n),1),this},n.call=function(e,t,n){return Le(this,Yt.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,a){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=a,n.parent=this,new Yt(e,n,We(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,a){return n.runBackwards=1,xe(n).immediateRender=N(n.immediateRender),this.staggerTo(e,t,n,r,i,s,a)},n.staggerFromTo=function(e,t,n,r,i,s,a,o){return r.startAt=n,xe(r).immediateRender=N(r.immediateRender),this.staggerTo(e,t,r,i,s,a,o)},n.render=function(e,t,n){var r,i,s,o,c,u,h,d,p,f,m,g,v=this._time,y=this._dirty?this.totalDuration():this._tDur,w=this._dur,A=e<=0?0:de(e),_=this._zTime<0!==e<0&&(this._initted||!w);if(this!==l&&A>y&&e>=0&&(A=y),A!==this._tTime||n||_){if(v!==this._time&&w&&(A+=this._time-v,e+=this._time-v),r=A,p=this._start,u=!(d=this._ts),_&&(w||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(m=this._yoyo,c=w+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*c+e,t,n);if(r=de(A%c),A===y?(o=this._repeat,r=w):((o=~~(A/c))&&o===A/c&&(r=w,o--),r>w&&(r=w)),f=Ne(this._tTime,c),!v&&this._tTime&&f!==o&&this._tTime-f*c-this._dur<=0&&(f=o),m&&1&o&&(r=w-r,g=1),o!==f&&!this._lock){var x=m&&1&f,E=x===(m&&1&o);if(o<f&&(x=!x),v=x?0:A%w?w:A,this._lock=1,this.render(v||(g?0:de(o*c)),t,!w)._lock=0,this._tTime=A,!t&&this.parent&&ct(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(w=this._dur,y=this._tDur,E&&(this._lock=2,v=x?w:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;It(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,de(v),de(r)),h&&(A-=r-(r=h._start))),this._tTime=A,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&r&&!t&&!o&&(ct(this,"onStart"),this._tTime!==A))return this;if(r>=v&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){h=0,s&&(A+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var S=e<0?e:r;i;){if(s=i._prev,(i._act||S<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,t,n||a&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,s&&(A+=this._zTime=S?-1e-8:b);break}}i=s}}if(h&&!t&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=p,Me(this),this.render(e,t,n);this._onUpdate&&!t&&ct(this,"onUpdate",!0),(A===y&&this._tTime>=this.totalDuration()||!A&&v)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!w)&&(A===y&&this._ts>0||!A&&this._ts<0)&&Ce(this,1),t||e<0&&!v||!A&&!v&&y||(ct(this,A===y&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(A<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(k(t)||(t=We(this,t,e)),!(e instanceof Lt)){if(j(e))return e.forEach((function(e){return n.add(e,t)})),this;if(C(e))return this.addLabel(e,t);if(!T(e))return this;e=Yt.delayedCall(0,e)}return this!==e?Le(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-y);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Yt?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return C(e)?this.removeLabel(e):T(e)?this.killTweensOf(e):(Se(this,e),e===this._recent&&(this._recent=this._last),Te(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=de(_t.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=We(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Yt.delayedCall(0,t||X,n);return r.data="isPause",this._hasPause=1,Le(this,r,We(this,e))},n.removePause=function(e){var t=this._first;for(e=We(this,e);t;)t._start===e&&"isPause"===t.data&&Ce(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Ft!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Ze(e),s=this._first,a=k(t);s;)s instanceof Yt?fe(s._targets,i)&&(a?(!Ft||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=We(r,e),s=t,a=s.startAt,o=s.onStart,l=s.onStartParams,c=s.immediateRender,u=Yt.to(r,be({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale())||b,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==e&&Be(u,e,0,1).render(u._time,!0,!0),n=1}o&&o.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,be({startAt:{time:We(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+b)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Te(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Te(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,a=s._last,o=y;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>o&&s._sort&&a._ts&&!s._lock?(s._lock=1,Le(s,a,n-a._delay,1)._lock=0):o=n,n<0&&a._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),o=0),a._end>i&&a._ts&&(i=a._end),a=t;Be(s,s===l&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(l._ts&&(ge(l,Re(e,l)),p=_t.frame),_t.frame>=ie){ie+=g.autoSleep||120;var t=l._first;if((!t||!t._ts)&&g.autoSleep&&_t._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||_t.sleep()}}},t}(Lt);be(Ot.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ft,Ut,Vt=function(e,t,n,r,i,s,a){var o,l,c,u,h,d,p,f,m=new cn(this._pt,e,t,0,1,nn,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=at(r)),s&&(s(f=[n,r],e,t),n=f[0],r=f[1]),l=n.match(U)||[];o=U.exec(r);)u=o[0],h=r.substring(g,o.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?pe(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},g=U.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=a,(V.test(r)||p)&&(m.e=0),this._pt=m,m},Bt=function(e,t,n,r,i,s,a,o,l,c){T(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:T(h)?l?e[t.indexOf("set")||!T(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,p=T(h)?l?Jt:Qt:Xt;if(C(r)&&(~r.indexOf("random(")&&(r=at(r)),"="===r.charAt(1)&&((u=pe(d,r)+(Ye(d)||0))||0===u)&&(r=u)),!c||d!==r||Ut)return isNaN(d*r)||""===r?(!h&&!(t in e)&&q(t,r),Vt.call(this,e,t,d,r,p,o||g.stringFilter,l)):(u=new cn(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?tn:en,0,p),l&&(u.fp=l),a&&u.modifier(a,this,e),this._pt=u)},Ht=function(e,t,n,r,i,s){var a,o,l,c;if(ne[e]&&!1!==(a=new ne[e]).init(i,a.rawVars?t[e]:function(e,t,n,r,i){if(T(e)&&(e=Gt(e,i,t,n,r)),!P(e)||e.style&&e.nodeType||j(e)||D(e))return C(e)?Gt(e,i,t,n,r):e;var s,a={};for(s in e)a[s]=Gt(e[s],i,t,n,r);return a}(t[e],r,i,s,n),n,r,s)&&(n._pt=o=new cn(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==f))for(l=n._ptLookup[n._targets.indexOf(i)],c=a._props.length;c--;)l[a._props[c]]=o;return a},zt=function e(t,n,r){var i,o,c,u,h,d,p,f,m,g,w,A,_,x=t.vars,E=x.ease,S=x.startAt,C=x.immediateRender,T=x.lazy,k=x.onUpdate,I=x.runBackwards,P=x.yoyoEase,R=x.keyframes,M=x.autoRevert,D=t._dur,j=t._startAt,L=t._targets,O=t.parent,F=O&&"nested"===O.data?O.vars.targets:L,U="auto"===t._overwrite&&!s,V=t.timeline;if(V&&(!R||!E)&&(E="none"),t._ease=Pt(E,v.ease),t._yEase=P?kt(Pt(!0===P?E:P,v.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),t._from=!V&&!!x.runBackwards,!V||R&&!x.stagger){if(A=(f=L[0]?le(L[0]).harness:0)&&x[f.prop],i=_e(x,$),j&&(j._zTime<0&&j.progress(1),n<0&&I&&C&&!M?j.render(-1,!0):j.revert(I&&D?J:Q),j._lazy=0),S){if(Ce(t._startAt=Yt.set(L,be({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!j&&N(T),startAt:null,delay:0,onUpdate:k&&function(){return ct(t,"onUpdate")},stagger:0},S))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a||!C&&!M)&&t._startAt.revert(J),C&&D&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(I&&D&&!j)if(n&&(C=!1),c=be({overwrite:!1,data:"isFromStart",lazy:C&&!j&&N(T),immediateRender:C,stagger:0,parent:O},i),A&&(c[f.prop]=A),Ce(t._startAt=Yt.set(L,c)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a?t._startAt.revert(J):t._startAt.render(-1,!0)),t._zTime=n,C){if(!n)return}else e(t._startAt,b,b);for(t._pt=t._ptCache=0,T=D&&N(T)||T&&!D,o=0;o<L.length;o++){if(p=(h=L[o])._gsap||oe(L)[o]._gsap,t._ptLookup[o]=g={},te[p.id]&&ee.length&&me(),w=F===L?o:F.indexOf(h),f&&!1!==(m=new f).init(h,A||i,t,w,F)&&(t._pt=u=new cn(t._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(e){g[e]=u})),m.priority&&(d=1)),!f||A)for(c in i)ne[c]&&(m=Ht(c,i,t,w,h,F))?m.priority&&(d=1):g[c]=u=Bt.call(t,h,c,"get",i[c],w,F,0,x.stringFilter);t._op&&t._op[o]&&t.kill(h,t._op[o]),U&&t._pt&&(Ft=t,l.killTweensOf(h,g,t.globalTime(n)),_=!t.parent,Ft=0),t._pt&&T&&(te[p.id]=1)}d&&ln(t),t._onInit&&t._onInit(t)}t._onUpdate=k,t._initted=(!t._op||t._pt)&&!_,R&&n<=0&&V.render(y,!0,!0)},Wt=function(e,t,n,r){var i,s,a=t.ease||r||"power1.inOut";if(j(t))s=n[e]||(n[e]=[]),t.forEach((function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:a})}));else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:a})},Gt=function(e,t,n,r,i){return T(e)?e.call(t,n,r,i):C(e)&&~e.indexOf("random(")?at(e):e},qt=ae+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Kt={};ue(qt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Kt[e]=1}));var Yt=function(e){function t(t,n,i,a){var o;"number"===typeof n&&(i.duration=n,n=i,i=null);var c,u,h,d,p,f,m,v,y=(o=e.call(this,a?n:xe(n))||this).vars,b=y.duration,w=y.delay,A=y.immediateRender,_=y.stagger,x=y.overwrite,E=y.keyframes,S=y.defaults,C=y.scrollTrigger,T=y.yoyoEase,I=n.parent||l,R=(j(t)||D(t)?k(t[0]):"length"in n)?[t]:Ze(t);if(o._targets=R.length?oe(R):K("GSAP target "+t+" not found. https://gsap.com",!g.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=x,E||_||M(b)||M(w)){if(n=o.vars,(c=o.timeline=new Ot({data:"nested",defaults:S||{},targets:I&&"nested"===I.data?I.vars.targets:R})).kill(),c.parent=c._dp=r(o),c._start=0,_||M(b)||M(w)){if(d=R.length,m=_&&tt(_),P(_))for(p in _)~qt.indexOf(p)&&(v||(v={}),v[p]=_[p]);for(u=0;u<d;u++)(h=_e(n,Kt)).stagger=0,T&&(h.yoyoEase=T),v&&we(h,v),f=R[u],h.duration=+Gt(b,r(o),u,f,R),h.delay=(+Gt(w,r(o),u,f,R)||0)-o._delay,!_&&1===d&&h.delay&&(o._delay=w=h.delay,o._start+=w,h.delay=0),c.to(f,h,m?m(u,f,R):0),c._ease=Et.none;c.duration()?b=w=0:o.timeline=0}else if(E){xe(be(c.vars.defaults,{ease:"none"})),c._ease=Pt(E.ease||n.ease||"none");var L,O,F,U=0;if(j(E))E.forEach((function(e){return c.to(R,e,">")})),c.duration();else{for(p in h={},E)"ease"===p||"easeEach"===p||Wt(p,E[p],h,E.easeEach);for(p in h)for(L=h[p].sort((function(e,t){return e.t-t.t})),U=0,u=0;u<L.length;u++)(F={ease:(O=L[u]).e,duration:(O.t-(u?L[u-1].t:0))/100*b})[p]=O.v,c.to(R,F,U),U+=F.duration;c.duration()<b&&c.to({},{duration:b-c.duration()})}}b||o.duration(b=c.duration())}else o.timeline=0;return!0!==x||s||(Ft=r(o),l.killTweensOf(R),Ft=0),Le(I,r(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(A||!b&&!E&&o._start===de(I._time)&&N(A)&&Ie(r(o))&&"nested"!==I.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-w)||0)),C&&Oe(r(o),C),o}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,l,c,u,h,d,p=this._time,f=this._tDur,m=this._dur,g=e<0,v=e>f-b&&!g?f:e<b?0:e;if(m){if(v!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(r=v,h=this.timeline,this._repeat){if(o=m+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+e,t,n);if(r=de(v%o),v===f?(s=this._repeat,r=m):((s=~~(v/o))&&s===de(v/o)&&(r=m,s--),r>m&&(r=m)),(c=this._yoyo&&1&s)&&(d=this._yEase,r=m-r),l=Ne(this._tTime,o),r===p&&!n&&this._initted&&s===l)return this._tTime=v,this;s!==l&&(h&&this._yEase&&It(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==o&&this._initted&&(this._lock=n=1,this.render(de(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(Fe(this,g?e:r,n,t,v))return this._tTime=0,this;if(p!==this._time&&(!n||!this.vars.repeatRefresh||s===l))return this;if(m!==this._dur)return this.render(e,t,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/m),this._from&&(this.ratio=u=1-u),r&&!p&&!t&&!s&&(ct(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(e<0?e:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(g&&ke(this,e,0,n),ct(this,"onUpdate")),this._repeat&&s!==l&&this.vars.onRepeat&&!t&&this.parent&&ct(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(g&&!this._onUpdate&&ke(this,e,0,!0),(e||!m)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Ce(this,1),t||g&&!p||!(v||p||c)||(ct(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,l=e.ratio,c=t<0||!t&&(!e._start&&Ue(e)&&(e._initted||!Ve(e))||(e._ts<0||e._dp._ts<0)&&!Ve(e))?0:1,u=e._rDelay,h=0;if(u&&e._repeat&&(h=Ke(0,e._tDur,t),s=Ne(h,u),e._yoyo&&1&s&&(c=1-c),s!==Ne(e._tTime,u)&&(l=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==l||a||r||e._zTime===b||!t&&e._zTime){if(!e._initted&&Fe(e,t,r,n,h))return;for(o=e._zTime,e._zTime=t||(n?b:0),n||(n=t&&!o),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=h,i=e._pt;i;)i.r(c,i.d),i=i._next;t<0&&ke(e,t,0,!0),e._onUpdate&&!n&&ct(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&ct(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&Ce(e,1),n||a||(ct(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){m||_t.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||zt(this,s),function(e,t,n,r,i,s,a,o){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Ut=1,e.vars[t]="+=0",zt(e,a),Ut=0,o?K(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=he(n)+Ye(c.e)),c.b&&(c.b=l.s+Ye(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(De(this,0),this.parent||Ee(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ut(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Ft&&!0!==Ft.vars.overwrite)._first||ut(this),this.parent&&n!==this.timeline.totalDuration()&&Be(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,a,o,l,c,u=this._targets,h=e?Ze(e):u,d=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),ut(this);for(r=this._op=this._op||[],"all"!==t&&(C(t)&&(o={},ue(t,(function(e){return o[e]=1})),t=o),t=function(e,t){var n,r,i,s,a=e[0]?le(e[0]).harness:0,o=a&&a.aliases;if(!o)return t;for(r in n=we({},t),o)if(r in n)for(i=(s=o[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(o in i=d[c],"all"===t?(r[c]=t,a=i,s={}):(s=r[c]=r[c]||{},a=t),a)(l=i&&i[o])&&("kill"in l.d&&!0!==l.d.kill(o)||Se(this,l,"_pt"),delete i[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&p&&ut(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Ge(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Ge(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return l.killTweensOf(e,t,n)},t}(Lt);be(Yt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ue("staggerTo,staggerFrom,staggerFromTo",(function(e){Yt[e]=function(){var t=new Ot,n=Xe.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Xt=function(e,t,n){return e[t]=n},Qt=function(e,t,n){return e[t](n)},Jt=function(e,t,n,r){return e[t](r.fp,n)},Zt=function(e,t,n){return e.setAttribute(t,n)},$t=function(e,t){return T(e[t])?Qt:I(e[t])&&e.setAttribute?Zt:Xt},en=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},tn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},rn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},sn=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},an=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Se(this,r,"_pt"):r.dep||(t=1),r=n;return!t},on=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},ln=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},cn=function(){function e(e,t,n,r,i,s,a,o,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||en,this.d=a||this,this.set=o||Xt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=on,this.m=e,this.mt=n,this.tween=t},e}();ue(ae+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return $[e]=1})),z.TweenMax=z.TweenLite=Yt,z.TimelineLite=z.TimelineMax=Ot,l=new Ot({sortChildren:!1,defaults:v,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),g.stringFilter=At;var un=[],hn={},dn=[],pn=0,fn=0,mn=function(e){return(hn[e]||dn).map((function(e){return e()}))},gn=function(){var e=Date.now(),t=[];e-pn>2&&(mn("matchMediaInit"),un.forEach((function(e){var n,r,i,s,a=e.queries,o=e.conditions;for(r in a)(n=c.matchMedia(a[r]).matches)&&(i=1),n!==o[r]&&(o[r]=n,s=1);s&&(e.revert(),i&&t.push(e))})),mn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),pn=e,mn("matchMedia"))},vn=function(){function e(e,t){this.selector=t&&$e(t),this.data=[],this._r=[],this.isReverted=!1,this.id=fn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){T(e)&&(n=t,t=e,e=T);var r=this,i=function(){var e,i=o,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=$e(n)),o=r,e=t.apply(r,arguments),T(e)&&r._r.push(e),o=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===T?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=o;o=null,e(this),o=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Yt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof Ot?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Yt)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=un.length;r--;)un[r].id===this.id&&un.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),yn=function(){function e(e){this.contexts=[],this.scope=e,o&&o.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){P(e)||(e={matches:e});var r,i,s,a=new vn(0,n||this.scope),l=a.conditions={};for(i in o&&!a.selector&&(a.selector=o.selector),this.contexts.push(a),t=a.add("onMatch",t),a.queries=e,e)"all"===i?s=1:(r=c.matchMedia(e[i]))&&(un.indexOf(a)<0&&un.push(a),(l[i]=r.matches)&&(s=1),r.addListener?r.addListener(gn):r.addEventListener("change",gn));return s&&t(a,(function(e){return a.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),bn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return dt(e)}))},timeline:function(e){return new Ot(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,n,r){C(e)&&(e=Ze(e)[0]);var i=le(e||{}).get,s=n?ye:ve;return"native"===n&&(n=""),e?t?s((ne[t]&&ne[t].get||i)(e,t,n,r)):function(t,n,r){return s((ne[t]&&ne[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Ze(e)).length>1){var r=e.map((function(e){return _n.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=ne[t],a=le(e),o=a.harness&&(a.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;f._pt=0,r.init(e,n?t+n:t,f,0,[e]),r.render(1,r),f._pt&&rn(1,f)}:a.set(e,o);return s?l:function(t){return l(e,o,n?t+n:t,a,1)}},quickTo:function(e,t,n){var r,i=_n.to(e,we(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pt(e.ease,v.ease)),Ae(v,e||{})},config:function(e){return Ae(g,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ne[e]&&!z[e]&&K(t+" effect requires "+e+" plugin.")})),re[t]=function(e,t,r){return n(Ze(e),be(t||{},i),r)},s&&(Ot.prototype[t]=function(e,n,r){return this.add(re[t](e,P(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Et[e]=Pt(t)},parseEase:function(e,t){return arguments.length?Pt(e,t):Et},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Ot(e);for(i.smoothChildTiming=N(e.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!t&&!n._dur&&n instanceof Yt&&n.vars.onComplete===n._targets[0]||Le(i,n,n._start-n._delay),n=r;return Le(l,i,0),i},context:function(e,t){return e?new vn(e,t):o},matchMedia:function(e){return new yn(e)},matchMediaRefresh:function(){return un.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||gn()},addEventListener:function(e,t){var n=hn[e]||(hn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=hn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return j(t)?st(t,e(0,t.length),n):qe(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return j(t)?st(t,e(0,t.length-1),n):qe(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)}))},distribute:tt,random:it,snap:rt,normalize:function(e,t,n){return ot(e,t,0,1,n)},getUnit:Ye,clamp:function(e,t,n){return qe(n,(function(n){return Ke(e,t,n)}))},splitColor:gt,toArray:Ze,selector:$e,mapRange:ot,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ye(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var a,o,l,c,u,h=C(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(j(t)&&!j(n)){for(l=[],c=t.length,u=c-2,o=1;o<c;o++)l.push(e(t[o-1],t[o]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=we(j(t)?[]:{},t));if(!l){for(a in n)Bt.call(d,t,a,"get",n[a]);s=function(e){return rn(e,d)||(h?t.p:t)}}}return qe(r,s)},shuffle:et},install:G,effects:re,ticker:_t,updateRoot:Ot.updateRoot,plugins:ne,globalTimeline:l,core:{PropTween:cn,globals:Y,Tween:Yt,Timeline:Ot,Animation:Lt,getCache:le,_removeLinkedListItem:Se,reverting:function(){return a},context:function(e){return e&&o&&(o.data.push(e),e._ctx=o),o},suppressOverwrites:function(e){return s=e}}};ue("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return bn[e]=Yt[e]})),_t.add(Ot.updateRoot),f=bn.to({},{duration:0});var wn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},An=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(C(n)&&(r={},ue(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=wn(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},_n=bn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,a,o;for(s in this.tween=n,t)o=e.getAttribute(s)||"",(a=this.add(e,"setAttribute",(o||0)+"",t[s],r,i,0,0,s)).op=s,a.b=o,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)a?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},An("roundProps",nt),An("modifiers"),An("snap",rt))||bn;Yt.version=Ot.version=_n.version="3.12.5",d=1,R()&&xt();Et.Power0,Et.Power1,Et.Power2,Et.Power3,Et.Power4,Et.Linear,Et.Quad,Et.Cubic,Et.Quart,Et.Quint,Et.Strong,Et.Elastic,Et.Back,Et.SteppedEase,Et.Bounce,Et.Sine,Et.Expo,Et.Circ;var xn,En,Sn,Cn,Tn,kn,In,Pn,Nn={},Rn=180/Math.PI,Mn=Math.PI/180,Dn=Math.atan2,jn=/([A-Z])/g,Ln=/(left|right|width|margin|padding|x)/i,On=/[\s,\(]\S/,Fn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Un=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Vn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Bn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Hn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},zn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Wn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Gn=function(e,t,n){return e.style[t]=n},qn=function(e,t,n){return e.style.setProperty(t,n)},Kn=function(e,t,n){return e._gsap[t]=n},Yn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Xn=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},Qn=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},Jn="transform",Zn=Jn+"Origin",$n=function e(t,n){var r=this,i=this.target,s=i.style,a=i._gsap;if(t in Nn&&s){if(this.tfm=this.tfm||{},"transform"===t)return Fn.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=Fn[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=vr(i,e)})):this.tfm[t]=a.x?a[t]:vr(i,t),t===Zn&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(Jn)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Zn,n,"")),t=Jn}(s||n)&&this.props.push(t,n,s[t])},er=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},tr=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(jn,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=In())&&e.isStart||i[Jn]||(er(i),s.zOrigin&&i[Zn]&&(i[Zn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},nr=function(e,t){var n={target:e,props:[],revert:tr,save:$n};return e._gsap||_n.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},rr=function(e,t){var n=En.createElementNS?En.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):En.createElement(e);return n&&n.style?n:En.createElement(e)},ir=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(jn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,ar(n)||n,1)||""},sr="O,Moz,ms,Ms,Webkit".split(","),ar=function(e,t,n){var r=(t||Tn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(sr[i]+e in r););return i<0?null:(3===i?"ms":i>=0?sr[i]:"")+e},or=function(){"undefined"!==typeof window&&window.document&&(xn=window,En=xn.document,Sn=En.documentElement,Tn=rr("div")||{style:{}},rr("div"),Jn=ar(Jn),Zn=Jn+"Origin",Tn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Pn=!!ar("perspective"),In=_n.core.reverting,Cn=1)},lr=function e(t){var n,r=rr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(Sn.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(o){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),Sn.removeChild(r),this.style.cssText=a,n},cr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ur=function(e){var t;try{t=e.getBBox()}catch(n){t=lr.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===lr||(t=lr.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+cr(e,["x","cx","x1"])||0,y:+cr(e,["y","cy","y1"])||0,width:0,height:0}},hr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ur(e))},dr=function(e,t){if(t){var n,r=e.style;t in Nn&&t!==Zn&&(t=Jn),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(jn,"-$1").toLowerCase())):r.removeAttribute(t)}},pr=function(e,t,n,r,i,s){var a=new cn(e._pt,t,n,0,1,s?Wn:zn);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},fr={deg:1,rad:1,turn:1},mr={grid:1,flex:1},gr=function e(t,n,r,i){var s,a,o,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=Tn.style,d=Ln.test(n),p="svg"===t.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||fr[i]||fr[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&hr(t),(v||"%"===u)&&(Nn[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[f],he(v?c/s*m:c/100*s);if(h[d?"width":"height"]=m+(g?u:i),a=~n.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,l&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==En&&a.appendChild||(a=En.body),(o=a._gsap)&&v&&o.width&&d&&o.time===_t.time&&!o.uncache)return he(c/o.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!mr[ir(a,"display")]&&(h.position=ir(t,"position")),a===t&&(h.position="static"),a.appendChild(Tn),s=Tn[f],a.removeChild(Tn),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,s=t[f],y?t.style[n]=y:dr(t,n)}return d&&v&&((o=le(a)).time=_t.time,o.width=a[f]),he(g?s*c/m:s&&c?m/s*c:0)},vr=function(e,t,n,r){var i;return Cn||or(),t in Fn&&"transform"!==t&&~(t=Fn[t]).indexOf(",")&&(t=t.split(",")[0]),Nn[t]&&"transform"!==t?(i=Ir(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Pr(ir(e,Zn))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=_r[t]&&_r[t](e,t,n)||ir(e,t)||ce(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?gr(e,t,i,n)+n:i},yr=function(e,t,n,r){if(!n||"none"===n){var i=ar(t,e,1),s=i&&ir(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=ir(e,"borderTopColor"))}var a,o,l,c,u,h,d,p,f,m,v,y=new cn(this._pt,e.style,t,0,1,nn),b=0,w=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(h=e.style[t],e.style[t]=r,r=ir(e,t)||r,h?e.style[t]=h:dr(e,t)),At(a=[n,r]),r=a[1],l=(n=a[0]).match(F)||[],(r.match(F)||[]).length){for(;o=F.exec(r);)d=o[0],f=r.substring(b,o.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),d!==(h=l[w++]||"")&&(c=parseFloat(h)||0,v=h.substr((c+"").length),"="===d.charAt(1)&&(d=pe(c,d)+v),p=parseFloat(d),m=d.substr((p+"").length),b=F.lastIndex-m.length,m||(m=m||g.units[t]||v,b===r.length&&(r+=m,y.e+=m)),v!==m&&(c=gr(e,t,h,m)||0),y._pt={_next:y._pt,p:f||1===w?f:",",s:c,c:p-c,m:u&&u<4||"zIndex"===t?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?Wn:zn;return V.test(r)&&(y.e=0),this._pt=y,y},br={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wr=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=br[n]||n,t[1]=br[r]||r,t.join(" ")},Ar=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,a=s.style,o=t.u,l=s._gsap;if("all"===o||!0===o)a.cssText="",r=1;else for(i=(o=o.split(",")).length;--i>-1;)n=o[i],Nn[n]&&(r=1,n="transformOrigin"===n?Zn:Jn),dr(s,n);r&&(dr(s,Jn),l&&(l.svg&&s.removeAttribute("transform"),Ir(s,1),l.uncache=1,er(a)))}},_r={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new cn(e._pt,t,n,0,0,Ar);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},xr=[1,0,0,1,0,0],Er={},Sr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Cr=function(e){var t=ir(e,Jn);return Sr(t)?xr:t.substr(7).match(O).map(he)},Tr=function(e,t){var n,r,i,s,a=e._gsap||le(e),o=e.style,l=Cr(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?xr:l:(l!==xr||e.offsetParent||e===Sn||a.svg||(i=o.display,o.display="block",(n=e.parentNode)&&e.offsetParent||(s=1,r=e.nextElementSibling,Sn.appendChild(e)),l=Cr(e),i?o.display=i:dr(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):Sn.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},kr=function(e,t,n,r,i,s){var a,o,l,c=e._gsap,u=i||Tr(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],w=u[5],A=t.split(" "),_=parseFloat(A[0])||0,x=parseFloat(A[1])||0;n?u!==xr&&(o=m*y-g*v)&&(l=_*(-g/o)+x*(m/o)-(m*w-g*b)/o,_=_*(y/o)+x*(-v/o)+(v*w-y*b)/o,x=l):(_=(a=ur(e)).x+(~A[0].indexOf("%")?_/100*a.width:_),x=a.y+(~(A[1]||A[0]).indexOf("%")?x/100*a.height:x)),r||!1!==r&&c.smooth?(b=_-h,w=x-d,c.xOffset=p+(b*m+w*v)-b,c.yOffset=f+(b*g+w*y)-w):c.xOffset=c.yOffset=0,c.xOrigin=_,c.yOrigin=x,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[Zn]="0px 0px",s&&(pr(s,c,"xOrigin",h,_),pr(s,c,"yOrigin",d,x),pr(s,c,"xOffset",p,c.xOffset),pr(s,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",_+" "+x)},Ir=function(e,t){var n=e._gsap||new jt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,a,o,l,c,u,h,d,p,f,m,v,y,b,w,A,_,x,E,S,C,T,k,I,P,N,R,M,D,j,L=e.style,O=n.scaleX<0,F="px",U="deg",V=getComputedStyle(e),B=ir(e,Zn)||"0";return r=i=s=l=c=u=h=d=p=0,a=o=1,n.svg=!(!e.getCTM||!hr(e)),V.translate&&("none"===V.translate&&"none"===V.scale&&"none"===V.rotate||(L[Jn]=("none"!==V.translate?"translate3d("+(V.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==V.rotate?"rotate("+V.rotate+") ":"")+("none"!==V.scale?"scale("+V.scale.split(" ").join(",")+") ":"")+("none"!==V[Jn]?V[Jn]:"")),L.scale=L.rotate=L.translate="none"),v=Tr(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),B=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",T=""):T=!t&&e.getAttribute("data-svg-origin"),kr(e,T||B,!!T||n.originIsAbsolute,!1!==n.smooth,v)),f=n.xOrigin||0,m=n.yOrigin||0,v!==xr&&(A=v[0],_=v[1],x=v[2],E=v[3],r=S=v[4],i=C=v[5],6===v.length?(a=Math.sqrt(A*A+_*_),o=Math.sqrt(E*E+x*x),l=A||_?Dn(_,A)*Rn:0,(h=x||E?Dn(x,E)*Rn+l:0)&&(o*=Math.abs(Math.cos(h*Mn))),n.svg&&(r-=f-(f*A+m*x),i-=m-(f*_+m*E))):(j=v[6],M=v[7],P=v[8],N=v[9],R=v[10],D=v[11],r=v[12],i=v[13],s=v[14],c=(y=Dn(j,R))*Rn,y&&(T=S*(b=Math.cos(-y))+P*(w=Math.sin(-y)),k=C*b+N*w,I=j*b+R*w,P=S*-w+P*b,N=C*-w+N*b,R=j*-w+R*b,D=M*-w+D*b,S=T,C=k,j=I),u=(y=Dn(-x,R))*Rn,y&&(b=Math.cos(-y),D=E*(w=Math.sin(-y))+D*b,A=T=A*b-P*w,_=k=_*b-N*w,x=I=x*b-R*w),l=(y=Dn(_,A))*Rn,y&&(T=A*(b=Math.cos(y))+_*(w=Math.sin(y)),k=S*b+C*w,_=_*b-A*w,C=C*b-S*w,A=T,S=k),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),a=he(Math.sqrt(A*A+_*_+x*x)),o=he(Math.sqrt(C*C+j*j)),y=Dn(S,C),h=Math.abs(y)>2e-4?y*Rn:0,p=D?1/(D<0?-D:D):0),n.svg&&(T=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Sr(ir(e,Jn)),T&&e.setAttribute("transform",T))),Math.abs(h)>90&&Math.abs(h)<270&&(O?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=s+F,n.scaleX=he(a),n.scaleY=he(o),n.rotation=he(l)+U,n.rotationX=he(c)+U,n.rotationY=he(u)+U,n.skewX=h+U,n.skewY=d+U,n.transformPerspective=p+F,(n.zOrigin=parseFloat(B.split(" ")[2])||!t&&n.zOrigin||0)&&(L[Zn]=Pr(B)),n.xOffset=n.yOffset=0,n.force3D=g.force3D,n.renderTransform=n.svg?Or:Pn?Lr:Rr,n.uncache=0,n},Pr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Nr=function(e,t,n){var r=Ye(t);return he(parseFloat(t)+parseFloat(gr(e,"x",n+"px",r)))+r},Rr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Lr(e,t)},Mr="0deg",Dr="0px",jr=") ",Lr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,a=n.y,o=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",w="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==Mr||c!==Mr)){var A,_=parseFloat(c)*Mn,x=Math.sin(_),E=Math.cos(_);_=parseFloat(u)*Mn,A=Math.cos(_),s=Nr(v,s,x*A*-y),a=Nr(v,a,-Math.sin(_)*-y),o=Nr(v,o,E*A*-y+y)}m!==Dr&&(b+="perspective("+m+jr),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(w||s!==Dr||a!==Dr||o!==Dr)&&(b+=o!==Dr||w?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+jr),l!==Mr&&(b+="rotate("+l+jr),c!==Mr&&(b+="rotateY("+c+jr),u!==Mr&&(b+="rotateX("+u+jr),h===Mr&&d===Mr||(b+="skew("+h+", "+d+jr),1===p&&1===f||(b+="scale("+p+", "+f+jr),v.style[Jn]=b||"translate(0, 0)"},Or=function(e,t){var n,r,i,s,a,o=t||this,l=o.xPercent,c=o.yPercent,u=o.x,h=o.y,d=o.rotation,p=o.skewX,f=o.skewY,m=o.scaleX,g=o.scaleY,v=o.target,y=o.xOrigin,b=o.yOrigin,w=o.xOffset,A=o.yOffset,_=o.forceCSS,x=parseFloat(u),E=parseFloat(h);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=Mn,p*=Mn,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-p)*-g,s=Math.cos(d-p)*g,p&&(f*=Mn,a=Math.tan(p-f),i*=a=Math.sqrt(1+a*a),s*=a,f&&(a=Math.tan(f),n*=a=Math.sqrt(1+a*a),r*=a)),n=he(n),r=he(r),i=he(i),s=he(s)):(n=m,s=g,r=i=0),(x&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(x=gr(v,"x",u,"px"),E=gr(v,"y",h,"px")),(y||b||w||A)&&(x=he(x+y-(y*n+b*i)+w),E=he(E+b-(y*r+b*s)+A)),(l||c)&&(a=v.getBBox(),x=he(x+l/100*a.width),E=he(E+c/100*a.height)),a="matrix("+n+","+r+","+i+","+s+","+x+","+E+")",v.setAttribute("transform",a),_&&(v.style[Jn]=a)},Fr=function(e,t,n,r,i){var s,a,o=360,l=C(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Rn:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=o)!==c%180&&(c+=c<0?o:-360),"cw"===s&&c<0?c=(c+36e9)%o-~~(c/o)*o:"ccw"===s&&c>0&&(c=(c-36e9)%o-~~(c/o)*o)),e._pt=a=new cn(e._pt,t,n,r,c,Vn),a.e=u,a.u="deg",e._props.push(n),a},Ur=function(e,t){for(var n in t)e[n]=t[n];return e},Vr=function(e,t,n){var r,i,s,a,o,l,c,u=Ur({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[Jn]=t,r=Ir(n,1),dr(n,Jn),n.setAttribute("transform",s)):(s=getComputedStyle(n)[Jn],h[Jn]=t,r=Ir(n,1),h[Jn]=s),Nn)(s=u[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(o=Ye(s)!==(c=Ye(a))?gr(n,i,s,c):parseFloat(s),l=parseFloat(a),e._pt=new cn(e._pt,r,i,o,l-o,Un),e._pt.u=c||0,e._props.push(i));Ur(r,u)};ue("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",s="Left",a=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return t<2?e+n:"border"+n+e}));_r[t>1?"border"+e:e]=function(e,t,n,r,i){var s,o;if(arguments.length<4)return s=a.map((function(t){return vr(e,t,n)})),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(r+"").split(" "),o={},a.forEach((function(e,t){return o[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,o,i)}}));var Br={name:"css",register:or,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,a,o,l,c,u,h,d,p,f,m,v,y,b,w,A,_=this._props,x=e.style,E=n.vars.startAt;for(h in Cn||or(),this.styles=this.styles||nr(e),A=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(a=t[h],!ne[h]||!Ht(h,t,n,r,e,i)))if(c=typeof a,u=_r[h],"function"===c&&(c=typeof(a=a.call(n,r,e,i))),"string"===c&&~a.indexOf("random(")&&(a=at(a)),u)u(this,e,h,a,n)&&(w=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),a+="",bt.lastIndex=0,bt.test(s)||(d=Ye(s),p=Ye(a)),p?d!==p&&(s=gr(e,h,s,p)+p):d&&(a+=d),this.add(x,"setProperty",s,a,r,i,0,0,h),_.push(h),A.push(h,0,x[h]);else if("undefined"!==c){if(E&&h in E?(s="function"===typeof E[h]?E[h].call(n,r,e,i):E[h],C(s)&&~s.indexOf("random(")&&(s=at(s)),Ye(s+"")||"auto"===s||(s+=g.units[h]||Ye(vr(e,h))||""),"="===(s+"").charAt(1)&&(s=vr(e,h))):s=vr(e,h),l=parseFloat(s),(f="string"===c&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),o=parseFloat(a),h in Fn&&("autoAlpha"===h&&(1===l&&"hidden"===vr(e,"visibility")&&o&&(l=0),A.push("visibility",0,x.visibility),pr(this,x,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==h&&"transform"!==h&&~(h=Fn[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in Nn)if(this.styles.save(h),v||((y=e._gsap).renderTransform&&!t.parseTransform||Ir(e,t.parseTransform),b=!1!==t.smoothOrigin&&y.smooth,(v=this._pt=new cn(this._pt,x,Jn,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new cn(this._pt,y,"scaleY",y.scaleY,(f?pe(y.scaleY,f+o):o)-y.scaleY||0,Un),this._pt.u=0,_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){A.push(Zn,0,x[Zn]),a=wr(a),y.svg?kr(e,a,0,b,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&pr(this,y,"zOrigin",y.zOrigin,p),pr(this,x,h,Pr(s),Pr(a)));continue}if("svgOrigin"===h){kr(e,a,1,b,0,this);continue}if(h in Er){Fr(this,y,h,l,f?pe(l,f+a):a);continue}if("smoothOrigin"===h){pr(this,y,"smooth",y.smooth,a);continue}if("force3D"===h){y[h]=a;continue}if("transform"===h){Vr(this,a,e);continue}}else h in x||(h=ar(h)||h);if(m||(o||0===o)&&(l||0===l)&&!On.test(a)&&h in x)o||(o=0),(d=(s+"").substr((l+"").length))!==(p=Ye(a)||(h in g.units?g.units[h]:d))&&(l=gr(e,h,s,p)),this._pt=new cn(this._pt,m?y:x,h,l,(f?pe(l,f+o):o)-l,m||"px"!==p&&"zIndex"!==h||!1===t.autoRound?Un:Hn),this._pt.u=p||0,d!==p&&"%"!==p&&(this._pt.b=s,this._pt.r=Bn);else if(h in x)yr.call(this,e,h,s,f?f+a:a);else if(h in e)this.add(e,h,s||e[h],f?f+a:a,r,i);else if("parseTransform"!==h){q(h,a);continue}m||(h in x?A.push(h,0,x[h]):A.push(h,1,s||e[h])),_.push(h)}w&&ln(this)},render:function(e,t){if(t.tween._time||!In())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:vr,aliases:Fn,getSetter:function(e,t,n){var r=Fn[t];return r&&r.indexOf(",")<0&&(t=r),t in Nn&&t!==Zn&&(e._gsap.x||vr(e,"x"))?n&&kn===n?"scale"===t?Yn:Kn:(kn=n||{})&&("scale"===t?Xn:Qn):e.style&&!I(e.style[t])?Gn:~t.indexOf("-")?qn:$t(e,t)},core:{_removeProperty:dr,_getMatrix:Tr}};_n.utils.checkPrefix=ar,_n.core.getStyleSaver=nr,function(e,t,n,r){var i=ue(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Nn[e]=1}));ue(t,(function(e){g.units[e]="deg",Er[e]=1})),Fn[i[13]]=e+","+t,ue("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Fn[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ue("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){g.units[e]="px"})),_n.registerPlugin(Br);var Hr=_n.registerPlugin(Br)||_n;Hr.core.Tween},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!s[v]&&(!r||!r[v])&&(!m||!m[v])&&(!o||!o[v])){var y=d(n,v);try{c(t,v,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case o:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return A(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||A(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return A(e)===c},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return A(e)===d},t.isFragment=function(e){return A(e)===s},t.isLazy=function(e){return A(e)===g},t.isMemo=function(e){return A(e)===m},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===o},t.isStrictMode=function(e){return A(e)===a},t.isSuspense=function(e){return A(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===o||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=A},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3452:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?t:n)(a,i),a.onload||t(a,i),s.appendChild(a)}},3536:function(e,t,n){var r;e=n.nmd(e),function(){var i,s="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,u=64,h=128,d=256,p=1/0,f=9007199254740991,m=NaN,g=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",A="[object Date]",_="[object Error]",x="[object Function]",E="[object GeneratorFunction]",S="[object Map]",C="[object Number]",T="[object Object]",k="[object Promise]",I="[object RegExp]",P="[object Set]",N="[object String]",R="[object Symbol]",M="[object WeakMap]",D="[object ArrayBuffer]",j="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Q=RegExp(Y.source),J=RegExp(X.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),ae=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Re="["+Ee+"]",Me="["+Pe+"]",De="["+Se+"]",je="\\d+",Le="["+Ce+"]",Oe="["+Te+"]",Fe="[^"+Ee+Pe+je+Ce+Te+ke+"]",Ue="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Ee+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+ke+"]",We="\\u200d",Ge="(?:"+Oe+"|"+Fe+")",qe="(?:"+ze+"|"+Fe+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+De+"|"+Ue+")"+"?",Qe="["+Ie+"]?",Je=Qe+Xe+("(?:"+We+"(?:"+[Ve,Be,He].join("|")+")"+Qe+Xe+")*"),Ze="(?:"+[Le,Be,He].join("|")+")"+Je,$e="(?:"+[Ve+De+"?",De,Be,He,Re].join("|")+")",et=RegExp(Ne,"g"),tt=RegExp(De,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+$e+Je,"g"),rt=RegExp([ze+"?"+Oe+"+"+Ke+"(?="+[Me,ze,"$"].join("|")+")",qe+"+"+Ye+"(?="+[Me,ze+Ge,"$"].join("|")+")",ze+"?"+Ge+"+"+Ke,ze+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Ze].join("|"),"g"),it=RegExp("["+We+Ee+Se+Ie+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[L]=lt[O]=lt[F]=lt[U]=lt[V]=lt[B]=lt[H]=lt[z]=lt[W]=!0,lt[y]=lt[b]=lt[D]=lt[w]=lt[j]=lt[A]=lt[_]=lt[x]=lt[S]=lt[C]=lt[T]=lt[I]=lt[P]=lt[N]=lt[M]=!1;var ct={};ct[y]=ct[b]=ct[D]=ct[j]=ct[w]=ct[A]=ct[L]=ct[O]=ct[F]=ct[U]=ct[V]=ct[S]=ct[C]=ct[T]=ct[I]=ct[P]=ct[N]=ct[R]=ct[B]=ct[H]=ct[z]=ct[W]=!0,ct[_]=ct[x]=ct[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),At=wt&&wt.isArrayBuffer,_t=wt&&wt.isDate,xt=wt&&wt.isMap,Et=wt&&wt.isRegExp,St=wt&&wt.isSet,Ct=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(r,a,n(a),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}function Mt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ot(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Kt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ht(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ht(e,Gt,n)}function Wt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Gt(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function Kt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Qt(e,t){for(var n,r=-1,s=e.length;++r<s;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return jt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var sn=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var vn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,at))).Array,r=t.Date,oe=t.Error,Ee=t.Function,Se=t.Math,Ce=t.Object,Te=t.RegExp,ke=t.String,Ie=t.TypeError,Pe=n.prototype,Ne=Ee.prototype,Re=Ce.prototype,Me=t["__core-js_shared__"],De=Ne.toString,je=Re.hasOwnProperty,Le=0,Oe=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Re.toString,Ue=De.call(Ce),Ve=mt._,Be=Te("^"+De.call(je).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:i,ze=t.Symbol,We=t.Uint8Array,Ge=He?He.allocUnsafe:i,qe=un(Ce.getPrototypeOf,Ce),Ke=Ce.create,Ye=Re.propertyIsEnumerable,Xe=Pe.splice,Qe=ze?ze.isConcatSpreadable:i,Je=ze?ze.iterator:i,Ze=ze?ze.toStringTag:i,$e=function(){try{var e=hs(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Se.ceil,ft=Se.floor,gt=Ce.getOwnPropertySymbols,vt=He?He.isBuffer:i,bt=t.isFinite,wt=Pe.join,Vt=un(Ce.keys,Ce),Yt=Se.max,bn=Se.min,wn=r.now,An=t.parseInt,_n=Se.random,xn=Pe.reverse,En=hs(t,"DataView"),Sn=hs(t,"Map"),Cn=hs(t,"Promise"),Tn=hs(t,"Set"),kn=hs(t,"WeakMap"),In=hs(Ce,"create"),Pn=kn&&new kn,Nn={},Rn=Os(En),Mn=Os(Sn),Dn=Os(Cn),jn=Os(Tn),Ln=Os(kn),On=ze?ze.prototype:i,Fn=On?On.valueOf:i,Un=On?On.toString:i;function Vn(e){if(eo(e)&&!za(e)&&!(e instanceof Wn)){if(e instanceof zn)return e;if(je.call(e,"__wrapped__"))return Fs(e)}return new zn(e)}var Bn=function(){function e(){}return function(t){if(!$a(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Hn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new qn(e);this.size=t.size}function Qn(e,t){var n=za(e),r=!n&&Ha(e),i=!n&&!r&&Ka(e),s=!n&&!r&&!i&&lo(e),a=n||r||i||s,o=a?Jt(e.length,ke):[],l=o.length;for(var c in e)!t&&!je.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,l))||o.push(c);return o}function Jn(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function Zn(e,t){return Ds(Ii(e),or(t,0,e.length))}function $n(e){return Ds(Ii(e))}function er(e,t,n){(n!==i&&!Ua(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function tr(e,t,n){var r=e[t];je.call(e,t)&&Ua(r,n)&&(n!==i||t in e)||sr(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function ir(e,t){return e&&Pi(t,No(t),e)}function sr(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,s=t.length,a=n(s),o=null==e;++r<s;)a[r]=o?i:Co(e,t[r]);return a}function or(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,s,a){var o,l=1&t,c=2&t,u=4&t;if(n&&(o=s?n(e,r,s,a):n(e)),o!==i)return o;if(!$a(e))return e;var h=za(e);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ii(e,o)}else{var d=fs(e),p=d==x||d==E;if(Ka(e))return xi(e,l);if(d==T||d==y||p&&!s){if(o=c||p?{}:gs(e),!l)return c?function(e,t){return Pi(e,ps(e),t)}(e,function(e,t){return e&&Pi(t,Ro(t),e)}(o,e)):function(e,t){return Pi(e,ds(e),t)}(e,ir(o,e))}else{if(!ct[d])return s?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case D:return Ei(e);case w:case A:return new r(+e);case j:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case O:case F:case U:case V:case B:case H:case z:case W:return Si(e,n);case S:return new r;case C:case N:return new r(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case R:return i=e,Fn?Ce(Fn.call(i)):{}}var i}(e,d,l)}}a||(a=new Xn);var f=a.get(e);if(f)return f;a.set(e,o),so(e)?e.forEach((function(r){o.add(lr(r,t,n,r,e,a))})):to(e)&&e.forEach((function(r,i){o.set(i,lr(r,t,n,i,e,a))}));var m=h?i:(u?c?is:rs:c?Ro:No)(e);return It(m||e,(function(r,i){m&&(r=e[i=r]),tr(o,i,lr(r,t,n,i,e,a))})),o}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var s=n[r],a=t[s],o=e[s];if(o===i&&!(s in e)||!a(o))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(s);return Ps((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,s=Mt,a=!0,o=e.length,l=[],c=t.length;if(!o)return l;n&&(t=jt(t,$t(n))),r?(s=Dt,a=!1):t.length>=200&&(s=tn,a=!1,t=new Yn(t));e:for(;++i<o;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,a&&h===h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else s(t,h,r)||l.push(u)}return l}Vn.templateSettings={escape:Z,evaluate:$,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Hn.prototype,Vn.prototype.constructor=Vn,zn.prototype=Bn(Hn.prototype),zn.prototype.constructor=zn,Wn.prototype=Bn(Hn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?i:n}return je.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:je.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||qn),string:new Gn}},Kn.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return cs(this,e).get(e)},Kn.prototype.has=function(e){return cs(this,e).has(e)},Kn.prototype.set=function(e,t){var n=cs(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,a),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new qn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var dr=Mi(wr),pr=Mi(Ar,!0);function fr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(null!=o&&(l===i?o===o&&!oo(o):n(o,l)))var l=o,c=a}return c}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=vs),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?vr(o,t-1,n,r,i):Lt(i,o):r||(i[i.length]=o)}return i}var yr=Di(),br=Di(!0);function wr(e,t){return e&&yr(e,t,No)}function Ar(e,t){return e&&br(e,t,No)}function _r(e,t){return Rt(t,(function(t){return Qa(e[t])}))}function xr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Ls(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return za(e)?r:Lt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Ce(e)?function(e){var t=je.call(e,Ze),n=e[Ze];try{e[Ze]=i;var r=!0}catch(a){}var s=Fe.call(e);r&&(t?e[Ze]=n:delete e[Ze]);return s}(e):function(e){return Fe.call(e)}(e)}function Cr(e,t){return e>t}function Tr(e,t){return null!=e&&je.call(e,t)}function kr(e,t){return null!=e&&t in Ce(e)}function Ir(e,t,r){for(var s=r?Dt:Mt,a=e[0].length,o=e.length,l=o,c=n(o),u=1/0,h=[];l--;){var d=e[l];l&&t&&(d=jt(d,$t(t))),u=bn(d.length,u),c[l]=!r&&(t||a>=120&&d.length>=120)?new Yn(l&&d):i}d=e[0];var p=-1,f=c[0];e:for(;++p<a&&h.length<u;){var m=d[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(f?tn(f,g):s(h,g,r))){for(l=o;--l;){var v=c[l];if(!(v?tn(v,g):s(e[l],g,r)))continue e}f&&f.push(g),h.push(m)}}return h}function Pr(e,t,n){var r=null==(e=Ts(e,t=bi(t,e)))?e:e[Ls(Xs(t))];return null==r?i:Tt(r,e,n)}function Nr(e){return eo(e)&&Sr(e)==y}function Rr(e,t,n,r,s){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:function(e,t,n,r,s,a){var o=za(e),l=za(t),c=o?b:fs(e),u=l?b:fs(t),h=(c=c==y?T:c)==T,d=(u=u==y?T:u)==T,p=c==u;if(p&&Ka(e)){if(!Ka(t))return!1;o=!0,h=!1}if(p&&!h)return a||(a=new Xn),o||lo(e)?ts(e,t,n,r,s,a):function(e,t,n,r,i,s,a){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!s(new We(e),new We(t)));case w:case A:case C:return Ua(+e,+t);case _:return e.name==t.name&&e.message==t.message;case I:case N:return e==t+"";case S:var o=cn;case P:var l=1&r;if(o||(o=dn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=ts(o(e),o(t),r,i,s,a);return a.delete(e),u;case R:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,s,a);if(!(1&n)){var f=h&&je.call(e,"__wrapped__"),m=d&&je.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,v=m?t.value():t;return a||(a=new Xn),s(g,v,n,r,a)}}if(!p)return!1;return a||(a=new Xn),function(e,t,n,r,s,a){var o=1&n,l=rs(e),c=l.length,u=rs(t),h=u.length;if(c!=h&&!o)return!1;var d=c;for(;d--;){var p=l[d];if(!(o?p in t:je.call(t,p)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=o;for(;++d<c;){var y=e[p=l[d]],b=t[p];if(r)var w=o?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(w===i?y===b||s(y,b,n,r,a):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var A=e.constructor,_=t.constructor;A==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof _&&_ instanceof _||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,s,a)}(e,t,n,r,Rr,s))}function Mr(e,t,n,r){var s=n.length,a=s,o=!r;if(null==e)return!a;for(e=Ce(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var c=(l=n[s])[0],u=e[c],h=l[1];if(o&&l[2]){if(u===i&&!(c in e))return!1}else{var d=new Xn;if(r)var p=r(u,h,c,e,t,d);if(!(p===i?Rr(h,u,3,r,d):p))return!1}}return!0}function Dr(e){return!(!$a(e)||(t=e,Oe&&Oe in t))&&(Qa(e)?Be:ye).test(Os(e));var t}function jr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?za(e)?Br(e[0],e[1]):Vr(e):dl(e)}function Lr(e){if(!xs(e))return Vt(e);var t=[];for(var n in Ce(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Or(e){if(!$a(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=xs(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Ur(e,t){var r=-1,i=Ga(e)?n(e.length):[];return dr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function Vr(e){var t=us(e);return 1==t.length&&t[0][2]?Ss(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Br(e,t){return ws(e)&&Es(t)?Ss(Ls(e),t):function(n){var r=Co(n,e);return r===i&&r===t?To(n,e):Rr(t,r,3)}}function Hr(e,t,n,r,s){e!==t&&yr(t,(function(a,o){if(s||(s=new Xn),$a(a))!function(e,t,n,r,s,a,o){var l=ks(e,n),c=ks(t,n),u=o.get(c);if(u)return void er(e,n,u);var h=a?a(l,c,n+"",e,t,o):i,d=h===i;if(d){var p=za(c),f=!p&&Ka(c),m=!p&&!f&&lo(c);h=c,p||f||m?za(l)?h=l:qa(l)?h=Ii(l):f?(d=!1,h=xi(c,!0)):m?(d=!1,h=Si(c,!0)):h=[]:ro(c)||Ha(c)?(h=l,Ha(l)?h=vo(l):$a(l)&&!Qa(l)||(h=gs(c))):d=!1}d&&(o.set(c,h),s(h,c,r,a,o),o.delete(c));er(e,n,h)}(e,t,o,n,Hr,r,s);else{var l=r?r(ks(e,o),a,o+"",e,t,s):i;l===i&&(l=a),er(e,o,l)}}),Ro)}function zr(e,t){var n=e.length;if(n)return ys(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?jt(t,(function(e){return za(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=jt(t,$t(ls()));var i=Ur(e,(function(e,n,i){var s=jt(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,a=i.length,o=n.length;for(;++r<a;){var l=Ci(i[r],s[r]);if(l)return r>=o?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var a=t[r],o=xr(e,a);n(o,a)&&$r(s,bi(a,e),o)}return s}function qr(e,t,n,r){var i=r?Wt:zt,s=-1,a=t.length,o=e;for(e===t&&(t=Ii(t)),n&&(o=jt(e,$t(n)));++s<a;)for(var l=0,c=t[s],u=n?n(c):c;(l=i(o,u,l,r))>-1;)o!==e&&Xe.call(o,l,1),Xe.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;ys(i)?Xe.call(e,i,1):hi(e,i)}}return e}function Yr(e,t){return e+ft(_n()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ns(Cs(e,t,rl),e+"")}function Jr(e){return Jn(Vo(e))}function Zr(e,t){var n=Vo(e);return Ds(n,or(t,0,n.length))}function $r(e,t,n,r){if(!$a(e))return e;for(var s=-1,a=(t=bi(t,e)).length,o=a-1,l=e;null!=l&&++s<a;){var c=Ls(t[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=o){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=$a(h)?h:ys(t[s+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=Pn?function(e,t){return Pn.set(e,t),e}:rl,ti=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ds(Vo(e))}function ri(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=n(s);++i<s;)a[i]=e[i+t];return a}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,a=e[s];null!==a&&!oo(a)&&(n?a<=t:a<t)?r=s+1:i=s}return i}return ai(e,t,rl,n)}function ai(e,t,n,r){var s=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!==t,l=null===t,c=oo(t),u=t===i;s<a;){var h=ft((s+a)/2),d=n(e[h]),p=d!==i,f=null===d,m=d===d,g=oo(d);if(o)var v=r||m;else v=u?m&&(r||p):l?m&&p&&(r||!f):c?m&&p&&!f&&(r||!g):!f&&!g&&(r?d<=t:d<t);v?s=h+1:a=h}return bn(a,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n],o=t?t(a):a;if(!n||!Ua(o,l)){var l=o;s[i++]=0===a?0:a}}return s}function li(e){return"number"==typeof e?e:oo(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(za(e))return jt(e,ci)+"";if(oo(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Mt,s=e.length,a=!0,o=[],l=o;if(n)a=!1,i=Dt;else if(s>=200){var c=t?null:Xi(e);if(c)return dn(c);a=!1,i=tn,l=new Yn}else l=t?[]:o;e:for(;++r<s;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),o.push(u)}else i(l,h,n)||(l!==o&&l.push(h),o.push(u))}return o}function hi(e,t){return null==(e=Ts(e,t=bi(t,e)))||delete e[Ls(Xs(t))]}function di(e,t,n,r){return $r(e,t,n(xr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ri(e,r?0:s,r?s+1:i):ri(e,r?s+1:0,r?i:s)}function fi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var s=-1,a=n(i);++s<i;)for(var o=e[s],l=-1;++l<i;)l!=s&&(a[s]=hr(a[s]||o,e[l],t,r));return ui(vr(a,1),t,r)}function gi(e,t,n){for(var r=-1,s=e.length,a=t.length,o={};++r<s;){var l=r<a?t[r]:i;n(o,e[r],l)}return o}function vi(e){return qa(e)?e:[]}function yi(e){return"function"==typeof e?e:rl}function bi(e,t){return za(e)?e:ws(e,t)?[e]:js(yo(e))}var wi=Qr;function Ai(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return mt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Si(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,s=e===e,a=oo(e),o=t!==i,l=null===t,c=t===t,u=oo(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}function Ti(e,t,r,i){for(var s=-1,a=e.length,o=r.length,l=-1,c=t.length,u=Yt(a-o,0),h=n(c+u),d=!i;++l<c;)h[l]=t[l];for(;++s<o;)(d||s<a)&&(h[r[s]]=e[s]);for(;u--;)h[l++]=e[s++];return h}function ki(e,t,r,i){for(var s=-1,a=e.length,o=-1,l=r.length,c=-1,u=t.length,h=Yt(a-l,0),d=n(h+u),p=!i;++s<h;)d[s]=e[s];for(var f=s;++c<u;)d[f+c]=t[c];for(;++o<l;)(p||s<a)&&(d[f+r[o]]=e[s++]);return d}function Ii(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var s=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var l=t[a],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),s?sr(n,l,c):tr(n,l,c)}return n}function Ni(e,t){return function(n,r){var i=za(n)?kt:rr,s=t?t():{};return i(n,e,ls(r,2),s)}}function Ri(e){return Qr((function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:i,o=s>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(s--,a):i,o&&bs(n[0],n[1],o)&&(a=s<3?i:a,s=1),t=Ce(t);++r<s;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Ce(n);(t?s--:++s<i)&&!1!==r(a[s],s,a););return n}}function Di(e){return function(t,n,r){for(var i=-1,s=Ce(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===n(s[l],l,s))break}return t}}function ji(e){return function(t){var n=ln(t=yo(t))?mn(t):i,r=n?n[0]:t.charAt(0),s=n?Ai(n,1).join(""):t.slice(1);return r[e]()+s}}function Li(e){return function(t){return Ot(Jo(zo(t).replace(et,"")),e,"")}}function Oi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return $a(r)?r:n}}function Fi(e){return function(t,n,r){var s=Ce(t);if(!Ga(t)){var a=ls(n,3);t=No(t),n=function(e){return a(s[e],e,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:i}}function Ui(e){return ns((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Ie(s);if(a&&!l&&"wrapper"==as(o))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var c=as(o=t[r]),u="wrapper"==c?ss(o):i;l=u&&As(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[as(u[0])].apply(l,u[3]):1==o.length&&As(o)?l[c]():l.thru(o)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&za(r))return l.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Vi(e,t,r,s,a,o,l,c,u,d){var p=t&h,f=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Oi(e);return function h(){for(var b=arguments.length,w=n(b),A=b;A--;)w[A]=arguments[A];if(g)var _=os(h),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(s&&(w=Ti(w,s,a,g)),o&&(w=ki(w,o,l,g)),b-=x,g&&b<d){var E=hn(w,_);return Ki(e,t,Vi,h.placeholder,r,w,E,c,u,d-b)}var S=f?r:this,C=m?S[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),s=Ii(e);for(;r--;){var a=t[r];e[r]=ys(a,n)?s[a]:i}return e}(w,c):v&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==mt&&this instanceof h&&(C=y||Oi(C)),C.apply(S,w)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Hi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),s=e(n,r)}return s}}function zi(e){return ns((function(t){return t=jt(t,$t(ls())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,pt(e/fn(t)));return ln(t)?Ai(mn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,s){return s&&"number"!=typeof s&&bs(t,r,s)&&(r=s=i),t=po(t),r===i?(r=t,t=0):r=po(r),function(e,t,r,i){for(var s=-1,a=Yt(pt((t-e)/(r||1)),0),o=n(a);a--;)o[i?a:++s]=e,e+=r;return o}(t,r,s=s===i?t<r?1:-1:po(s),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=go(t),n=go(n)),e(t,n)}}function Ki(e,t,n,r,s,a,o,l,h,d){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var f=[e,t,s,p?a:i,p?o:i,p?i:a,p?i:o,l,h,d],m=n.apply(i,f);return As(e)&&Is(m,f),m.placeholder=r,Rs(m,e,t)}function Yi(e){var t=Se[e];return function(e,n){if(e=go(e),(n=null==n?0:bn(fo(n),292))&&bt(e)){var r=(yo(e)+"e").split("e");return+((r=(yo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=Tn&&1/dn(new Tn([,-0]))[1]==p?function(e){return new Tn(e)}:ll;function Qi(e){return function(t){var n=fs(t);return n==S?cn(t):n==P?pn(t):function(e,t){return jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,a,p,f,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(s);var y=a?a.length:0;if(y||(t&=-97,a=p=i),m=m===i?m:Yt(fo(m),0),g=g===i?g:fo(g),y-=p?p.length:0,t&u){var b=a,w=p;a=p=i}var A=v?i:ss(e),_=[e,t,r,a,p,b,w,f,m,g];if(A&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ti(c,l,t[4]):l,e[4]=c?hn(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?ki(c,l,t[6]):l,e[6]=c?hn(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&h&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,A),e=_[0],t=_[1],r=_[2],a=_[3],p=_[4],!(g=_[9]=_[9]===i?v?0:e.length:Yt(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,r){var s=Oi(e);return function a(){for(var o=arguments.length,l=n(o),c=o,u=os(a);c--;)l[c]=arguments[c];var h=o<3&&l[0]!==u&&l[o-1]!==u?[]:hn(l,u);return(o-=h.length)<r?Ki(e,t,Vi,a.placeholder,i,l,h,i,i,r-o):Tt(this&&this!==mt&&this instanceof a?s:e,this,l)}}(e,t,g):t!=c&&33!=t||p.length?Vi.apply(i,_):function(e,t,r,i){var s=1&t,a=Oi(e);return function t(){for(var o=-1,l=arguments.length,c=-1,u=i.length,h=n(u+l),d=this&&this!==mt&&this instanceof t?a:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++o];return Tt(d,s?r:this,h)}}(e,t,r,a);else var x=function(e,t,n){var r=1&t,i=Oi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Rs((A?ei:Is)(x,_),e,t)}function Zi(e,t,n,r){return e===i||Ua(e,Re[n])&&!je.call(r,n)?t:e}function $i(e,t,n,r,s,a){return $a(e)&&$a(t)&&(a.set(t,e),Hr(e,t,i,$i,a),a.delete(t)),e}function es(e){return ro(e)?i:e}function ts(e,t,n,r,s,a){var o=1&n,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var d=-1,p=!0,f=2&n?new Yn:i;for(a.set(e,t),a.set(t,e);++d<l;){var m=e[d],g=t[d];if(r)var v=o?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(v!==i){if(v)continue;p=!1;break}if(f){if(!Ut(t,(function(e,t){if(!tn(f,t)&&(m===e||s(m,e,n,r,a)))return f.push(t)}))){p=!1;break}}else if(m!==g&&!s(m,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ns(e){return Ns(Cs(e,i,Ws),e+"")}function rs(e){return Er(e,No,ds)}function is(e){return Er(e,Ro,ps)}var ss=Pn?function(e){return Pn.get(e)}:ll;function as(e){for(var t=e.name+"",n=Nn[t],r=je.call(Nn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function os(e){return(je.call(Vn,"placeholder")?Vn:e).placeholder}function ls(){var e=Vn.iteratee||il;return e=e===il?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function us(e){for(var t=No(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Es(i)]}return t}function hs(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Dr(n)?n:i}var ds=gt?function(e){return null==e?[]:(e=Ce(e),Rt(gt(e),(function(t){return Ye.call(e,t)})))}:ml,ps=gt?function(e){for(var t=[];e;)Lt(t,ds(e)),e=qe(e);return t}:ml,fs=Sr;function ms(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,s=!1;++r<i;){var a=Ls(t[r]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Za(i)&&ys(a,i)&&(za(e)||Ha(e))}function gs(e){return"function"!=typeof e.constructor||xs(e)?{}:Bn(qe(e))}function vs(e){return za(e)||Ha(e)||!!(Qe&&e&&e[Qe])}function ys(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function bs(e,t,n){if(!$a(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&ys(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function ws(e,t){if(za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oo(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function As(e){var t=as(e),n=Vn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ss(n);return!!r&&e===r[0]}(En&&fs(new En(new ArrayBuffer(1)))!=j||Sn&&fs(new Sn)!=S||Cn&&fs(Cn.resolve())!=k||Tn&&fs(new Tn)!=P||kn&&fs(new kn)!=M)&&(fs=function(e){var t=Sr(e),n=t==T?e.constructor:i,r=n?Os(n):"";if(r)switch(r){case Rn:return j;case Mn:return S;case Dn:return k;case jn:return P;case Ln:return M}return t});var _s=Me?Qa:gl;function xs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Es(e){return e===e&&!$a(e)}function Ss(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Cs(e,t,r){return t=Yt(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=Yt(i.length-t,0),o=n(a);++s<a;)o[s]=i[t+s];s=-1;for(var l=n(t+1);++s<t;)l[s]=i[s];return l[t]=r(o),Tt(e,this,l)}}function Ts(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function ks(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Is=Ms(ei),Ps=ut||function(e,t){return mt.setTimeout(e,t)},Ns=Ms(ti);function Rs(e,t,n){var r=t+"";return Ns(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(v,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ms(e){var t=0,n=0;return function(){var r=wn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ds(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var a=Yr(n,s),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var js=function(e){var t=Ma(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Ls(e){if("string"==typeof e||oo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Os(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fs(e){if(e instanceof Wn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Us=Qr((function(e,t){return qa(e)?hr(e,vr(t,1,qa,!0)):[]})),Vs=Qr((function(e,t){var n=Xs(t);return qa(n)&&(n=i),qa(e)?hr(e,vr(t,1,qa,!0),ls(n,2)):[]})),Bs=Qr((function(e,t){var n=Xs(t);return qa(n)&&(n=i),qa(e)?hr(e,vr(t,1,qa,!0),i,n):[]}));function Hs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fo(n);return i<0&&(i=Yt(r+i,0)),Ht(e,ls(t,3),i)}function zs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=fo(n),s=n<0?Yt(r+s,0):bn(s,r-1)),Ht(e,ls(t,3),s,!0)}function Ws(e){return(null==e?0:e.length)?vr(e,1):[]}function Gs(e){return e&&e.length?e[0]:i}var qs=Qr((function(e){var t=jt(e,vi);return t.length&&t[0]===e[0]?Ir(t):[]})),Ks=Qr((function(e){var t=Xs(e),n=jt(e,vi);return t===Xs(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,ls(t,2)):[]})),Ys=Qr((function(e){var t=Xs(e),n=jt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Xs(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qs=Qr(Js);function Js(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Zs=ns((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Kr(e,jt(t,(function(e){return ys(e,n)?+e:e})).sort(Ci)),r}));function $s(e){return null==e?e:xn.call(e)}var ea=Qr((function(e){return ui(vr(e,1,qa,!0))})),ta=Qr((function(e){var t=Xs(e);return qa(t)&&(t=i),ui(vr(e,1,qa,!0),ls(t,2))})),na=Qr((function(e){var t=Xs(e);return t="function"==typeof t?t:i,ui(vr(e,1,qa,!0),i,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(qa(e))return t=Yt(e.length,t),!0})),Jt(t,(function(t){return jt(e,Kt(t))}))}function ia(e,t){if(!e||!e.length)return[];var n=ra(e);return null==t?n:jt(n,(function(e){return Tt(t,i,e)}))}var sa=Qr((function(e,t){return qa(e)?hr(e,t):[]})),aa=Qr((function(e){return mi(Rt(e,qa))})),oa=Qr((function(e){var t=Xs(e);return qa(t)&&(t=i),mi(Rt(e,qa),ls(t,2))})),la=Qr((function(e){var t=Xs(e);return t="function"==typeof t?t:i,mi(Rt(e,qa),i,t)})),ca=Qr(ra);var ua=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ia(e,n)}));function ha(e){var t=Vn(e);return t.__chain__=!0,t}function da(e,t){return t(e)}var pa=ns((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&ys(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:da,args:[s],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)}));var fa=Ni((function(e,t,n){je.call(e,n)?++e[n]:sr(e,n,1)}));var ma=Fi(Hs),ga=Fi(zs);function va(e,t){return(za(e)?It:dr)(e,ls(t,3))}function ya(e,t){return(za(e)?Pt:pr)(e,ls(t,3))}var ba=Ni((function(e,t,n){je.call(e,n)?e[n].push(t):sr(e,n,[t])}));var wa=Qr((function(e,t,r){var i=-1,s="function"==typeof t,a=Ga(e)?n(e.length):[];return dr(e,(function(e){a[++i]=s?Tt(t,e,r):Pr(e,t,r)})),a})),Aa=Ni((function(e,t,n){sr(e,n,t)}));function _a(e,t){return(za(e)?jt:Ur)(e,ls(t,3))}var xa=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bs(e,t[0],t[1])?t=[]:n>2&&bs(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,vr(t,1),[])})),Sa=it||function(){return mt.Date.now()};function Ca(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,h,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Ie(s);return e=fo(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ka=Qr((function(e,t,n){var r=1;if(n.length){var i=hn(n,os(ka));r|=c}return Ji(e,r,t,n,i)})),Ia=Qr((function(e,t,n){var r=3;if(n.length){var i=hn(n,os(Ia));r|=c}return Ji(t,r,e,n,i)}));function Pa(e,t,n){var r,a,o,l,c,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new Ie(s);function m(t){var n=r,s=a;return r=a=i,h=t,l=e.apply(s,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||p&&e-h>=o}function v(){var e=Sa();if(g(e))return y(e);c=Ps(v,function(e){var n=t-(e-u);return p?bn(n,o-(e-h)):n}(e))}function y(e){return c=i,f&&r?m(e):(r=a=i,l)}function b(){var e=Sa(),n=g(e);if(r=arguments,a=this,u=e,n){if(c===i)return function(e){return h=e,c=Ps(v,t),d?m(e):l}(u);if(p)return _i(c),c=Ps(v,t),m(u)}return c===i&&(c=Ps(v,t)),l}return t=go(t)||0,$a(n)&&(d=!!n.leading,o=(p="maxWait"in n)?Yt(go(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){c!==i&&_i(c),h=0,r=u=a=c=i},b.flush=function(){return c===i?l:y(Sa())},b}var Na=Qr((function(e,t){return ur(e,1,t)})),Ra=Qr((function(e,t,n){return ur(e,go(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Ma.Cache||Kn),n}function Da(e){if("function"!=typeof e)throw new Ie(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Kn;var ja=wi((function(e,t){var n=(t=1==t.length&&za(t[0])?jt(t[0],$t(ls())):jt(vr(t,1),$t(ls()))).length;return Qr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),La=Qr((function(e,t){var n=hn(t,os(La));return Ji(e,c,i,t,n)})),Oa=Qr((function(e,t){var n=hn(t,os(Oa));return Ji(e,u,i,t,n)})),Fa=ns((function(e,t){return Ji(e,d,i,i,i,t)}));function Ua(e,t){return e===t||e!==e&&t!==t}var Va=qi(Cr),Ba=qi((function(e,t){return e>=t})),Ha=Nr(function(){return arguments}())?Nr:function(e){return eo(e)&&je.call(e,"callee")&&!Ye.call(e,"callee")},za=n.isArray,Wa=At?$t(At):function(e){return eo(e)&&Sr(e)==D};function Ga(e){return null!=e&&Za(e.length)&&!Qa(e)}function qa(e){return eo(e)&&Ga(e)}var Ka=vt||gl,Ya=_t?$t(_t):function(e){return eo(e)&&Sr(e)==A};function Xa(e){if(!eo(e))return!1;var t=Sr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ro(e)}function Qa(e){if(!$a(e))return!1;var t=Sr(e);return t==x||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==fo(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function $a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}var to=xt?$t(xt):function(e){return eo(e)&&fs(e)==S};function no(e){return"number"==typeof e||eo(e)&&Sr(e)==C}function ro(e){if(!eo(e)||Sr(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var io=Et?$t(Et):function(e){return eo(e)&&Sr(e)==I};var so=St?$t(St):function(e){return eo(e)&&fs(e)==P};function ao(e){return"string"==typeof e||!za(e)&&eo(e)&&Sr(e)==N}function oo(e){return"symbol"==typeof e||eo(e)&&Sr(e)==R}var lo=Ct?$t(Ct):function(e){return eo(e)&&Za(e.length)&&!!lt[Sr(e)]};var co=qi(Fr),uo=qi((function(e,t){return e<=t}));function ho(e){if(!e)return[];if(Ga(e))return ao(e)?mn(e):Ii(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=fs(e);return(t==S?cn:t==P?dn:Vo)(e)}function po(e){return e?(e=go(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function fo(e){var t=po(e),n=t%1;return t===t?n?t-n:t:0}function mo(e){return e?or(fo(e),0,g):0}function go(e){if("number"==typeof e)return e;if(oo(e))return m;if($a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?m:+e}function vo(e){return Pi(e,Ro(e))}function yo(e){return null==e?"":ci(e)}var bo=Ri((function(e,t){if(xs(t)||Ga(t))Pi(t,No(t),e);else for(var n in t)je.call(t,n)&&tr(e,n,t[n])})),wo=Ri((function(e,t){Pi(t,Ro(t),e)})),Ao=Ri((function(e,t,n,r){Pi(t,Ro(t),e,r)})),_o=Ri((function(e,t,n,r){Pi(t,No(t),e,r)})),xo=ns(ar);var Eo=Qr((function(e,t){e=Ce(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&bs(t[0],t[1],s)&&(r=1);++n<r;)for(var a=t[n],o=Ro(a),l=-1,c=o.length;++l<c;){var u=o[l],h=e[u];(h===i||Ua(h,Re[u])&&!je.call(e,u))&&(e[u]=a[u])}return e})),So=Qr((function(e){return e.push(i,$i),Tt(Do,i,e)}));function Co(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function To(e,t){return null!=e&&ms(e,t,kr)}var ko=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(rl)),Io=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]}),ls),Po=Qr(Pr);function No(e){return Ga(e)?Qn(e):Lr(e)}function Ro(e){return Ga(e)?Qn(e,!0):Or(e)}var Mo=Ri((function(e,t,n){Hr(e,t,n)})),Do=Ri((function(e,t,n,r){Hr(e,t,n,r)})),jo=ns((function(e,t){var n={};if(null==e)return n;var r=!1;t=jt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Pi(e,is(e),n),r&&(n=lr(n,7,es));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Lo=ns((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return To(e,n)}))}(e,t)}));function Oo(e,t){if(null==e)return{};var n=jt(is(e),(function(e){return[e]}));return t=ls(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Fo=Qi(No),Uo=Qi(Ro);function Vo(e){return null==e?[]:en(e,No(e))}var Bo=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?Ho(t):t)}));function Ho(e){return Qo(yo(e).toLowerCase())}function zo(e){return(e=yo(e))&&e.replace(Ae,sn).replace(tt,"")}var Wo=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Go=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qo=ji("toLowerCase");var Ko=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yo=Li((function(e,t,n){return e+(n?" ":"")+Qo(t)}));var Xo=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qo=ji("toUpperCase");function Jo(e,t,n){return e=yo(e),(t=n?i:t)===i?function(e){return st.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Zo=Qr((function(e,t){try{return Tt(e,i,t)}catch(n){return Xa(n)?n:new oe(n)}})),$o=ns((function(e,t){return It(t,(function(t){t=Ls(t),sr(e,t,ka(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ui(),nl=Ui(!0);function rl(e){return e}function il(e){return jr("function"==typeof e?e:lr(e,1))}var sl=Qr((function(e,t){return function(n){return Pr(n,e,t)}})),al=Qr((function(e,t){return function(n){return Pr(e,n,t)}}));function ol(e,t,n){var r=No(t),i=_r(t,r);null!=n||$a(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,No(t)));var s=!($a(n)&&"chain"in n)||!!n.chain,a=Qa(e);return It(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function ll(){}var cl=zi(jt),ul=zi(Nt),hl=zi(Ut);function dl(e){return ws(e)?Kt(Ls(e)):function(e){return function(t){return xr(t,e)}}(e)}var pl=Gi(),fl=Gi(!0);function ml(){return[]}function gl(){return!1}var vl=Hi((function(e,t){return e+t}),0),yl=Yi("ceil"),bl=Hi((function(e,t){return e/t}),1),wl=Yi("floor");var Al=Hi((function(e,t){return e*t}),1),_l=Yi("round"),xl=Hi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ie(s);return e=fo(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Ca,Vn.assign=bo,Vn.assignIn=wo,Vn.assignInWith=Ao,Vn.assignWith=_o,Vn.at=xo,Vn.before=Ta,Vn.bind=ka,Vn.bindAll=$o,Vn.bindKey=Ia,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},Vn.chain=ha,Vn.chunk=function(e,t,r){t=(r?bs(e,t,r):t===i)?1:Yt(fo(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var a=0,o=0,l=n(pt(s/t));a<s;)l[o++]=ri(e,a,a+=t);return l},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(za(r)?Ii(r):[r],vr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ls();return e=t?jt(e,(function(e){if("function"!=typeof e[1])throw new Ie(s);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=No(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Vn.constant=el,Vn.countBy=fa,Vn.create=function(e,t){var n=Bn(e);return null==t?n:ir(n,t)},Vn.curry=function e(t,n,r){var s=Ji(t,8,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Vn.curryRight=function e(t,n,r){var s=Ji(t,l,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Vn.debounce=Pa,Vn.defaults=Eo,Vn.defaultsDeep=So,Vn.defer=Na,Vn.delay=Ra,Vn.difference=Us,Vn.differenceBy=Vs,Vn.differenceWith=Bs,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:fo(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:fo(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ls(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?pi(e,ls(t,3),!0):[]},Vn.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&bs(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=fo(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:fo(r))<0&&(r+=s),r=n>r?0:mo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(za(e)?Rt:gr)(e,ls(t,3))},Vn.flatMap=function(e,t){return vr(_a(e,t),1)},Vn.flatMapDeep=function(e,t){return vr(_a(e,t),p)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:fo(n),vr(_a(e,t),n)},Vn.flatten=Ws,Vn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,p):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:fo(t)):[]},Vn.flip=function(e){return Ji(e,512)},Vn.flow=tl,Vn.flowRight=nl,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:_r(e,No(e))},Vn.functionsIn=function(e){return null==e?[]:_r(e,Ro(e))},Vn.groupBy=ba,Vn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Vn.intersection=qs,Vn.intersectionBy=Ks,Vn.intersectionWith=Ys,Vn.invert=ko,Vn.invertBy=Io,Vn.invokeMap=wa,Vn.iteratee=il,Vn.keyBy=Aa,Vn.keys=No,Vn.keysIn=Ro,Vn.map=_a,Vn.mapKeys=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(lr(e,1))},Vn.matchesProperty=function(e,t){return Br(e,lr(t,1))},Vn.memoize=Ma,Vn.merge=Mo,Vn.mergeWith=Do,Vn.method=sl,Vn.methodOf=al,Vn.mixin=ol,Vn.negate=Da,Vn.nthArg=function(e){return e=fo(e),Qr((function(t){return zr(t,e)}))},Vn.omit=jo,Vn.omitBy=function(e,t){return Oo(e,Da(ls(t)))},Vn.once=function(e){return Ta(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Vn.over=cl,Vn.overArgs=ja,Vn.overEvery=ul,Vn.overSome=hl,Vn.partial=La,Vn.partialRight=Oa,Vn.partition=xa,Vn.pick=Lo,Vn.pickBy=Oo,Vn.property=dl,Vn.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Vn.pull=Qs,Vn.pullAll=Js,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ls(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Vn.pullAt=Zs,Vn.range=pl,Vn.rangeRight=fl,Vn.rearg=Fa,Vn.reject=function(e,t){return(za(e)?Rt:gr)(e,Da(ls(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=ls(t,3);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ie(s);return Qr(e,t=t===i?t:fo(t))},Vn.reverse=$s,Vn.sampleSize=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:fo(t),(za(e)?Zn:Zr)(e,t)},Vn.set=function(e,t,n){return null==e?e:$r(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$r(e,t,n,r)},Vn.shuffle=function(e){return(za(e)?$n:ni)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bs(e,t,n)?(t=0,n=r):(t=null==t?0:fo(t),n=n===i?r:fo(n)),ri(e,t,n)):[]},Vn.sortBy=Ea,Vn.sortedUniq=function(e){return e&&e.length?oi(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,ls(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&bs(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=yo(e))&&("string"==typeof t||null!=t&&!io(t))&&!(t=ci(t))&&ln(e)?Ai(mn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ie(s);return t=null==t?0:Yt(fo(t),0),Qr((function(n){var r=n[t],i=Ai(n,0,t);return r&&Lt(i,r),Tt(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:fo(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:fo(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ls(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?pi(e,ls(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(s);return $a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=da,Vn.toArray=ho,Vn.toPairs=Fo,Vn.toPairsIn=Uo,Vn.toPath=function(e){return za(e)?jt(e,Ls):oo(e)?[e]:Ii(js(yo(e)))},Vn.toPlainObject=vo,Vn.transform=function(e,t,n){var r=za(e),i=r||Ka(e)||lo(e);if(t=ls(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:$a(e)&&Qa(s)?Bn(qe(e)):{}}return(i?It:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Ca(e,1)},Vn.union=ea,Vn.unionBy=ta,Vn.unionWith=na,Vn.uniq=function(e){return e&&e.length?ui(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?ui(e,ls(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Vn.unset=function(e,t){return null==e||hi(e,t)},Vn.unzip=ra,Vn.unzipWith=ia,Vn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,yi(n),r)},Vn.values=Vo,Vn.valuesIn=function(e){return null==e?[]:en(e,Ro(e))},Vn.without=sa,Vn.words=Jo,Vn.wrap=function(e,t){return La(yi(t),e)},Vn.xor=aa,Vn.xorBy=oa,Vn.xorWith=la,Vn.zip=ca,Vn.zipObject=function(e,t){return gi(e||[],t||[],tr)},Vn.zipObjectDeep=function(e,t){return gi(e||[],t||[],$r)},Vn.zipWith=ua,Vn.entries=Fo,Vn.entriesIn=Uo,Vn.extend=wo,Vn.extendWith=Ao,ol(Vn,Vn),Vn.add=vl,Vn.attempt=Zo,Vn.camelCase=Bo,Vn.capitalize=Ho,Vn.ceil=yl,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=go(n))===n?n:0),t!==i&&(t=(t=go(t))===t?t:0),or(go(e),t,n)},Vn.clone=function(e){return lr(e,4)},Vn.cloneDeep=function(e){return lr(e,5)},Vn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||cr(e,t,No(t))},Vn.deburr=zo,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=bl,Vn.endsWith=function(e,t,n){e=yo(e),t=ci(t);var r=e.length,s=n=n===i?r:or(fo(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Vn.eq=Ua,Vn.escape=function(e){return(e=yo(e))&&J.test(e)?e.replace(X,an):e},Vn.escapeRegExp=function(e){return(e=yo(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var r=za(e)?Nt:fr;return n&&bs(e,t,n)&&(t=i),r(e,ls(t,3))},Vn.find=ma,Vn.findIndex=Hs,Vn.findKey=function(e,t){return Bt(e,ls(t,3),wr)},Vn.findLast=ga,Vn.findLastIndex=zs,Vn.findLastKey=function(e,t){return Bt(e,ls(t,3),Ar)},Vn.floor=wl,Vn.forEach=va,Vn.forEachRight=ya,Vn.forIn=function(e,t){return null==e?e:yr(e,ls(t,3),Ro)},Vn.forInRight=function(e,t){return null==e?e:br(e,ls(t,3),Ro)},Vn.forOwn=function(e,t){return e&&wr(e,ls(t,3))},Vn.forOwnRight=function(e,t){return e&&Ar(e,ls(t,3))},Vn.get=Co,Vn.gt=Va,Vn.gte=Ba,Vn.has=function(e,t){return null!=e&&ms(e,t,Tr)},Vn.hasIn=To,Vn.head=Gs,Vn.identity=rl,Vn.includes=function(e,t,n,r){e=Ga(e)?e:Vo(e),n=n&&!r?fo(n):0;var i=e.length;return n<0&&(n=Yt(i+n,0)),ao(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fo(n);return i<0&&(i=Yt(r+i,0)),zt(e,t,i)},Vn.inRange=function(e,t,n){return t=po(t),n===i?(n=t,t=0):n=po(n),function(e,t,n){return e>=bn(t,n)&&e<Yt(t,n)}(e=go(e),t,n)},Vn.invoke=Po,Vn.isArguments=Ha,Vn.isArray=za,Vn.isArrayBuffer=Wa,Vn.isArrayLike=Ga,Vn.isArrayLikeObject=qa,Vn.isBoolean=function(e){return!0===e||!1===e||eo(e)&&Sr(e)==w},Vn.isBuffer=Ka,Vn.isDate=Ya,Vn.isElement=function(e){return eo(e)&&1===e.nodeType&&!ro(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||lo(e)||Ha(e)))return!e.length;var t=fs(e);if(t==S||t==P)return!e.size;if(xs(e))return!Lr(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Rr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Vn.isError=Xa,Vn.isFinite=function(e){return"number"==typeof e&&bt(e)},Vn.isFunction=Qa,Vn.isInteger=Ja,Vn.isLength=Za,Vn.isMap=to,Vn.isMatch=function(e,t){return e===t||Mr(e,t,us(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Mr(e,t,us(t),n)},Vn.isNaN=function(e){return no(e)&&e!=+e},Vn.isNative=function(e){if(_s(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=no,Vn.isObject=$a,Vn.isObjectLike=eo,Vn.isPlainObject=ro,Vn.isRegExp=io,Vn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=f},Vn.isSet=so,Vn.isString=ao,Vn.isSymbol=oo,Vn.isTypedArray=lo,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return eo(e)&&fs(e)==M},Vn.isWeakSet=function(e){return eo(e)&&"[object WeakSet]"==Sr(e)},Vn.join=function(e,t){return null==e?"":wt.call(e,t)},Vn.kebabCase=Wo,Vn.last=Xs,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=fo(n))<0?Yt(r+s,0):bn(s,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Ht(e,Gt,s,!0)},Vn.lowerCase=Go,Vn.lowerFirst=qo,Vn.lt=co,Vn.lte=uo,Vn.max=function(e){return e&&e.length?mr(e,rl,Cr):i},Vn.maxBy=function(e,t){return e&&e.length?mr(e,ls(t,2),Cr):i},Vn.mean=function(e){return qt(e,rl)},Vn.meanBy=function(e,t){return qt(e,ls(t,2))},Vn.min=function(e){return e&&e.length?mr(e,rl,Fr):i},Vn.minBy=function(e,t){return e&&e.length?mr(e,ls(t,2),Fr):i},Vn.stubArray=ml,Vn.stubFalse=gl,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Al,Vn.nth=function(e,t){return e&&e.length?zr(e,fo(t)):i},Vn.noConflict=function(){return mt._===this&&(mt._=Ve),this},Vn.noop=ll,Vn.now=Sa,Vn.pad=function(e,t,n){e=yo(e);var r=(t=fo(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(ft(i),n)+e+Wi(pt(i),n)},Vn.padEnd=function(e,t,n){e=yo(e);var r=(t=fo(t))?fn(e):0;return t&&r<t?e+Wi(t-r,n):e},Vn.padStart=function(e,t,n){e=yo(e);var r=(t=fo(t))?fn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),An(yo(e).replace(ae,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bs(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=po(e),t===i?(t=e,e=0):t=po(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=_n();return bn(e+s*(t-e+ht("1e-"+((s+"").length-1))),t)}return Yr(e,t)},Vn.reduce=function(e,t,n){var r=za(e)?Ot:Xt,i=arguments.length<3;return r(e,ls(t,4),n,i,dr)},Vn.reduceRight=function(e,t,n){var r=za(e)?Ft:Xt,i=arguments.length<3;return r(e,ls(t,4),n,i,pr)},Vn.repeat=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:fo(t),Xr(yo(e),t)},Vn.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,s=(t=bi(t,e)).length;for(s||(s=1,e=i);++r<s;){var a=null==e?i:e[Ls(t[r])];a===i&&(r=s,a=n),e=Qa(a)?a.call(e):a}return e},Vn.round=_l,Vn.runInContext=e,Vn.sample=function(e){return(za(e)?Jn:Jr)(e)},Vn.size=function(e){if(null==e)return 0;if(Ga(e))return ao(e)?fn(e):e.length;var t=fs(e);return t==S||t==P?e.size:Lr(e).length},Vn.snakeCase=Ko,Vn.some=function(e,t,n){var r=za(e)?Ut:ii;return n&&bs(e,t,n)&&(t=i),r(e,ls(t,3))},Vn.sortedIndex=function(e,t){return si(e,t)},Vn.sortedIndexBy=function(e,t,n){return ai(e,t,ls(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Ua(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return si(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return ai(e,t,ls(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Ua(e[n],t))return n}return-1},Vn.startCase=Yo,Vn.startsWith=function(e,t,n){return e=yo(e),n=null==n?0:or(fo(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Vn.subtract=xl,Vn.sum=function(e){return e&&e.length?Qt(e,rl):0},Vn.sumBy=function(e,t){return e&&e.length?Qt(e,ls(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&bs(e,t,n)&&(t=i),e=yo(e),t=Ao({},t,r,Zi);var s,a,o=Ao({},t.imports,r.imports,Zi),l=No(o),c=en(o,l),u=0,h=t.interpolate||_e,d="__p += '",p=Te((t.escape||_e).source+"|"+h.source+"|"+(h===ee?fe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),f="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,i,o,l){return r||(r=i),d+=e.slice(u,l).replace(xe,on),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),o&&(a=!0,d+="';\n"+o+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var m=je.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new oe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(G,""):d).replace(q,"$1").replace(K,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Zo((function(){return Ee(l,f+"return "+d).apply(i,c)}));if(g.source=d,Xa(g))throw g;return g},Vn.times=function(e,t){if((e=fo(e))<1||e>f)return[];var n=g,r=bn(e,g);t=ls(t),e-=g;for(var i=Jt(r,t);++n<e;)t(n);return i},Vn.toFinite=po,Vn.toInteger=fo,Vn.toLength=mo,Vn.toLower=function(e){return yo(e).toLowerCase()},Vn.toNumber=go,Vn.toSafeInteger=function(e){return e?or(fo(e),-9007199254740991,f):0===e?e:0},Vn.toString=yo,Vn.toUpper=function(e){return yo(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=yo(e))&&(n||t===i))return Zt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),s=mn(t);return Ai(r,nn(r,s),rn(r,s)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=yo(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return Ai(r,0,rn(r,mn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=yo(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return Ai(r,nn(r,mn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if($a(t)){var s="separator"in t?t.separator:s;n="length"in t?fo(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=yo(e)).length;if(ln(e)){var o=mn(e);a=o.length}if(n>=a)return e;var l=n-fn(r);if(l<1)return r;var c=o?Ai(o,0,l).join(""):e.slice(0,l);if(s===i)return c+r;if(o&&(l+=c.length-l),io(s)){if(e.slice(l).search(s)){var u,h=c;for(s.global||(s=Te(s.source,yo(me.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;c=c.slice(0,d===i?l:d)}}else if(e.indexOf(ci(s),l)!=l){var p=c.lastIndexOf(s);p>-1&&(c=c.slice(0,p))}return c+r},Vn.unescape=function(e){return(e=yo(e))&&Q.test(e)?e.replace(Y,vn):e},Vn.uniqueId=function(e){var t=++Le;return yo(e)+t},Vn.upperCase=Xo,Vn.upperFirst=Qo,Vn.each=va,Vn.eachRight=ya,Vn.first=Gs,ol(Vn,function(){var e={};return wr(Vn,(function(t,n){je.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),It(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:Yt(fo(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rl)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Pr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Da(ls(e)))},Wn.prototype.slice=function(e,t){e=fo(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fo(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Vn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);s&&(Vn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,l=t instanceof Wn,c=o[0],u=l||za(t),h=function(e){var t=s.apply(Vn,Lt([e],o));return r&&d?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=a&&!d,m=l&&!p;if(!a&&u){t=m?t:new Wn(this);var g=e.apply(t,o);return g.__actions__.push({func:da,args:[h],thisArg:i}),new zn(g,d)}return f&&m?e.apply(this,o):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(za(i)?i:[],e)}return this[n]((function(n){return t.apply(za(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";je.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Vi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=za(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=Yt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=s.start,o=s.end,l=o-a,c=r?o:a-1,u=this.__iteratees__,h=u.length,d=0,p=bn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return fi(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var m=-1,g=e[c+=t];++m<h;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}f[d++]=g}return f},Vn.prototype.at=pa,Vn.prototype.chain=function(){return ha(this)},Vn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=ho(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=Fs(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:da,args:[$s],thisArg:i}),new zn(t,this.__chain__)}return this.thru($s)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Je&&(Vn.prototype[Je]=function(){return this}),Vn}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},7340:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,s=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,o){o=o||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*s;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===c&&!1===isNaN(e))return o.long?a(l=e,i,"day")||a(l,r,"hour")||a(l,n,"minute")||a(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,O=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function ke(e,t){return e(t)}function Ie(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return ke(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ee)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Me=!1}function je(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Oe=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Oe=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Oe=null,je.apply(Ve,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,_t,xt,Et,St,Ct=!1,Tt=[],kt=null,It=null,Pt=null,Nt=new Map,Rt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==kt&&Ft(kt)&&(kt=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Bt(kt,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Mt.shift()}var zt=w.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function qt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Kt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Lt(kt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Lt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&At(s),null===(s=Xt(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=yi(e=Ae(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=O({},cn,{view:0,detail:0}),dn=sn(hn),pn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(O({},pn,{dataTransfer:0})),gn=sn(O({},hn,{relatedTarget:0})),vn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(O({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Cn=O({},hn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Cn),kn=sn(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Nn),Mn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,On=u&&(!Dn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){Fr(e,0)}function Xn(e){if(K(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Gn(t,Kn,e,Ae(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Sr("animationend"),Tr=Sr("animationiteration"),kr=Sr("animationstart"),Ir=Sr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Nr.length;Mr++){var Dr=Nr[Mr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(kr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Oe;Le=!1,Oe=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ne((function(){var r=s,i=Ae(n),a=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case Tr:case kr:l=vn;break;case Ir:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Re(f,d))&&u.push(Gr(f,m,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:wi(l),p=null==c?o:wi(c),(o=new u(m,f+"leave",l,n,i)).target=h,o.relatedTarget=p,m=null,yi(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=d;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)d=Kr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Yr(a,o,l,u,!1),null!==c&&null!==h&&Yr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Wn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Re(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,s))&&a.unshift(Gr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Gr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[pi]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ci(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},ki=Ei(Ti),Ii=Ei(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Si(Ii),Si(ki)}function Di(e,t,n){if(ki.current!==Ti)throw Error(s(168));Ci(ki,t),Ci(Ii,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return O({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=ki.current,Ci(ki,e),Ci(Ii,Ii.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ii),Si(ki),Ci(ki,e)):Si(Ii),Ci(Ii,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,Hi),i}finally{bt=t,Vi=!1}}return null}var zi=[],Wi=0,Gi=null,qi=0,Ki=[],Yi=0,Xi=null,Qi=1,Ji="";function Zi(e,t){zi[Wi++]=qi,zi[Wi++]=Gi,Gi=e,qi=t}function $i(e,t,n){Ki[Yi++]=Qi,Ki[Yi++]=Ji,Ki[Yi++]=Xi,Xi=e;var r=Qi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Qi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Gi;)Gi=zi[--Wi],zi[Wi]=null,qi=zi[--Wi],zi[Wi]=null;for(;e===Xi;)Xi=Ki[--Yi],Ki[Yi]=null,Ji=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=jc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Zi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=f(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===x?((s=jc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(j(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Oc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),As=bs(!1),_s=Ei(null),xs=null,Es=null,Ss=null;function Cs(){Ss=Es=xs=null}function Ts(e){var t=_s.current;Si(_s),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){xs=e,Ss=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===xs)throw Error(s(308));Es=e,xs.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ns=null;function Rs(e){null===Ns?Ns=[e]:Ns.push(e)}function Ms(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=O({},h,d);break e;case 2:js=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=h}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Gs=Ei(Ws),qs=Ei(Ws),Ks=Ei(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Ci(Ks,t),Ci(qs,e),Ci(Gs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Gs),Ci(Gs,t)}function Qs(){Si(Gs),Si(qs),Si(Ks)}function Js(e){Ys(Ks.current);var t=Ys(Gs.current),n=le(t,e.type);t!==n&&(Ci(qs,e),Ci(Gs,n))}function Zs(e){qs.current===e&&(Si(Gs),Si(qs))}var $s=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function pa(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:$a,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function xa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,ja(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Pa(9,Sa.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&ka(e)}function Ca(e,t,n){return n((function(){Ta(t)&&ka(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ka(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return ya().memoizedState}function Ra(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Pa(t,n,s,r))}aa.flags|=e,i.memoizedState=Pa(1|t,n,s,r)}function Da(e,t){return Ra(8390656,8,e,t)}function ja(e,t){return Ma(2048,8,e,t)}function La(e,t){return Ma(4,2,e,t)}function Oa(e,t){return Ma(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Fa.bind(null,t,e),n)}function Va(){}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return ya().memoizedState}function qa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Xa(t,n);else if(null!==(n=Ms(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Xa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ms(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ps,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ps,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Il.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$a={readContext:Ps,useCallback:Ba,useContext:Ps,useEffect:ja,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Oa,useMemo:Ha,useReducer:wa,useRef:Na,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return za(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:xa,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:Ba,useContext:Ps,useEffect:ja,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Oa,useMemo:Ha,useReducer:Aa,useRef:Na,useState:function(){return Aa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:za(t,oa.memoizedState,e)},useTransition:function(){return[Aa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:xa,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ri(t)?Pi:ki.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ri(t)?Pi:ki.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),uo(0,t)},n}function fo(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?As(t,null,n,r):ws(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ml,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ml,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Ml,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Ml,Rl),Rl|=r;return wo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Ri(n)?Pi:ki.current;return s=Ni(t,s),Is(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function To(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Is(t,i),null===t.stateNode)zo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ni(t,c=Ri(n)?Pi:ki.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),js=!1;var d=t.memoizedState;a.state=d,Hs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||js?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=js||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ni(t,l=Ri(n)?Pi:ki.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),js=!1,d=t.memoizedState,a.state=d,Hs(t,r,a,i);var f=t.memoizedState;o!==h||d!==f||Ii.current||js?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=js||io(t,n,c,r,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ko(e,t,n,r,s,i)}function ko(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Oi(t,n,!1),Wo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xs(e,t.containerInfo)}function Po(e,t,n,r,i){return ps(),fs(i),t.flags|=256,wo(e,t,n,r),t.child}var No,Ro,Mo,Do,jo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,i=t.pendingProps,a=$s.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci($s,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=jc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=jo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=jc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=jo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=Ji,Ki[Yi++]=Xi,Qi=e.id,Ji=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Mc(r,o):(o=jc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=jo,i}return e=(o=e.child).sibling,i=Mc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=$s.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci($s,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ri(t.type)&&Mi(),qo(t),null;case 3:return r=t.stateNode,Qs(),Si(Ii),Si(ki),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ro(e,t),qo(t),null;case 5:Zs(t);var i=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qo(t),null}if(e=Ys(Gs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),$(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,No(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qo(t),null;case 13:if(Si($s),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Qs(),Ro(e,t),null===e&&Hr(t.stateNode.containerInfo),qo(t),null;case 10:return Ts(t.type._context),qo(t),null;case 19:if(Si($s),null===(a=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci($s,1&$s.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Hl&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return qo(t),null}else 2*Je()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=$s.current,Ci($s,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Si(Ii),Si(ki),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Si($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si($s),null;case 4:return Qs(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}No=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Mo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Gs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||$o(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,dl(e,t,n),Qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));pl(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||h,ml(t,e),Qo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$o(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:$o(p,p.return);break;case 22:if(null!==p.memoizedState){Al(d);continue}}null!==f?(f.return=p,Zo=f):Al(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=a,(Qo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Zo=l):_l(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Xo=o,Qo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&il(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Al(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var xl,El=Math.ceil,Sl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,kl=0,Il=null,Pl=null,Nl=0,Rl=0,Ml=Ei(0),Dl=0,jl=null,Ll=0,Ol=0,Fl=0,Ul=null,Vl=null,Bl=0,Hl=1/0,zl=null,Wl=!1,Gl=null,ql=null,Kl=!1,Yl=null,Xl=0,Ql=0,Jl=null,Zl=-1,$l=0;function ec(){return 0!==(6&kl)?Je():-1!==Zl?Zl:Zl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Nl?Nl&-Nl:null!==ms.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&kl)&&e===Il||(e===Il&&(0===(2&kl)&&(Ol|=n),4===Dl&&oc(e,Nl)),rc(e,r),1===n&&0===kl&&0===(1&t.mode)&&(Hl=Je()+500,Ui&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Il?Nl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&kl)&&Hi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,$l=0,0!==(6&kl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=kl;kl|=2;var a=fc();for(Il===e&&Nl===t||(zl=null,Hl=Je()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}Cs(),Sl.current=a,kl=i,null!==Pl?t=0:(Il=null,Nl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=jl,dc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t))throw n=jl,dc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Vl,zl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Vl,zl),t);break}Ac(e,Vl,zl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Vl,zl),r);break}Ac(e,Vl,zl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&kl))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=jl,dc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Vl,zl),rc(e,Je()),null}function cc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Hl=Je()+500,Ui&&Hi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&kl)&&_c();var t=kl;kl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(kl=t))&&Hi()}}function hc(){Rl=Ml.current,Si(Ml)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Qs(),Si(Ii),Si(ki),na();break;case 5:Zs(r);break;case 4:Qs();break;case 13:case 19:Si($s);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Pl=e=Mc(e.current,null),Nl=Rl=t,Dl=0,jl=null,Fl=Ol=Ll=0,Vl=Ul=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ns=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Cs(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,Cl.current=null,null===n||null===n.return){Dl=1,jl=t,Pl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),fs(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,po(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Il||0===(268435455&Ll)&&0===(268435455&Ol)||oc(Il,Nl)}function gc(e,t){var n=kl;kl|=2;var r=fc();for(Il===e&&Nl===t||(zl=null,dc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Cs(),kl=n,Sl.current=r,null!==Pl)throw Error(s(261));return Il=null,Nl=0,Dl}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Xe();)bc(Pl)}function bc(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Ac(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yl);if(0!==(6&kl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Il&&(Pl=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=kl;kl|=4,Cl.current=null,function(e,t){if(ei=Wt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(A){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++h===r&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(A){Ec(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),kl=l,bt=o,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Hi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _c(){if(null!==Yl){var e=wt(Xl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&kl))throw Error(s(331));var i=kl;for(kl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var p=(h=Zo).sibling,f=h.return;if(sl(h),h===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===o){Zo=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,Zo=A;break e}Zo=l.return}}if(kl=i,Hi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function xc(e,t,n){e=Us(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Us(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Dl||3===Dl&&(130023424&Nl)===Nl&&500>Je()-Bl?dc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return jc(n.children,i,a,t);case E:o=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case I:return(e=Nc(13,n,t,i)).elementType=I,e.lanes=a,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case k:o=11;break e;case N:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ti;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return ji(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),ps();break;case 5:Js(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Ci($s,1&$s.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ci($s,1&$s.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=Ni(t,ki.current);Is(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=ko(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===N)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Po(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Wo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Oo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ks(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ps(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),zo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Is(t,n),so(t,r,i),oo(t,r,i,n),ko(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[fi]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ot(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&kl)&&(Hl=Je()+500,Hi()))}break;case 13:uc((function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},_t=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));K(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Ce,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7358:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case o:case a:case d:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return v(e)===c}},2706:(e,t,n)=>{"use strict";e.exports=n(7358)},1407:(e,t,n)=>{"use strict";n.d(t,{i:()=>h,A:()=>d});var r=n(5043);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var o=a.prototype;return o.getColumns=function(){var e=this.props,t=e.children,n=e.columnsCount,i=Array.from({length:n},(function(){return[]}));return r.Children.forEach(t,(function(e,t){e&&r.isValidElement(e)&&i[t%n].push(e)})),i},o.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map((function(t,n){return r.createElement("div",{key:n,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map((function(e){return e})))}))},o.render=function(){var e=this.props,t=e.gutter,n=e.className,s=e.style;return r.createElement("div",{style:i({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},s),className:n},this.renderColumns())},a}(r.Component);a.propTypes={},a.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};const o=a;var l="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,c=function(){var e=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return l((function(){n(!0)}),[]),t}(),t=(0,r.useState)(0),n=t[0],i=t[1],s=(0,r.useCallback)((function(){e&&i(window.innerWidth)}),[e]);return l((function(){if(e)return window.addEventListener("resize",s),s(),function(){return window.removeEventListener("resize",s)}}),[e,s]),n},u=function(e){var t=e.columnsCountBreakPoints,n=void 0===t?{350:1,750:2,900:3}:t,i=e.children,s=e.className,a=void 0===s?null:s,o=e.style,l=void 0===o?null:o,u=c(),h=(0,r.useMemo)((function(){var e=Object.keys(n).sort((function(e,t){return e-t})),t=e.length>0?n[e[0]]:1;return e.forEach((function(e){e<u&&(t=n[e])})),t}),[u,n]);return r.createElement("div",{className:a,style:l},r.Children.map(i,(function(e,t){return r.cloneElement(e,{key:t,columnsCount:h})})))};u.propTypes={};const h=u,d=o},5475:(e,t,n)=>{"use strict";var r,i;n.d(t,{I9:()=>p,N_:()=>g});var s=n(5043),a=n(7950),o=n(3216),l=n(1387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const h=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(b){}new Map;const d=(r||(r=n.t(s,2))).startTransition;(i||(i=n.t(a,2))).flushSync,(r||(r=n.t(s,2))).useId;function p(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();null==a.current&&(a.current=(0,l.TM)({window:i,v5Compat:!0}));let c=a.current,[u,h]=s.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},f=s.useCallback((e=>{p&&d?d((()=>h(e))):h(e)}),[h,p]);return s.useLayoutEffect((()=>c.listen(f)),[c,f]),s.createElement(o.Ix,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:d,state:p,target:g,to:v,preventScrollReset:y,unstable_viewTransition:w}=e,A=u(e,h),{basename:_}=s.useContext(o.jb),x=!1;if("string"===typeof v&&m.test(v)&&(n=v,f))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=(0,l.pb)(t.pathname,_);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:x=!0}catch(b){}let E=(0,o.$P)(v,{relative:i}),S=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u}=void 0===t?{}:t,h=(0,o.Zp)(),d=(0,o.zy)(),p=(0,o.x$)(e,{relative:c});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(d)===(0,l.AO)(p);h(e,{replace:n,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u})}}),[d,h,p,r,i,n,e,a,c,u])}(v,{replace:d,state:p,target:g,preventScrollReset:y,relative:i,unstable_viewTransition:w});return s.createElement("a",c({},A,{href:n||E,onClick:x||a?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:t,target:g}))}));var v,y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(y||(y={}))},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>p,BV:()=>j,C5:()=>R,Ix:()=>D,Zp:()=>v,g:()=>y,jb:()=>c,qh:()=>M,x$:()=>b,zy:()=>m});var i=n(5043),s=n(1387);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const o=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const u=i.createContext(null);const h=i.createContext({outlet:null,matches:[],isDataRoute:!1});const d=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,s.Oi)(!1);let{basename:r,navigator:a}=i.useContext(c),{hash:o,pathname:l,search:u}=b(e,{relative:n}),h=l;return"/"!==r&&(h="/"===l?r:(0,s.HS)([r,l])),a.createHref({pathname:h,search:u,hash:o})}function f(){return null!=i.useContext(u)}function m(){return f()||(0,s.Oi)(!1),i.useContext(u).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function v(){let{isDataRoute:e}=i.useContext(h);return e?function(){let{router:e}=k(C.UseNavigateStable),t=P(T.UseNavigateStable),n=i.useRef(!1);return g((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){f()||(0,s.Oi)(!1);let e=i.useContext(o),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(h),{pathname:l}=m(),u=JSON.stringify((0,s.yD)(a,n.v7_relativeSplatPath)),d=i.useRef(!1);return g((()=>{d.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!d.current)return;if("number"===typeof n)return void r.go(n);let a=(0,s.Gh)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,s.HS)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,u,l,e])}()}function y(){let{matches:e}=i.useContext(h),t=e[e.length-1];return t?t.params:{}}function b(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:a}=i.useContext(h),{pathname:o}=m(),l=JSON.stringify((0,s.yD)(a,r.v7_relativeSplatPath));return i.useMemo((()=>(0,s.Gh)(e,JSON.parse(l),o,"path"===n)),[e,l,o,n])}function w(e,t,n,r){f()||(0,s.Oi)(!1);let{navigator:o}=i.useContext(c),{matches:l}=i.useContext(h),d=l[l.length-1],p=d?d.params:{},g=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let v,y=m();if(t){var b;let e="string"===typeof t?(0,s.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,s.Oi)(!1),v=e}else v=y;let w=v.pathname||"/",A=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=(0,s.ue)(e,{pathname:A});let x=S(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},p,e.params),pathname:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&x?i.createElement(u.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:s.rc.Pop}},x):x}function A(){let e=function(){var e;let t=i.useContext(d),n=I(T.UseRouteError),r=P(T.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,s.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const _=i.createElement(A,null);class x extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(h.Provider,{value:this.props.routeContext},i.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(h.Provider,{value:t},r)}function S(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,s.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,r,s)=>{let a,o=!1,d=null,p=null;var f;n&&(a=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||_,u&&(h<0&&0===s?(f="route-fallback",!1||N[f]||(N[f]=!0),o=!0,p=null):h===s&&(o=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,s+1)),g=()=>{let t;return t=a?d:o?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(E,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(x,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var C=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C||{}),T=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(T||{});function k(e){let t=i.useContext(o);return t||(0,s.Oi)(!1),t}function I(e){let t=i.useContext(l);return t||(0,s.Oi)(!1),t}function P(e){let t=function(e){let t=i.useContext(h);return t||(0,s.Oi)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,s.Oi)(!1),n.route.id}const N={};(r||(r=n.t(i,2))).startTransition;function R(e){let{to:t,replace:n,state:r,relative:a}=e;f()||(0,s.Oi)(!1);let{future:o,static:l}=i.useContext(c),{matches:u}=i.useContext(h),{pathname:d}=m(),p=v(),g=(0,s.Gh)(t,(0,s.yD)(u,o.v7_relativeSplatPath),d,"path"===a),y=JSON.stringify(g);return i.useEffect((()=>p(JSON.parse(y),{replace:n,state:r,relative:a})),[p,y,a,n,r]),null}function M(e){(0,s.Oi)(!1)}function D(e){let{basename:t="/",children:n=null,location:r,navigationType:o=s.rc.Pop,navigator:l,static:h=!1,future:d}=e;f()&&(0,s.Oi)(!1);let p=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:p,navigator:l,static:h,future:a({v7_relativeSplatPath:!1},d)})),[p,d,l,h]);"string"===typeof r&&(r=(0,s.Rr)(r));let{pathname:g="/",search:v="",hash:y="",state:b=null,key:w="default"}=r,A=i.useMemo((()=>{let e=(0,s.pb)(g,p);return null==e?null:{location:{pathname:e,search:v,hash:y,state:b,key:w},navigationType:o}}),[p,g,v,y,b,w,o]);return null==A?null:i.createElement(c.Provider,{value:m},i.createElement(u.Provider,{children:n,value:A}))}function j(e){let{children:t,location:n}=e;return w(L(t),n)}new Promise((()=>{}));i.Component;function L(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,L(e.props.children,a));e.type!==M&&(0,s.Oi)(!1),e.props.index&&e.props.children&&(0,s.Oi)(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=L(e.props.children,a)),n.push(o)})),n}},1580:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(5173),i=n.n(r),s=n(5043),a=n(122),o=n.n(a),l=n(7282),c=n.n(l),u=Object.defineProperty,h=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&g(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&g(e,n,t[n]);return e},y=(e,t)=>h(e,d(t));function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(v({},e),{height:0,width:0,playerVars:y(v({},e.playerVars),{autoplay:0,start:0,end:0})})}var w={videoId:i().string,id:i().string,className:i().string,iframeClassName:i().string,style:i().object,title:i().string,loading:i().oneOf(["lazy","eager"]),opts:i().objectOf(i().any),onReady:i().func,onError:i().func,onPlay:i().func,onPause:i().func,onEnd:i().func,onStateChange:i().func,onPlaybackRateChange:i().func,onPlaybackQualityChange:i().func},A=class extends s.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,n;return null==(n=(t=this.props).onReady)?void 0:n.call(t,e)},this.onPlayerError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onPlayerStateChange=e=>{var t,n,r,i,s,a,o,l;switch(null==(n=(t=this.props).onStateChange)||n.call(t,e),e.data){case A.PlayerState.ENDED:null==(i=(r=this.props).onEnd)||i.call(r,e);break;case A.PlayerState.PLAYING:null==(a=(s=this.props).onPlay)||a.call(s,e);break;case A.PlayerState.PAUSED:null==(l=(o=this.props).onPause)||l.call(o,e)}},this.onPlayerPlaybackRateChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackRateChange)?void 0:n.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackQualityChange)?void 0:n.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"===typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=y(v({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=c()(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,n,r;if("undefined"===typeof this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let i=!1;const s={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),i?null==(n=this.internalPlayer)||n.loadVideoById(s):null==(r=this.internalPlayer)||r.cueVideoById(s)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,n=null,r=function*(){(function(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(s=t.opts)?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!o()(b(e.opts),b(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=(null==(n=e.opts)?void 0:n.playerVars)||{},s=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}(e,this.props)&&this.updateVideo()},new Promise(((e,i)=>{var s=e=>{try{o(r.next(e))}catch(t){i(t)}},a=e=>{try{o(r.throw(e))}catch(t){i(t)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,a);o((r=r.apply(t,n)).next())}));var t,n,r}componentWillUnmount(){this.destroyPlayer()}render(){return s.createElement("div",{className:this.props.className,style:this.props.style},s.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},_=A;_.propTypes=w,_.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},_.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var x=_},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+k(l,0):s,A(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",A(e))for(var c=0;c<e.length;c++){var u=s+k(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+k(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:x};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,M(_);else{var t=r(u);null!==t&&D(A,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var s=p;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(A,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,C=-1,T=5,k=-1;function I(){return!(t.unstable_now()-k<T)}function P(){if(null!==S){var e=t.unstable_now();k=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){v(P,0)};function M(e){S=e,E||(E=!0,x())}function D(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,D(A,s-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,M(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},6345:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},5956:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5039:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=o(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,o=n)}var a,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=a(e,h[0],h[1]);return l((function(){d.hasValue=!0,d.value=p}),[p]),u(p),p}},9461:(e,t,n)=>{"use strict";e.exports=n(5956)},8443:(e,t,n)=>{"use strict";e.exports=n(5039)},7101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4561),s=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[s.default.ENDED,s.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[s.default.ENDED,s.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[s.default.ENDED,s.default.PLAYING,s.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},1750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(6522)),i=o(n(7866)),s=o(n(144)),a=o(n(7101));function o(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){l('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,a=void 0;try{for(var o,c=s.default[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){n(o.value)}}catch(u){i=!0,a=u}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&a.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=a.default[r],i=e.getPlayerState(),s=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),s=void 0;"number"===typeof t.timeout&&(s=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(s),n())}))})).then((function(){return s})):s}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},s=!0,o=!1,l=void 0;try{for(var c,u=i.default[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){r(c.value)}}catch(h){o=!0,l=h}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}return n}};t.default=c,e.exports=t.default},4561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},7866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},7282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(n(6345)),s=o(n(4151)),a=o(n(1750));function o(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,i.default)();if(l||(l=(0,s.default)(o)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=a.default.proxyEvents(o);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):l.then((function(r){var i=new r.Player(e,t);return o.on("ready",(function(){n(i)})),null}))})),u=a.default.promisifyPlayer(c,n);return u.on=o.on,u.off=o.off,u},e.exports=t.default},4151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3452),s=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,s.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},4050:()=>{},9555:()=>{},2961:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={"reference-peace-first-page":"referencePeace_reference-peace-first-page__7pnQ-","reference-peace-page":"referencePeace_reference-peace-page__R1cRP","reference-peace-title-wrap":"referencePeace_reference-peace-title-wrap__cv75l","reference-peace-subtitle":"referencePeace_reference-peace-subtitle__aPt5m","last-subtext":"referencePeace_last-subtext__qFNV+","trail-image":"referencePeace_trail-image__hGNMp","reference-peace-title-reference":"referencePeace_reference-peace-title-reference__ZsQjl","reference-peace-title-peace":"referencePeace_reference-peace-title-peace__ZI8eJ","main-video-controls-overlay":"referencePeace_main-video-controls-overlay__FJ-B-","scroll-notification":"referencePeace_scroll-notification__6homu","reference-peace-subtext":"referencePeace_reference-peace-subtext__alUz8","subtext-description-wrap":"referencePeace_subtext-description-wrap__Qqise","reference-peace-projects-wrap":"referencePeace_reference-peace-projects-wrap__uu390","view-project-link":"referencePeace_view-project-link__y2v+h","projects-listing":"referencePeace_projects-listing__LNvjS","pin-spacer":"referencePeace_pin-spacer__JZg28","projects-image-wrap":"referencePeace_projects-image-wrap__nToTU","projects-image":"referencePeace_projects-image__S+bZ-",scrollText:"referencePeace_scrollText__ABBZq","reference-peace-single":"referencePeace_reference-peace-single__XNlHg","rp-title":"referencePeace_rp-title__m8WjC","rp-description":"referencePeace_rp-description__XBQvC","rp-title-wrap":"referencePeace_rp-title-wrap__qF4l-","parallax-image-wrap":"referencePeace_parallax-image-wrap__nscdr","masonry-section":"referencePeace_masonry-section__MDcOv","masonry-image":"referencePeace_masonry-image__ioj2l","pdf-page-numbers":"referencePeace_pdf-page-numbers__J3VZF","pdf-page-switchers":"referencePeace_pdf-page-switchers__BVKjF","pdf-page-next":"referencePeace_pdf-page-next__YZls2","main-section-video-wrap":"referencePeace_main-section-video-wrap__ZW4Oo","pdf-section":"referencePeace_pdf-section__U9tda","main-section-image":"referencePeace_main-section-image__0-0VL","main-description-right-wrap":"referencePeace_main-description-right-wrap__WOA4H","play-text":"referencePeace_play-text__zGnzr","play-text-toggle":"referencePeace_play-text-toggle__fZd+K","main-section-image-overlay":"referencePeace_main-section-image-overlay__jUGu7",playing:"referencePeace_playing__Q0g6-",video_container:"referencePeace_video_container__zmuVz",player__wrapper:"referencePeace_player__wrapper__8mIID",player:"referencePeace_player__fYGYf","progress-bar":"referencePeace_progress-bar__0so-c",progress:"referencePeace_progress__CXDr6","reference-peace-title":"referencePeace_reference-peace-title__aGCkZ","mobile-RP-sticker":"referencePeace_mobile-RP-sticker__w949U"}},6785:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/TuskerGrotesk-6700Bold.6827191b5810638992bf.ttf"},6562:(e,t,n)=>{"use strict";function r(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{A:()=>r})},8195:(e,t,n)=>{"use strict";function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(t,{A:()=>r})},8458:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t){return e.get((0,r.A)(e,t))}},5149:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8195);function i(e,t,n){(0,r.A)(e,t),t.set(e,n)}},4558:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t,n){return e.set((0,r.A)(e,t),n),n}},3205:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t,n){return n((0,r.A)(e,t))}},9790:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8195);function i(e,t){(0,r.A)(e,t),t.add(e)}},4705:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},1579:(e,t,n)=>{"use strict";function r(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}n.d(t,{A:()=>r})},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ue,j6:()=>se,xZ:()=>ae,om:()=>ie,Sx:()=>de,Wp:()=>he,KO:()=>pe});var r=n(8812),i=n(443),s=n(7700);const a=(e,t)=>t.some((t=>e instanceof t));let o,l;const c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return h.set(s,t.sort?t.sort():[t]),v(s)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));u.set(e,t)}(e),a(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,f):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(v(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=g(e);return t!==e&&(d.set(e,t),p.set(t,e)),t}const y=e=>p.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],A=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(A.get(t))return A.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return A.set(t,s),s}f=(e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)}))(f);class x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",S="0.10.5",C=new i.Vy("@firebase/app"),T="@firebase/app-compat",k="@firebase/analytics-compat",I="@firebase/analytics",P="@firebase/app-check-compat",N="@firebase/app-check",R="@firebase/auth",M="@firebase/auth-compat",D="@firebase/database",j="@firebase/database-compat",L="@firebase/functions",O="@firebase/functions-compat",F="@firebase/installations",U="@firebase/installations-compat",V="@firebase/messaging",B="@firebase/messaging-compat",H="@firebase/performance",z="@firebase/performance-compat",W="@firebase/remote-config",G="@firebase/remote-config-compat",q="@firebase/storage",K="@firebase/storage-compat",Y="@firebase/firestore",X="@firebase/vertexai-preview",Q="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",$={[E]:"fire-core",[T]:"fire-core-compat",[I]:"fire-analytics",[k]:"fire-analytics-compat",[N]:"fire-app-check",[P]:"fire-app-check-compat",[R]:"fire-auth",[M]:"fire-auth-compat",[D]:"fire-rtdb",[j]:"fire-rtdb-compat",[L]:"fire-fn",[O]:"fire-fn-compat",[F]:"fire-iid",[U]:"fire-iid-compat",[V]:"fire-fcm",[B]:"fire-fcm-compat",[H]:"fire-perf",[z]:"fire-perf-compat",[W]:"fire-rc",[G]:"fire-rc-compat",[q]:"fire-gcs",[K]:"fire-gcs-compat",[Y]:"fire-fst",[Q]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){C.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ie(e){const t=e.name;if(ne.has(t))return C.debug("There were multiple attempts to register component ".concat(t,".")),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return void 0!==e.settings}const oe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},le=new s.FA("app","Firebase",oe);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const ue="10.12.2";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Z,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw le.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw le.create("no-options");const o=ee.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw le.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of ne.values())l.addComponent(r);const c=new ce(n,i,l);return ee.set(a,c),c}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=ee.get(e);if(!t&&e===Z&&(0,s.T9)())return he();if(!t)throw le.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let s=null!==(i=$[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void C.warn(e.join(" "))}ie(new r.uA("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const fe="firebase-heartbeat-database",me=1,ge="firebase-heartbeat-store";let ve=null;function ye(){return ve||(ve=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=v(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(v(a.result),e.oldVersion,e.newVersion,v(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(fe,me,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(n){console.warn(n)}}}).catch((e=>{throw le.create("idb-open",{originalErrorMessage:e.message})}))),ve}async function be(e,t){try{const n=(await ye()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof s.g)C.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});C.warn(e.message)}}}function we(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_e();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_e(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ee(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ee(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _e(){return(new Date).toISOString().substring(0,10)}class xe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(ge),n=await t.objectStore(ge).get(we(e));return await t.done,n}catch(t){if(t instanceof s.g)C.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});C.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ee(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Se;Se="",ie(new r.uA("platform-logger",(e=>new x(e)),"PRIVATE")),ie(new r.uA("heartbeat",(e=>new Ae(e)),"PRIVATE")),pe(E,S,Se),pe(E,S,"esm2017"),pe("fire-js","")},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(7700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},4711:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{y:()=>o});var i=n(5043),s=n(9355),a=e([s]);function c(e){return"function"===typeof e}s=(a.then?(await a)():a)[0];var o=e=>{let{canvasRef:t,file:n,onDocumentLoadSuccess:r,onDocumentLoadFail:a,onPageLoadSuccess:o,onPageLoadFail:l,onPageRenderSuccess:u,onPageRenderFail:h,scale:d=1,rotate:p=0,page:f=1,cMapUrl:m,cMapPacked:g,workerSrc:v="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(s.rE,"/pdf.worker.mjs"),withCredentials:y=!1}=e;const[b,w]=(0,i.useState)(),[A,_]=(0,i.useState)(),x=(0,i.useRef)(null),E=(0,i.useRef)(null),S=(0,i.useRef)(r),C=(0,i.useRef)(a),T=(0,i.useRef)(o),k=(0,i.useRef)(l),I=(0,i.useRef)(u),P=(0,i.useRef)(h);return(0,i.useEffect)((()=>{S.current=r}),[r]),(0,i.useEffect)((()=>{C.current=a}),[a]),(0,i.useEffect)((()=>{T.current=o}),[o]),(0,i.useEffect)((()=>{k.current=l}),[l]),(0,i.useEffect)((()=>{I.current=u}),[u]),(0,i.useEffect)((()=>{P.current=h}),[h]),(0,i.useEffect)((()=>{s.EA.workerSrc=v}),[v]),(0,i.useEffect)((()=>{const e={url:n,withCredentials:y};m&&(e.cMapUrl=m,e.cMapPacked=g),s.YE(e).promise.then((e=>{w(e),c(S.current)&&S.current(e)}),(()=>{c(C.current)&&C.current()}))}),[n,y,m,g]),(0,i.useEffect)((()=>{const e=n=>{const r=0===p?n.rotate:n.rotate+p,i=n.getViewport({scale:d,rotation:r}),s=t.current;if(!s)return;const a=s.getContext("2d");return a?(s.height=i.height*window.devicePixelRatio,s.width=i.width*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio),x.current?(E.current=n,void x.current.cancel()):(x.current=n.render({canvasContext:a,viewport:i}),x.current.promise.then((()=>{x.current=null,c(I.current)&&I.current(n)}),(t=>{if(x.current=null,t&&"RenderingCancelledException"===t.name){var r;const t=null!==(r=E.current)&&void 0!==r?r:n;E.current=null,e(t)}else c(P.current)&&P.current()})))):void 0};b&&b.getPage(f).then((t=>{_(t),c(T.current)&&T.current(t),e(t)}),(()=>{c(k.current)&&k.current()}))}),[t,f,b,p,d]),{pdfDocument:b,pdfPage:A}};r()}catch(l){r(l)}}))},3106:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(4705);function i(e,t,n){return Math.max(e,Math.min(t,n))}class s{advance(e){var t;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,a=60*this.lerp,o=e,function(e,t,n){return(1-n)*e+n*t}(r,s,1-Math.exp(-a*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const t=i(0,this.currentTime/this.duration,1);n=t>=1;const r=n?1:this.easing(t);this.value=this.from+(this.to-this.from)*r}var r,s,a,o;null!==(t=this.onUpdate)&&void 0!==t&&t.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,n){let{lerp:r=.1,duration:i=1,easing:s=(e=>e),onStart:a,onUpdate:o}=n;this.from=this.value=e,this.to=t,this.lerp=r,this.duration=i,this.easing=s,this.currentTime=0,this.isRunning=!0,null!==a&&void 0!==a&&a(),this.onUpdate=o}}class a{constructor(){let{wrapper:e,content:t,autoResize:n=!0,debounce:i=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"resize",(()=>{this.onWrapperResize(),this.onContentResize()})),(0,r.A)(this,"onWrapperResize",(()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)})),(0,r.A)(this,"onContentResize",(()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)})),this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(e,t){let n;return function(){let r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;null!==(e=this.wrapperResizeObserver)&&void 0!==e&&e.disconnect(),null!==(t=this.contentResizeObserver)&&void 0!==t&&t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class o{constructor(){this.events={}}emit(e){let t=this.events[e]||[];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let s=0,a=t.length;s<a;s++)t[s](...r)}on(e,t){var n;return null!==(n=this.events[e])&&void 0!==n&&n.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter((e=>t!==e))}}off(e,t){var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter((e=>t!==e))}destroy(){this.events={}}}const l=100/6;class c{constructor(e,t){let{wheelMultiplier:n=1,touchMultiplier:i=1}=t;(0,r.A)(this,"onTouchStart",(e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})})),(0,r.A)(this,"onTouchMove",(e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,i=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:e})})),(0,r.A)(this,"onTouchEnd",(e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})})),(0,r.A)(this,"onWheel",(e=>{let{deltaX:t,deltaY:n,deltaMode:r}=e;t*=1===r?l:2===r?this.windowWidth:1,n*=1===r?l:2===r?this.windowHeight:1,t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})})),(0,r.A)(this,"onWindowResize",(()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight})),this.element=e,this.wheelMultiplier=n,this.touchMultiplier=i,this.touchStart={x:null,y:null},this.emitter=new o,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class u{constructor(){let{wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:n=e,eventsTarget:r=n,smoothWheel:i=!0,syncTouch:l=!1,syncTouchLerp:u=.075,touchInertiaMultiplier:h=35,duration:d,easing:p=(e=>Math.min(1,1.001-Math.pow(2,-10*e))),lerp:f=!d&&.1,infinite:m=!1,orientation:g="vertical",gestureOrientation:v="vertical",touchMultiplier:y=1,wheelMultiplier:b=1,autoResize:w=!0,__experimental__naiveDimensions:A=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=e=>{let{deltaX:t,deltaY:n,event:r}=e;if(r.ctrlKey)return;const i=r.type.includes("touch"),s=r.type.includes("wheel");if(this.options.syncTouch&&i&&"touchstart"===r.type&&!this.isStopped&&!this.isLocked)return void this.reset();const a=0===t&&0===n,o="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===t;if(a||o)return;let l=r.composedPath();if(l=l.slice(0,l.indexOf(this.rootElement)),l.find((e=>{var t,n,r,a,o;return(null===(t=e.hasAttribute)||void 0===t?void 0:t.call(e,"data-lenis-prevent"))||i&&(null===(n=e.hasAttribute)||void 0===n?void 0:n.call(e,"data-lenis-prevent-touch"))||s&&(null===(r=e.hasAttribute)||void 0===r?void 0:r.call(e,"data-lenis-prevent-wheel"))||(null===(a=e.classList)||void 0===a?void 0:a.contains("lenis"))&&!(null===(o=e.classList)||void 0===o?void 0:o.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void r.preventDefault();if(this.isSmooth=this.options.syncTouch&&i||this.options.smoothWheel&&s,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();r.preventDefault();let c=n;"both"===this.options.gestureOrientation?c=Math.abs(n)>Math.abs(t)?n:t:"horizontal"===this.options.gestureOrientation&&(c=t);const u=i&&this.options.syncTouch,h=i&&"touchend"===r.type&&Math.abs(c)>5;h&&(c=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+c,Object.assign({programmatic:!1},u?{lerp:h?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-e),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:n,eventsTarget:r,smoothWheel:i,syncTouch:l,syncTouchLerp:u,touchInertiaMultiplier:h,duration:d,easing:p,lerp:f,infinite:m,gestureOrientation:v,orientation:g,touchMultiplier:y,wheelMultiplier:b,autoResize:w,__experimental__naiveDimensions:A},this.animate=new s,this.emitter=new o,this.dimensions=new a({wrapper:e,content:t,autoResize:w}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||i,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new c(r,{touchMultiplier:y,wheelMultiplier:b}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e){let{offset:t=0,immediate:n=!1,lock:r=!1,duration:s=this.options.duration,easing:a=this.options.easing,lerp:o=!s&&this.options.lerp,onComplete:l,force:c=!1,programmatic:u=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isStopped&&!this.isLocked||c){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let n;if("string"==typeof e?n=document.querySelector(e):(null==e?void 0:e.nodeType)&&(n=e),n){if(this.options.wrapper!==window){const e=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const r=n.getBoundingClientRect();e=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):e=i(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(null==l||l(this));if(!u){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:a,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(e,t)=>{this.isScrolling=!0,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),u&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),null==l||l(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}},2813:(e,t,n)=>{"use strict";n.d(t,{xI:()=>An,x9:()=>tt});var r=n(7150),i=n(7700),s=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new s.Vy("@firebase/auth");function d(e){if(h.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];h.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw v(e,...n)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw v(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function w(e,t){e||b(t)}function A(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _(){return"http:"===x()||"https:"===x()}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function S(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class C{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},k=new E(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function P(e,t,n,r){return N(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});const o=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),C.fetch()(M(e,e.config.apiHost,n,o),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))}async function N(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},T),t);try{const t=new j(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw L(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw L(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw L(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw L(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,o,a);p(e,o)}}catch(s){if(s instanceof i.g)throw s;p(e,"network-request-failed",{message:String(s)})}}async function R(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await P(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{_serverResponse:s}),s}function M(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?S(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(f(this.auth,"network-request-failed"))),k.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function L(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(e,t,r);return i.customData._tokenResponse=n,i}function O(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function U(e,t){return P(e,"GET","/v2/recaptchaConfig",I(e,t))}async function V(e,t){return P(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function H(e){return 1e3*Number(e)}function z(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function W(e){const t=z(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function G(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class K{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t;const n=e.auth,r=await e.getIdToken(),i=await G(e,V(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?X(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new K(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}function X(e){return e.map((e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):W(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=W(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await N(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=M(e,r,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",C.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Q;return n&&(y("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return b("not implemented")}}function J(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await G(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=z(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:B(H(s.auth_time)),issuedAtTime:B(H(s.iat)),expirationTime:B(H(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await G(this,async function(e,t){return P(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:A,providerData:_,stsTokenManager:x}=t;y(b&&x,e,"internal-error");const E=Q.fromJSON(this.name,x);y("string"===typeof b,e,"internal-error"),J(u,e.name),J(h,e.name),y("boolean"===typeof w,e,"internal-error"),y("boolean"===typeof A,e,"internal-error"),J(d,e.name),J(p,e.name),J(f,e.name),J(m,e.name),J(g,e.name),J(v,e.name);const S=new Z({uid:b,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:A,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Q;r.updateFromServerResponse(t);const i=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];y(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?X(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Q;a.updateFromIdToken(n);const o=new Z({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new K(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const $=new Map;function ee(e){w(e instanceof Function,"Expected a class definition");let t=$.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$.set(e,t),t)}class te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}te.type="NONE";const ne=te;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=re(this.userKey,r.apiKey,i),this.fullPersistenceKey=re("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Z._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ee(ne),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ee(ne);const s=re(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Z._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ie(i,e,n)):new ie(i,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(de(t))return"Webos";if(oe(t))return"Safari";if((t.includes("chrome/")||le(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function oe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return pe(e)||ue(e)||de(e)||he(e)||/windows phone/i.test(e)||ce(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se((0,i.ZQ)());break;case"Worker":t="".concat(se((0,i.ZQ)()),"-").concat(e);break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(s)}class ge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ye{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ee(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await V(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ee(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return P(e,"GET","/v2/passwordPolicy",I(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return P(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ee(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(h.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];h.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,i.Ku)(e)}class we{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ae={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _e(e){return Ae.loadJS(e)}function xe(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ee{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;O(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new F(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&O(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ae.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_e(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Se(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ee(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ce(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Se(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Se(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Te(e,t,n){const r=be(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ke(t),{host:a,port:o}=function(e){const t=ke(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ie(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ie(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ie(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Ne(e,t){return P(e,"POST","/v1/accounts:signUp",t)}async function Re(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}class Me extends Pe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Me(e,t,"password")}static _fromEmailAndCode(e,t){return new Me(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ce(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Re);case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ce(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ne);case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class je extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new je(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new je(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Le={USER_NOT_FOUND:"user-not-found"};class Oe extends Pe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Oe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Oe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw L(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Le)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Oe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fe{constructor(e){var t,n,r,s,a,o;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Fe(t)}catch(n){return null}}}class Ue{constructor(){this.providerId=Ue.PROVIDER_ID}static credential(e,t){return Me._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fe.parseLink(t);return y(n,"argument-error"),Me._fromEmailAndCode(e,n.code,n.tenantId)}}Ue.PROVIDER_ID="password",Ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ve{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Be extends Ve{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class He extends Be{constructor(){super("facebook.com")}static credential(e){return je._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return He.credential(t.oauthAccessToken)}catch(n){return null}}}He.FACEBOOK_SIGN_IN_METHOD="facebook.com",He.PROVIDER_ID="facebook.com";class ze extends Be{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return je._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ze.credential(n,r)}catch(i){return null}}}ze.GOOGLE_SIGN_IN_METHOD="google.com",ze.PROVIDER_ID="google.com";class We extends Be{constructor(){super("github.com")}static credential(e){return je._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return We.credential(t.oauthAccessToken)}catch(n){return null}}}We.GITHUB_SIGN_IN_METHOD="github.com",We.PROVIDER_ID="github.com";class Ge extends Be{constructor(){super("twitter.com")}static credential(e,t){return je._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ge.credential(n,r)}catch(i){return null}}}Ge.TWITTER_SIGN_IN_METHOD="twitter.com",Ge.PROVIDER_ID="twitter.com";class qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Z._fromIdTokenResponse(e,n,r),s=Ke(n);return new qe({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ke(n);return new qe({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ke(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ye extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ye.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ye(e,t,n,r)}}function Xe(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ye._fromErrorAndOperation(e,n,t,r);throw n}))}async function Qe(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await G(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qe._forOperation(e,"link",r)}async function Je(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const s="reauthenticate";try{const r=await G(e,Xe(i,s,t,e),n);y(r.idToken,i,"internal-error");const a=z(r.idToken);y(a,i,"internal-error");const{sub:o}=a;return y(e.uid===o,i,"user-mismatch"),qe._forOperation(e,s,r)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&p(i,"user-mismatch"),a}}async function Ze(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",s=await Xe(e,i,t),a=await qe._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function $e(e,t){return Ze(be(e),t)}async function et(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function tt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):$e((0,i.Ku)(e),Ue.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&et(e),t}))}new WeakMap;const nt="__sak";class rt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nt,"1"),this.storage.removeItem(nt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class it extends rt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.ZQ)();return oe(e)||pe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=fe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}it.type="LOCAL";const st=it;class at extends rt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}at.type="SESSION";const ot=at;class lt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new lt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lt.receivers=[];class ut{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=ct("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ht(){return window}function dt(){return"undefined"!==typeof ht().WorkerGlobalScope&&"function"===typeof ht().importScripts}const pt="firebaseLocalStorageDb",ft="firebaseLocalStorage",mt="fbase_key";class gt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function vt(e,t){return e.transaction([ft],t?"readwrite":"readonly").objectStore(ft)}function yt(){const e=indexedDB.open(pt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ft,{keyPath:mt})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ft)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pt);return new gt(e).toPromise()}(),t(await yt()))}))}))}async function bt(e,t,n){const r=vt(e,!0).put({[mt]:t,value:n});return new gt(r).toPromise()}function wt(e,t){const n=vt(e,!0).delete(t);return new gt(n).toPromise()}class At{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await yt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lt._getInstance(dt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ut(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yt();return await bt(e,nt,"1"),await wt(e,nt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>bt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=vt(e,!1).get(t),r=await new gt(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>wt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=vt(e,!1).getAll();return new gt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}At.type="LOCAL";const _t=At;xe("rcb"),new E(3e4,6e4);const xt="recaptcha";async function Et(e,t,n){var r;const i=await n.verify();try{let s;if(y("string"===typeof i,e,"argument-error"),y(n.type===xt,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){y("enroll"===t.type,e,"internal-error");const n=await function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;y(n,e,"missing-multi-factor-info");const a=await function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class St{constructor(e){this.providerId=St.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return Et(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Oe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return St.credentialFromTaggedObject(t)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Oe._fromTokenResponse(n,r):null}}function Ct(e,t){return t?ee(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}St.PROVIDER_ID="phone",St.PHONE_SIGN_IN_METHOD="phone";class Tt extends Pe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kt(e){return Ze(e.auth,new Tt(e),e.bypassAuthState)}function It(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Je(n,new Tt(e),e.bypassAuthState)}async function Pt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Qe(n,new Tt(e),e.bypassAuthState)}class Nt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kt;case"linkViaPopup":case"linkViaRedirect":return Pt;case"reauthViaPopup":case"reauthViaRedirect":return It;default:p(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rt=new E(2e3,1e4);class Mt extends Nt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Mt.currentPopupAction&&Mt.currentPopupAction.cancel(),Mt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=ct();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rt.get())};e()}}Mt.currentPopupAction=null;const Dt="pendingRedirect",jt=new Map;class Lt extends Nt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=jt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ut(t),r=Ft(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}jt.set(this.auth._key(),e)}return this.bypassAuthState||jt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ot(e,t){jt.set(e._key(),t)}function Ft(e){return ee(e._redirectPersistence)}function Ut(e){return re(Dt,e.config.apiKey,e.name)}async function Vt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),s=Ct(i,t),a=new Lt(i,s,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Bt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ht(e))}saveEventToCache(e){this.cachedEventUids.add(Ht(e)),this.lastProcessedEventTime=Date.now()}}function Ht(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function zt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Wt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gt=/^https?/;async function qt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return P(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Kt(r))return}catch(n){}p(e,"unauthorized-domain")}function Kt(e){const t=A(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gt.test(n))return!1;if(Wt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yt=new E(3e4,6e4);function Xt(){const e=ht().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qt(e){return new Promise(((t,n)=>{var r,i,s;function a(){Xt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xt(),n(f(e,"network-request-failed"))},timeout:Yt.get()})}if(null===(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ht().gapi)||void 0===s?void 0:s.load)){const t=xe("iframefcb");return ht()[t]=()=>{gapi.load?a():n(f(e,"network-request-failed"))},_e("".concat(Ae.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Jt=null,e}))}let Jt=null;const Zt=new E(5e3,15e3),$t="__/auth/iframe",en="emulator/auth/iframe",tn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?S(t,en):"https://".concat(e.config.authDomain,"/").concat($t),s={apiKey:t.apiKey,appName:e.name,v:r.MF},a=nn.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),"".concat(n,"?").concat((0,i.Am)(s).slice(1))}async function sn(e){const t=await function(e){return Jt=Jt||Qt(e),Jt}(e),n=ht().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:rn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=f(e,"network-request-failed"),s=ht().setTimeout((()=>{r(i)}),Zt.get());function a(){ht().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const an={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class on{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ln(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},an),{width:r.toString(),height:s.toString(),top:a,left:o}),u=(0,i.ZQ)().toLowerCase();n&&(l=le(u)?"_blank":n),ae(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new on(null);const d=window.open(t||"",l,h);y(d,e,"popup-blocked");try{d.focus()}catch(p){}return new on(d)}const cn="__/auth/handler",un="emulator/auth/handler",hn=encodeURIComponent("fac");async function dn(e,t,n,s,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:a};if(t instanceof Ve){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Be){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),h=u?"#".concat(hn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(cn);return S(t,un)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(h)}const pn="webStorageSupport";const fn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ot,this._completeRedirectFn=Vt,this._overrideRedirectResult=Ot}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ln(e,await dn(e,t,n,A(),r),ct())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ht().location.href=e}(await dn(e,t,n,A(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await sn(e),n=new Bt(e);return t.register("authEvent",(t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pn,{type:pn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[pn];void 0!==i&&t(!!i),p(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fe()||oe()||pe()}};var mn="@firebase/auth",gn="1.7.4";class vn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yn=(0,i.XA)("authIdTokenMaxAge")||300;let bn=null;const wn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yn)return;const i=null===n||void 0===n?void 0:n.token;bn!==i&&(bn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;p(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:fn,persistence:[_t,st,ot]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=wn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const a=(0,i.Tj)("auth");return a&&Te(n,"http://".concat(a)),n}var _n;Ae={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_n="Browser",(0,r.om)(new o.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:_n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(_n)},c=new ye(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new o.uA("auth-internal",(e=>(e=>new vn(e))(be(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(mn,gn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_n)),(0,r.KO)(mn,gn,"esm2017")},5472:(e,t,n)=>{"use strict";n.d(t,{rJ:()=>ja,kd:()=>Go,H9:()=>La,x7:()=>Vo,GG:()=>Ho,aU:()=>Va,AB:()=>Io,aQ:()=>qo,My:()=>To,P:()=>_o,O5:()=>Jo,BN:()=>zo,mZ:()=>Wo,_M:()=>Eo,wP:()=>Zo});var r,i,s=n(7150),a=n(8812),o=n(443),l=n(7700),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new s([0|e],0>e?-1:0)})):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),h=o(1),d=o(16777216);function p(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(h)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(p(t))throw Error("division by zero");if(p(e))return new y(c,c);if(f(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(f(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=A(n,1),s=A(r,1);for(r=A(r,2),n=A(n,2);!p(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=A(r,1),n=A(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=l(n)).j(t);f(a)||0<a.l(e);)a=(s=l(n-=r)).j(t);p(s)&&(s=h),i=i.add(s),e=g(e,a)}return new y(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function A(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(f(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(f(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,s=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(p(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(0>this.l(d)&&0>e.l(d))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,h=65535&e.i(i);n[2*r+2*i]+=o*h,v(n,2*r+2*i),n[2*r+2*i+1]+=a*h,v(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=u.Integer=s}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,d,p,f,m,g,v,y,b,w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},A={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof w&&w];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function x(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function k(e){return k[" "](e),e}k[" "]=function(){};var I=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function D(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout((()=>{throw e}),0)}function L(){var e=B;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var O=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new F),(e=>e.reset()));class F{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let U,V=!1,B=new class{constructor(){this.h=this.g=null}add(e,t){const n=O.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},H=()=>{const e=i.Promise.resolve(void 0);U=()=>{e.then(z)}};var z=()=>{for(var e;e=L();){try{e.h.call(e.g)}catch(n){j(n)}var t=O;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}V=!1};function W(){this.s=this.s,this.C=this.C}function G(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},G.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function K(e,t){if(G.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{k(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Y[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&K.aa.h.call(this)}}_(K,G);var Y={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Q=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Q,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=te(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new J(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),re={};function ie(e,t,n,r,i){if(r&&r.once)return ae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=pe(n),e&&e[X]?e.K(t,n,a(r)?!!r.capture:!!r,i):se(e,t,n,!1,r,i)}function se(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=he(e);if(l||(e[ne]=l=new $(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)q||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ae(e,t[s],n,r,i);return null}return n=pe(n),e&&e[X]?e.L(t,n,a(r)?!!r.capture:!!r,i):se(e,t,n,!0,r,i)}function oe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)oe(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=pe(n),e&&e[X]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(s=e.g[t],n,r,i))&&(Z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=he(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,r,i)),(n=-1<e?t[e]:null)&&le(n))}function le(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[X])ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=he(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):Z(e)}}}function ce(e){return e in re?re[e]:re[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new K(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&le(e),e=n.call(r,t)}return e}function he(e){return(e=e[ne])instanceof $?e:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(e){return"function"===typeof e?e:(e[de]||(e[de]=function(t){return e.handleEvent(t)}),e[de])}function fe(){W.call(this),this.i=new $(this),this.M=this,this.F=null}function me(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new G(t,e);else if(t instanceof G)t.target=t.target||e;else{var i=t;M(t=new G(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ge(a,r,!0,t)&&i}if(i=ge(a=t.g=e,r,!0,t)&&i,i=ge(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ge(a=t.g=n[s],r,!1,t)&&i}function ge(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&ee(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ve(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ye(e){e.g=ve((()=>{e.g=null,e.i&&(e.i=!1,ye(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}_(fe,W),fe.prototype[X]=!0,fe.prototype.removeEventListener=function(e,t,n,r){oe(this,e,t,n,r)},fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.F=null},fe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fe.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class be extends W{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(e){W.call(this),this.h=e,this.g={}}_(we,W);var Ae=[];function _e(e){P(e.g,(function(e,t){this.g.hasOwnProperty(t)&&le(e)}),e),e.g={}}we.prototype.N=function(){we.aa.N.call(this),_e(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,Ee=i.JSON.parse,Se=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ce(){}function Te(e){return e.h||(e.h=e.i())}function ke(){}Ce.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pe(){G.call(this,"d")}function Ne(){G.call(this,"c")}_(Pe,G),_(Ne,G);var Re={},Me=null;function De(){return Me=Me||new fe}function je(e){G.call(this,Re.La,e)}function Le(e){const t=De();me(t,new je(t))}function Oe(e,t){G.call(this,Re.STAT_EVENT,e),this.stat=t}function Fe(e){const t=De();me(t,new Oe(t,e))}function Ue(e,t){G.call(this,Re.Ma,e),this.size=t}function Ve(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Be(){this.g=!0}function He(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return xe(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Re.La="serverreachability",_(je,G),Re.STAT_EVENT="statevent",_(Oe,G),Re.Ma="timingevent",_(Ue,G),Be.prototype.xa=function(){this.g=!1},Be.prototype.info=function(){};var ze,We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qe(){}function Ke(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}_(qe,Ce),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},ze=new qe;var Xe={},Qe={};function Je(e,t,n){e.L=1,e.v=xt(yt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ot(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ye,e.g=Sn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new be(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(Ae[0]=i.toString()),i=Ae);for(var s=0;s<i.length;s++){var a=ie(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Xe:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ve(c(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function it(e){0==e.j.G||e.J||wn(e.j,e)}function st(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,_e(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function at(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ht(n.h,e)))if(!e.K&&ht(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),cn(n)}gn(n),Fe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ve(c(n.Za,n),6e3));if(1>=ut(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else _n(n,11)}else if((e.K||n.g==e)&&bn(n),!C(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,_t(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=En(r,r.J?r.ia:null,r.W),a.K){pt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(rt(o),tt(o)),r.g=a}else mn(r);0<n.i.length&&hn(n)}else"stop"!=c[0]&&"close"!=c[0]||_n(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?_n(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Le()}catch(u){}}Ke.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Ke.prototype.Y=function(e){try{if(e==this.g)e:{const d=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||sn(this.g)))){this.J||4!=d||7==t||Le(),rt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=sn(this.g);e="";var s=r.length,a=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){st(this),it(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Fe(12),st(this),it(this);break e}He(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,at(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=et(this,o),e==Qe){4==d&&(this.s=4,Fe(14),n=!1),He(this.i,this.l,null,"[Incomplete Response]");break}if(e==Xe){this.s=4,Fe(15),He(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}He(this.i,this.l,e,null),at(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Fe(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),vn(h),h.M=!0,Fe(11))}}else He(this.i,this.l,o,"[Invalid Chunked Response]"),st(this),it(this)}else He(this.i,this.l,o,null),at(this,o);4==d&&st(this),this.o&&!this.J&&(4==d?wn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=D(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),st(this),it(this)}}}catch(d){}},Ke.prototype.cancel=function(){this.J=!0,st(this)},Ke.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Le(),Fe(17)),st(this),this.s=2,it(this)):nt(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function lt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ut(e){return e.h?1:e.g?e.g.size:0}function ht(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dt(e,t){e.g?e.g.add(t):e.h=t}function pt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ft(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return x(e.i)}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}lt.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof vt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Mt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),At(this,n),this.m=e.m}else e&&(t=String(e).match(gt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=Et(t[2]||""),this.g=Et(t[3]||"",!0),wt(this,t[4]),this.l=Et(t[5]||"",!0),At(this,t[6]||"",!0),this.m=Et(t[7]||"")):(this.h=!1,this.i=new Mt(null,this.h))}function yt(e){return new vt(e)}function bt(e,t,n){e.j=n?Et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function At(e,t,n){t instanceof Mt?(e.i=t,function(e,t){t&&!e.j&&(Dt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Ot(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=St(t,Nt)),e.i=new Mt(t,e.h))}function _t(e,t,n){e.i.set(t,n)}function xt(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function St(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ct),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(St(t,kt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(St(t,kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(St(n,"/"==n.charAt(0)?Pt:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",St(n,Rt)),e.join("")};var Tt,kt=/[#\/\?@]/g,It=/[#\?:]/g,Pt=/[#\?]/g,Nt=/[#\?@]/g,Rt=/#/g;function Mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){Dt(e),t=Ft(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Dt(e),t=Ft(e,t),e.g.has(t)}function Ot(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Ft(e,t),x(n)),e.h+=n.length)}function Ft(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ut(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Vt(){this.g=new Se}function Bt(e,t,n){const r=n||"";try{mt(e,(function(e,n){let i=e;a(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ht(e){this.l=e.Ub||null,this.j=e.eb||!1}function zt(e,t){fe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Wt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Gt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,qt(e)}function qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return P(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Yt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_t(e,t,n))}function Xt(e){fe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Mt.prototype).add=function(e,t){Dt(this),this.i=null,e=Ft(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Dt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Dt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Dt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Ft(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Dt(this),this.i=null,Lt(this,e=Ft(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},_(Ht,Ce),Ht.prototype.g=function(){return new zt(this.l,this.j)},Ht.prototype.i=(Tt={},function(){return Tt}),_(zt,fe),(e=zt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,qt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gt(this):qt(this),3==this.readyState&&Wt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Gt(this))},e.Qa=function(e){this.g&&(this.response=e,Gt(this))},e.ga=function(){this.g&&Gt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),_(Xt,fe);var Qt=/^https?$/i,Jt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tn(e)}function $t(e){e.A||(e.A=!0,me(e,"complete"),me(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))ve(e.Ea,0,e);else if(me(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(gt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Qt.test(a?a.toLowerCase():"")}n=s}if(n)me(e,"complete"),me(e,"success");else{e.m=6;try{var o=2<rn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||me(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function sn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(E){return null}}function an(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=an("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=an("baseRetryDelayMs",5e3,e),this.cb=an("retryDelaySeedMs",1e4,e),this.Wa=an("forwardChannelMaxRetries",2,e),this.wa=an("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new lt(e&&e.concurrentRequestLimit),this.Da=new Vt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=yt(e.I);if(_t(n,"SID",e.K),_t(n,"RID",t),_t(n,"TYPE","terminate"),pn(e,n),(t=new Ke(e,e.j,t)).L=2,t.v=xt(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}xn(e)}function cn(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function hn(e){if(!ct(e.h)&&!e.s){e.s=!0;var t=e.Ga;U||H(),V||(U(),V=!0),B.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);_t(r,"SID",e.K),_t(r,"RID",n),_t(r,"AID",e.T),pn(e,r),e.m&&e.o&&Yt(r,e.m,e.o),n=new Ke(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),dt(e.h,n),Je(n,r,t)}function pn(e,t){e.H&&P(e.H,(function(e,n){_t(t,n,e)})),e.l&&mt({},(function(e,n){_t(t,n,e)}))}function fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Bt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;U||H(),V||(U(),V=!0),B.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ve(c(e.Fa,e),An(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Ke(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);_t(t,"RID","rpc"),_t(t,"SID",e.K),_t(t,"AID",e.T),_t(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&_t(t,"TO",e.ja),_t(t,"TYPE","xmlhttp"),pn(e,t),e.m&&e.o&&Yt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(yt(t)),n.m=null,n.P=!0,Ze(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),vn(e),e.g=null;var r=2}else{if(!ht(e.h,t))return;n=t.D,pt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;me(r=De(),new Ue(r,n)),hn(e)}else mn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ut(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ve(c(e.Ga,e,t),An(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:_n(e,5);break;case 4:_n(e,10);break;case 3:_n(e,6);break;default:_n(e,2)}}function An(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function _n(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new vt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),xt(r),t?function(e,t){const n=new Be;if(i.Image){const r=new Image;r.onload=u(Ut,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ut,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ut,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ut,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Be;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ut(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ut(0,0,!0,t):Ut(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ut(0,0,!1,t)}))}(r.toString(),n)}else Fe(2);e.G=0,e.l&&e.l.sa(t),xn(e),un(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ft(e.h);0==t.length&&0==e.i.length||(S(e.ka,t),S(e.ka,e.i),e.h.i.length=0,x(e.i),e.i.length=0),e.l.ra()}}function En(e,t,n){var r=n instanceof vt?yt(n):new vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new vt(null);r&&bt(a,r),t&&(a.g=t),s&&wt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&_t(r,n,t),_t(r,"VER",e.la),pn(e,r),r}function Sn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Xt(new Ht({eb:n})):new Xt(e.pa)).Ha(e.J),t}function Cn(){}function Tn(){}function kn(e,t){fe.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!C(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function In(e){Pe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pn(){Ne.call(this),this.status=1}function Nn(e){this.g=e}(e=Xt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Te(this.o):Te(ze),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Zt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Zt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,me(this,"complete"),me(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(Tt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Tt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Fe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),hn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ke(this,this.j,e);let s=this.o;if(this.S&&(s?(s=N(s),M(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,i,t),_t(n=yt(this.I),"RID",e),_t(n,"CVER",22),this.D&&_t(n,"X-HTTP-Session-Id",this.D),pn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Kt(s)))+"&"+t:this.m&&Yt(n,this.m,s)),dt(this.h,i),this.Ua&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",t),_t(n,"SID","null"),i.T=!0,Je(i,n,null)):Je(i,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||ct(this.h)||dn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ve(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),cn(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),gn(this),Fe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Cn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new kn(e,t)},_(kn,fe),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){ln(this.g)},kn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new ot(t.Ya++,e)),3==t.G&&hn(t)},kn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,kn.aa.N.call(this)},_(In,Pe),_(Pn,Ne),_(Nn,Cn),Nn.prototype.ua=function(){me(this.g,"a")},Nn.prototype.ta=function(e){me(this.g,new In(e))},Nn.prototype.sa=function(e){me(this.g,new Pn)},Nn.prototype.ra=function(){me(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,b=A.createWebChannelTransport=function(){return new Tn},y=A.getStatEventTarget=function(){return De()},v=A.Event=Re,g=A.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,m=A.ErrorCode=We,Ge.COMPLETE="complete",f=A.EventType=Ge,ke.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",fe.prototype.listen=fe.prototype.K,p=A.WebChannel=ke,d=A.FetchXmlHttpFactory=Ht,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,h=A.XhrIo=Xt}).apply("undefined"!==typeof w?w:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const _="@firebase/firestore";class x{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}x.UNAUTHENTICATED=new x(null),x.GOOGLE_CREDENTIALS=new x("google-credentials-uid"),x.FIRST_PARTY=new x("first-party-uid"),x.MOCK_USER=new x("mock-user");let E="10.12.1";const S=new o.Vy("@firebase/firestore");function C(){return S.logLevel}function T(e){if(S.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);S.debug("Firestore (".concat(E,"): ").concat(e),...i)}}function k(e){if(S.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);S.error("Firestore (".concat(E,"): ").concat(e),...i)}}function I(e){if(S.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);S.warn("Firestore (".concat(E,"): ").concat(e),...i)}}function P(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+e;throw k(t),new Error(t)}function R(e,t){e||N()}function M(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class L{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class O{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(x.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class V{constructor(e){this.t=e,this.currentUser=x.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new L;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new L,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new L)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken),new O(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e),new x(e)}}class B{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=x.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new B(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(x.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(R("string"==typeof e.token),this.R=e.token,new z(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class q{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=G(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function K(e,t){return e<t?-1:e>t?1:0}function Y(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class X{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return X.fromMillis(Date.now())}static fromDate(e){return X.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new X(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new X(0,0))}static max(){return new Q(new X(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J{constructor(e,t,n){void 0===t?t=0:t>e.length&&N(),void 0===n?n=e.length-t:n>e.length-t&&N(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===J.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Z extends J{construct(e,t,n){return new Z(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Z(e)}static emptyPath(){return new Z([])}}const $=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends J{construct(e,t,n){return new ee(e,t,n)}static isValidIdentifier(e){return $.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ee(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new j(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ee(t)}static emptyPath(){return new ee([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(Z.fromString(e))}static fromName(e){return new te(Z.fromString(e).popFirst(5))}static empty(){return new te(Z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Z.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Z.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Z(e.slice()))}}class ne{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ne.UNKNOWN_ID=-1;function re(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new se(i,te.empty(),t)}function ie(e){return new se(e.readTime,e.key,-1)}class se{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new se(Q.min(),te.empty(),-1)}static max(){return new se(Q.max(),te.empty(),-1)}}function ae(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=te.comparator(e.documentKey,t.documentKey),0!==n?n:K(e.largestBatchId,t.largestBatchId))}const oe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class le{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ce(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==oe)throw e;T("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(e){return ue.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,n)=>{t(e)}))}static reject(e){return new ue(((t,n)=>{n(e)}))}static waitFor(e){return new ue(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ue.resolve(!1);for(const n of e)t=t.next((e=>e?ue.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ue(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ue(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function he(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function de(e){return"IndexedDbTransactionError"===e.name}class pe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function fe(e){return null==e}function me(e){return 0===e&&1/e==-1/0}function ge(e){return"number"==typeof e&&Number.isInteger(e)&&!me(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}pe.oe=-1;const ve=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ye=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],be=ye;function we(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ae(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xe{constructor(e,t){this.comparator=e,this.root=t||Se.EMPTY}insert(e,t){return new xe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Se.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Se.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ee(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ee(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ee(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ee(this.root,e,this.comparator,!0)}}class Ee{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Se{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Se.RED,this.left=null!=r?r:Se.EMPTY,this.right=null!=i?i:Se.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Se(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Se.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Se.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Se.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();const e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}Se.EMPTY=null,Se.RED=!0,Se.BLACK=!1,Se.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Se(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Te(this.data.getIterator())}getIteratorFrom(e){return new Te(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ce))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ce(this.comparator);return t.data=e,t}}class Te{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ke{constructor(e){this.fields=e,e.sort(ee.comparator)}static empty(){return new ke([])}unionWith(e){let t=new Ce(ee.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ke(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Y(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ie("Invalid base64 string: "+e):e}}(e);return new Pe(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pe(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const Ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Re(e){if(R(!!e),"string"==typeof e){let t=0;const n=Ne.exec(e);if(R(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(e.seconds),nanos:Me(e.nanos)}}function Me(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function De(e){return"string"==typeof e?Pe.fromBase64String(e):Pe.fromUint8Array(e)}function je(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Le(e){const t=e.mapValue.fields.__previous_value__;return je(t)?Le(t):t}function Oe(e){const t=Re(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}class Fe{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Ue{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ue("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ue&&e.projectId===this.projectId&&e.database===this.database}}const Ve={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Be(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?je(e)?4:tt(e)?9007199254740991:10:N()}function He(e,t){if(e===t)return!0;const n=Be(e);if(n!==Be(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oe(e).isEqual(Oe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Re(e.timestampValue),r=Re(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return De(e.bytesValue).isEqual(De(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Me(e.geoPointValue.latitude)===Me(t.geoPointValue.latitude)&&Me(e.geoPointValue.longitude)===Me(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Me(e.integerValue)===Me(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Me(e.doubleValue),r=Me(t.doubleValue);return n===r?me(n)===me(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Y(e.arrayValue.values||[],t.arrayValue.values||[],He);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(we(n)!==we(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!He(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function ze(e,t){return void 0!==(e.values||[]).find((e=>He(e,t)))}function We(e,t){if(e===t)return 0;const n=Be(e),r=Be(t);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Me(e.integerValue||e.doubleValue),r=Me(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ge(e.timestampValue,t.timestampValue);case 4:return Ge(Oe(e),Oe(t));case 5:return K(e.stringValue,t.stringValue);case 6:return function(e,t){const n=De(e),r=De(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=K(n[i],r[i]);if(0!==e)return e}return K(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=K(Me(e.latitude),Me(t.latitude));return 0!==n?n:K(Me(e.longitude),Me(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=We(n[i],r[i]);if(e)return e}return K(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ve.mapValue&&t===Ve.mapValue)return 0;if(e===Ve.mapValue)return 1;if(t===Ve.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=K(r[a],s[a]);if(0!==e)return e;const t=We(n[r[a]],i[s[a]]);if(0!==t)return t}return K(r.length,s.length)}(e.mapValue,t.mapValue);default:throw N()}}function Ge(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return K(e,t);const n=Re(e),r=Re(t),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function qe(e){return Ke(e)}function Ke(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Re(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return De(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return te.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ke(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ke(e.fields[i]));return n+"}"}(e.mapValue):N()}function Ye(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xe(e){return!!e&&"integerValue"in e}function Qe(e){return!!e&&"arrayValue"in e}function Je(e){return!!e&&"nullValue"in e}function Ze(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $e(e){return!!e&&"mapValue"in e}function et(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ae(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=et(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=et(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class nt{constructor(e){this.value=e}static empty(){return new nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$e(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=et(t)}setAll(e){let t=ee.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=et(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$e(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return He(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$e(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ae(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new nt(et(this.value))}}function rt(e){const t=[];return Ae(e.fields,((e,n)=>{const r=new ee([e]);if($e(n)){const e=rt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ke(t)}class it{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new it(e,0,Q.min(),Q.min(),Q.min(),nt.empty(),0)}static newFoundDocument(e,t,n,r){return new it(e,1,t,Q.min(),n,r,0)}static newNoDocument(e,t){return new it(e,2,t,Q.min(),Q.min(),nt.empty(),0)}static newUnknownDocument(e,t){return new it(e,3,t,Q.min(),Q.min(),nt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class st{constructor(e,t){this.position=e,this.inclusive=t}}function at(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(a.referenceValue),n.key):We(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ot(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!He(e.position[n],t.position[n]))return!1;return!0}class lt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ct(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ut{}class ht extends ut{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new bt(e,t,n):"array-contains"===t?new xt(e,n):"in"===t?new Et(e,n):"not-in"===t?new St(e,n):"array-contains-any"===t?new Ct(e,n):new ht(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new wt(e,n):new At(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(We(t,this.value)):null!==t&&Be(this.value)===Be(t)&&this.matchesComparison(We(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dt extends ut{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dt(e,t)}matches(e){return pt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pt(e){return"and"===e.op}function ft(e){return mt(e)&&pt(e)}function mt(e){for(const t of e.filters)if(t instanceof dt)return!1;return!0}function gt(e){if(e instanceof ht)return e.field.canonicalString()+e.op.toString()+qe(e.value);if(ft(e))return e.filters.map((e=>gt(e))).join(",");{const t=e.filters.map((e=>gt(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function vt(e,t){return e instanceof ht?function(e,t){return t instanceof ht&&e.op===t.op&&e.field.isEqual(t.field)&&He(e.value,t.value)}(e,t):e instanceof dt?function(e,t){return t instanceof dt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&vt(n,t.filters[r])),!0)}(e,t):void N()}function yt(e){return e instanceof ht?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(qe(e.value))}(e):e instanceof dt?function(e){return e.op.toString()+" {"+e.getFilters().map(yt).join(" ,")+"}"}(e):"Filter"}class bt extends ht{constructor(e,t,n){super(e,t,n),this.key=te.fromName(n.referenceValue)}matches(e){const t=te.comparator(e.key,this.key);return this.matchesComparison(t)}}class wt extends ht{constructor(e,t){super(e,"in",t),this.keys=_t("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class At extends ht{constructor(e,t){super(e,"not-in",t),this.keys=_t("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _t(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>te.fromName(e.referenceValue)))}class xt extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qe(t)&&ze(t.arrayValue,this.value)}}class Et extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ze(this.value.arrayValue,t)}}class St extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(ze(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ze(this.value.arrayValue,t)}}class Ct extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qe(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ze(this.value.arrayValue,e)))}}class Tt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function kt(e){return new Tt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function It(e){const t=M(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>gt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>qe(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>qe(e))).join(",")),t.ue=e}return t.ue}function Pt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ct(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ot(e.startAt,t.startAt)&&ot(e.endAt,t.endAt)}function Nt(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Rt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Mt(e,t,n,r,i,s,a,o){return new Rt(e,t,n,r,i,s,a,o)}function Dt(e){return new Rt(e)}function jt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lt(e){return null!==e.collectionGroup}function Ot(e){const t=M(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ce(ee.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new lt(r,n))})),e.has(ee.keyField().canonicalString())||t.ce.push(new lt(ee.keyField(),n))}return t.ce}function Ft(e){const t=M(e);return t.le||(t.le=Ut(t,Ot(e))),t.le}function Ut(e,t){if("F"===e.limitType)return kt(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new lt(e.field,t)}));const n=e.endAt?new st(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new st(e.startAt.position,e.startAt.inclusive):null;return kt(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Vt(e,t){const n=e.filters.concat([t]);return new Rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Bt(e,t,n){return new Rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ht(e,t){return Pt(Ft(e),Ft(t))&&e.limitType===t.limitType}function zt(e){return"".concat(It(Ft(e)),"|lt:").concat(e.limitType)}function Wt(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>yt(e))).join(", "),"]")),fe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>qe(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>qe(e))).join(",")),"Target(".concat(t,")")}(Ft(e)),"; limitType=").concat(e.limitType,")")}function Gt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):te.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ot(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=at(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ot(e),t))&&!(e.endAt&&!function(e,t,n){const r=at(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ot(e),t))}(e,t)}function qt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kt(e){return(t,n)=>{let r=!1;for(const i of Ot(e)){const e=Yt(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Yt(e,t,n){const r=e.field.isKeyField()?te.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?We(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}class Xt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ae(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return _e(this.inner)}size(){return this.innerSize}}const Qt=new xe(te.comparator);function Jt(){return Qt}const Zt=new xe(te.comparator);function $t(){let e=Zt;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function en(e){let t=Zt;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function tn(){return rn()}function nn(){return rn()}function rn(){return new Xt((e=>e.toString()),((e,t)=>e.isEqual(t)))}const sn=new xe(te.comparator),an=new Ce(te.comparator);function on(){let e=an;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ln=new Ce(K);function cn(){return ln}function un(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(t)?"-0":t}}function hn(e){return{integerValue:""+e}}function dn(e,t){return ge(t)?hn(t):un(e,t)}class pn{constructor(){this._=void 0}}function fn(e,t,n){return e instanceof vn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&je(t)&&(t=Le(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yn?bn(e,t):e instanceof wn?An(e,t):function(e,t){const n=gn(e,t),r=xn(n)+xn(e.Pe);return Xe(n)&&Xe(e.Pe)?hn(r):un(e.serializer,r)}(e,t)}function mn(e,t,n){return e instanceof yn?bn(e,t):e instanceof wn?An(e,t):n}function gn(e,t){return e instanceof _n?function(e){return Xe(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vn extends pn{}class yn extends pn{constructor(e){super(),this.elements=e}}function bn(e,t){const n=En(t);for(const r of e.elements)n.some((e=>He(e,r)))||n.push(r);return{arrayValue:{values:n}}}class wn extends pn{constructor(e){super(),this.elements=e}}function An(e,t){let n=En(t);for(const r of e.elements)n=n.filter((e=>!He(e,r)));return{arrayValue:{values:n}}}class _n extends pn{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xn(e){return Me(e.integerValue||e.doubleValue)}function En(e){return Qe(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sn{constructor(e,t){this.field=e,this.transform=t}}class Cn{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class In{}function Pn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vn(e.key,Tn.none()):new jn(e.key,e.data,Tn.none());{const n=e.data,r=nt.empty();let i=new Ce(ee.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ln(e.key,r,new ke(i.toArray()),Tn.none())}}function Nn(e,t,n){e instanceof jn?function(e,t,n){const r=e.value.clone(),i=Fn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(e,t,n){if(!kn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(On(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rn(e,t,n,r){return e instanceof jn?function(e,t,n,r){if(!kn(e.precondition,t))return n;const i=e.value.clone(),s=Un(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(e,t,n,r){if(!kn(e.precondition,t))return n;const i=Un(e.fieldTransforms,r,t),s=t.data;return s.setAll(On(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return kn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=gn(r.transform,e||null);null!=i&&(null===n&&(n=nt.empty()),n.set(r.field,i))}return n||null}function Dn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Y(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yn&&t instanceof yn||e instanceof wn&&t instanceof wn?Y(e.elements,t.elements,He):e instanceof _n&&t instanceof _n?He(e.Pe,t.Pe):e instanceof vn&&t instanceof vn}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jn extends In{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ln extends In{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function On(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Fn(e,t,n){const r=new Map;R(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,mn(a,o,n[i]))}return r}function Un(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fn(e,s,t))}return r}class Vn extends In{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bn extends In{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hn{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nn(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=nn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Pn(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Q.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),on())}isEqual(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,((e,t)=>Dn(e,t)))&&Y(this.baseMutations,e.baseMutations,((e,t)=>Dn(e,t)))}}class zn{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){R(e.mutations.length===n.length);let r=sn;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zn(e,t,n,r)}}class Wn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gn{constructor(e,t){this.count=e,this.unchangedNames=t}}var qn,Kn;function Yn(e){switch(e){default:return N();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Xn(e){if(void 0===e)return k("GRPC error has no .code"),D.UNKNOWN;switch(e){case qn.OK:return D.OK;case qn.CANCELLED:return D.CANCELLED;case qn.UNKNOWN:return D.UNKNOWN;case qn.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case qn.INTERNAL:return D.INTERNAL;case qn.UNAVAILABLE:return D.UNAVAILABLE;case qn.UNAUTHENTICATED:return D.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case qn.NOT_FOUND:return D.NOT_FOUND;case qn.ALREADY_EXISTS:return D.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return D.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case qn.ABORTED:return D.ABORTED;case qn.OUT_OF_RANGE:return D.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return D.UNIMPLEMENTED;case qn.DATA_LOSS:return D.DATA_LOSS;default:return N()}}(Kn=qn||(qn={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";let Qn=null;function Jn(){return new TextEncoder}const Zn=new r([4294967295,4294967295],0);function $n(e){const t=Jn().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function er(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class tr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nr("Invalid padding: ".concat(t));if(n<0)throw new nr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new nr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new nr("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=r.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zn)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=$n(e),[n,r]=er(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new tr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=$n(e),[n,r]=er(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ir.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rr(Q.min(),r,new xe(K),Jt(),on())}}class ir{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ir(n,t,on(),on(),on())}}class sr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ar{constructor(e,t){this.targetId=e,this.me=t}}class or{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lr{constructor(){this.fe=0,this.ge=hr(),this.pe=Pe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=on(),t=on(),n=on();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}})),new ir(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=hr()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,R(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cr{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jt(),this.qe=ur(),this.Qe=new xe(K)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:N()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Nt(i))if(0===n){const e=new te(i.path);this.Ue(t,e,it.newNoDocument(e,Q.min()))}else R(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Qn||Qn.et(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=De(n).toUint8Array()}catch(e){if(e instanceof Ie)return I("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new tr(s,r,i)}catch(e){return I(e instanceof nr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Nt(i.target)){const t=new te(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,it.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=on();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new rr(e,t,this.Qe,this.ke,n);return this.ke=Jt(),this.qe=ur(),this.Qe=new xe(K),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lr,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ce(K),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lr),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ur(){return new xe(te.comparator)}function hr(){return new xe(te.comparator)}const dr={asc:"ASCENDING",desc:"DESCENDING"},pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fr={and:"AND",or:"OR"};class mr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gr(e,t){return e.useProto3Json||fe(t)?t:{value:t}}function vr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function br(e,t){return vr(e,t.toTimestamp())}function wr(e){return R(!!e),Q.fromTimestamp(function(e){const t=Re(e);return new X(t.seconds,t.nanos)}(e))}function Ar(e,t){return _r(e,t).canonicalString()}function _r(e,t){const n=function(e){return new Z(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function xr(e){const t=Z.fromString(e);return R(zr(t)),t}function Er(e,t){return Ar(e.databaseId,t.path)}function Sr(e,t){const n=xr(t);if(n.get(1)!==e.databaseId.projectId)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(Ir(n))}function Cr(e,t){return Ar(e.databaseId,t)}function Tr(e){const t=xr(e);return 4===t.length?Z.emptyPath():Ir(t)}function kr(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ir(e){return R(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pr(e,t,n){return{name:Er(e,t),fields:n.value.mapValue.fields}}function Nr(e,t){let n;if(t instanceof jn)n={update:Pr(e,t.key,t.value)};else if(t instanceof Vn)n={delete:Er(e,t.key)};else if(t instanceof Ln)n={update:Pr(e,t.key,t.data),updateMask:Hr(t.fieldMask)};else{if(!(t instanceof Bn))return N();n={verify:Er(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _n)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw N()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:br(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Rr(e,t){return{documents:[Cr(e,t.path)]}}function Mr(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Cr(e,i);const s=function(e){if(0!==e.length)return Br(dt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ur(e.field),direction:Lr(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=gr(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Dr(e){let t=Tr(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){R(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=jr(e);return t instanceof dt&&ft(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new lt(Vr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,fe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new st(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new st(n,t)}(n.endAt)),Mt(t,i,a,s,o,"F",l,c)}function jr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vr(e.unaryFilter.field);return ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vr(e.unaryFilter.field);return ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vr(e.unaryFilter.field);return ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vr(e.unaryFilter.field);return ht.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(e):void 0!==e.fieldFilter?function(e){return ht.create(Vr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return dt.create(e.compositeFilter.filters.map((e=>jr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return N()}}(e.compositeFilter.op))}(e):N()}function Lr(e){return dr[e]}function Or(e){return pr[e]}function Fr(e){return fr[e]}function Ur(e){return{fieldPath:e.canonicalString()}}function Vr(e){return ee.fromServerFormat(e.fieldPath)}function Br(e){return e instanceof ht?function(e){if("=="===e.op){if(Ze(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NAN"}};if(Je(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ze(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NOT_NAN"}};if(Je(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(e.field),op:Or(e.op),value:e.value}}}(e):e instanceof dt?function(e){const t=e.getFilters().map((e=>Br(e)));return 1===t.length?t[0]:{compositeFilter:{op:Fr(e.op),filters:t}}}(e):N()}function Hr(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Q.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Q.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pe.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gr{constructor(e){this.ct=e}}function qr(e){const t=Dr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bt(t,t.limit,"L"):t}class Kr{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Me(e.integerValue));else if("doubleValue"in e){const n=Me(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),me(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Re(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(De(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?tt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):N()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),te.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Kr.bt=new Kr;class Yr{constructor(){this._n=new Xr}addToCollectionParentIndex(e,t){return this._n.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(se.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(se.min())}updateCollectionGroup(e,t,n){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Xr{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ce(Z.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ce(Z.comparator)).toArray()}}new Uint8Array(0);class Qr{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class Jr{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Jr(0)}static Ln(){return new Jr(-1)}}class Zr{constructor(){this.changes=new Xt((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $r{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ei{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Rn(n.mutation,e,ke.empty(),X.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,on()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on();const r=tn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=$t();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=tn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,on())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Jt();const s=rn(),a=rn();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ln)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Rn(a.mutation,t,a.mutation.getFieldMask(),X.now())):s.set(t.key,ke.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new $r(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=rn();let r=new xe(((e,t)=>e-t)),i=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ke.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||on()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=nn();l.forEach((e=>{if(!i.has(e)){const r=Pn(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ue.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ue.resolve(tn());let a=-1,o=i;return s.next((t=>ue.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ue.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,on()))).next((e=>({batchId:a,changes:en(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next((e=>{let t=$t();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=$t();return this.indexManager.getCollectionParents(e,i).next((a=>ue.forEach(a,(a=>{const o=function(e,t){return new Rt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,it.newInvalidDocument(r)))}));let n=$t();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Rn(s.mutation,r,ke.empty(),X.now()),Gt(t,r)&&(n=n.insert(e,r))})),n}))}}class ti{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ue.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wr(e.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:qr(e.bundledQuery),readTime:wr(e.readTime)}}(t)),ue.resolve()}}class ni{constructor(){this.overlays=new xe(te.comparator),this.hr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=tn();return ue.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ue.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ue.resolve()}getOverlaysForCollection(e,t,n){const r=tn(),i=t.length+1,s=new te(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new xe(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=tn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=tn(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return ue.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wn(t,n));let i=this.hr.get(t);void 0===i&&(i=on(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class ri{constructor(){this.Pr=new Ce(ii.Ir),this.Tr=new Ce(ii.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new ii(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new ii(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new te(new Z([])),n=new ii(t,e),r=new ii(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new te(new Z([])),n=new ii(t,e),r=new ii(t,e+1);let i=on();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ii(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ii{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return te.comparator(e.key,t.key)||K(e.pr,t.pr)}static Er(e,t){return K(e.pr,t.pr)||te.comparator(e.key,t.key)}}class si{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ce(ii.Ir)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Hn(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new ii(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,t){return ue.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ii(t,0),r=new ii(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ce(K);return t.forEach((e=>{const t=new ii(e,0),r=new ii(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ue.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;te.isDocumentKey(i)||(i=i.child(""));const s=new ii(new te(i),0);let a=new Ce(K);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),ue.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){R(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ue.forEach(t.mutations,(r=>{const i=new ii(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new ii(t,0),r=this.wr.firstAfterOrEqual(n);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ai{constructor(e){this.vr=e,this.docs=new xe(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ue.resolve(n?n.document.mutableCopy():it.newInvalidDocument(t))}getEntries(e,t){let n=Jt();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():it.newInvalidDocument(e))})),ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Jt();const s=t.path,a=new te(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ae(ie(a),n)<=0||(r.has(a.key)||Gt(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,t,n,r){N()}Fr(e,t){return ue.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new oi(this)}getSize(e){return ue.resolve(this.size)}}class oi extends Zr{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ue.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class li{constructor(e){this.persistence=e,this.Mr=new Xt((e=>It(e)),Pt),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ri,this.targetCount=0,this.Lr=Jr.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ue.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Jr(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.qn(t),ue.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),ue.waitFor(i).next((()=>r))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ue.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ue.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ue.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ue.resolve(n)}containsKey(e,t){return ue.resolve(this.Nr.containsKey(t))}}class ci{constructor(e,t){this.Br={},this.overlays={},this.kr=new pe(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new li(this),this.indexManager=new Yr,this.remoteDocumentCache=function(e){return new ai(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Gr(t),this.$r=new ti(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ni,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new si(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new ui(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ue.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class ui extends le{constructor(e){super(),this.currentSequenceNumber=e}}class hi{constructor(e){this.persistence=e,this.zr=new ri,this.jr=null}static Hr(e){return new hi(e)}get Jr(){if(this.jr)return this.jr;throw N()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ue.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ue.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Jr,(n=>{const r=te.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Q.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ue.or([()=>ue.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class di{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=on(),r=on();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new di(e,t.fromCache,n,r)}}class pi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fi{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,l.nr)()?8:he((0,l.ZQ)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new pi;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(C()<=o.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Wt(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ue.resolve()):(C()<=o.$b.DEBUG&&T("QueryEngine","Query:",Wt(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(C()<=o.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Wt(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ft(t))):ue.resolve())}ji(e,t){if(jt(t))return ue.resolve(null);let n=Ft(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Bt(t,null,"F"),n=Ft(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=on(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Bt(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return jt(t)||r.isEqual(Q.min())?ue.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?ue.resolve(null):(C()<=o.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wt(t)),this.es(e,s,t,re(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Ce(Kt(e));return t.forEach(((t,r)=>{Gt(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return C()<=o.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Wt(t)),this.zi.getDocumentsMatchingQuery(e,t,se.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class mi{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new xe(K),this.rs=new Xt((e=>It(e)),Pt),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ei(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function gi(e,t,n,r){return new mi(e,t,n,r)}async function vi(e,t){const n=M(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=on();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function yi(e){const t=M(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function bi(e,t,n){let r=on(),i=on();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jt();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Q.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function wi(e,t){const n=M(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ai(e,t){const n=M(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ue.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Wr(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function _i(e,t,n){const r=M(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!de(e))throw e;T("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function xi(e,t,n){const r=M(e);let i=Q.min(),s=on();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=M(e),i=r.rs.get(n);return void 0!==i?ue.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Ft(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Q.min(),n?s:on()))).next((e=>(Ei(r,qt(t),e),{documents:e,hs:s})))))}function Ei(e,t,n){let r=e.ss.get(t)||Q.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Si{constructor(){this.activeTargetIds=cn()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ci{constructor(){this.no=new Si,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Si,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ti{io(e){}shutdown(){}}class ki{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ii=null;function Pi(){return null===Ii?Ii=268435456+Math.round(2147483648*Math.random()):Ii++,"0x"+Ii.toString(16)}const Ni={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ri{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Mi="WebChannelConnection";class Di extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=Pi(),a=this.vo(e,t.toUriEncodedString());T("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(o,r,i),this.Mo(e,a,o,n).then((t=>(T("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw I("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=Ni[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=Pi();return new Promise(((s,a)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(f.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case m.NO_ERROR:const t=o.getResponseJson();T(Mi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case m.TIMEOUT:T(Mi,"RPC '".concat(e,"' ").concat(i," timed out")),a(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const n=o.getStatus();if(T(Mi,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(t.status);a(new j(e,t.message))}else a(new j(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new j(D.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{T(Mi,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);T(Mi,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=Pi(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=b(),a=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new d({})),this.Fo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");T(Mi,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,f=!1;const m=new Ri({lo:t=>{f?T(Mi,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(T(Mi,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),T(Mi,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),w=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return w(u,p.EventType.OPEN,(()=>{f||(T(Mi,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),m.mo())})),w(u,p.EventType.CLOSE,(()=>{f||(f=!0,T(Mi,"RPC '".concat(e,"' stream ").concat(r," transport closed")),m.po())})),w(u,p.EventType.ERROR,(t=>{f||(f=!0,I(Mi,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),m.po(new j(D.UNAVAILABLE,"The operation could not be completed")))})),w(u,p.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];R(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){T(Mi,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=qn[e];if(void 0!==t)return Xn(t)}(t),i=a.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,m.po(new j(n,i)),u.close()}else T(Mi,"RPC '".concat(e,"' stream ").concat(r," received:"),i),m.yo(i)}})),w(a,v.STAT_EVENT,(t=>{t.stat===g.PROXY?T(Mi,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&T(Mi,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{m.fo()}),0),m}}function ji(){return"undefined"!=typeof document?document:null}function Li(e){return new mr(e,!0)}class Oi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Fi{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Oi(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(k(t.toString()),k("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new j(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ui extends Fi{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(R(void 0===t||"string"==typeof t),Pe.fromBase64String(t||"")):(R(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Pe.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?D.UNKNOWN:Xn(e.code);return new j(t,e.message||"")}(a);n=new or(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sr(e,r.document.name),s=wr(r.document.updateTime),a=r.document.createTime?wr(r.document.createTime):Q.min(),o=new nt({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sr(e,r.document),s=r.readTime?wr(r.readTime):Q.min(),a=it.newNoDocument(i,s),o=r.removedTargetIds||[];n=new sr([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sr(e,r.document),s=r.removedTargetIds||[];n=new sr([],s,i,null)}else{if(!("filter"in t))return N();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Gn(r,i),a=e.targetId;n=new ar(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Q.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Q.min():t.readTime?wr(t.readTime):Q.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=kr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nt(r)?{documents:Rr(e,r)}:{query:Mr(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yr(e,t.resumeToken);const r=gr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Q.min())>0){n.readTime=vr(e,t.snapshotVersion.toTimestamp());const r=gr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return N()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=kr(this.serializer),t.removeTarget=e,this.i_(t)}}class Vi extends Fi{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(R(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(R(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wr(e.updateTime):wr(t);return n.isEqual(Q.min())&&(n=wr(t)),new Cn(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wr(e.commitTime);return this.listener.A_(n,t)}return R(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=kr(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Nr(this.serializer,e)))};this.i_(t)}}class Bi extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Co(e,_r(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(D.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.xo(e,_r(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(D.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(k(t),this.y_=!1):T("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class zi{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Zi(this)&&(T("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=M(e);t.M_.add(4),await Gi(t),t.N_.set("Unknown"),t.M_.delete(4),await Wi(t)}(this))}))})),this.N_=new Hi(n,r)}}async function Wi(e){if(Zi(e))for(const t of e.x_)await t(!0)}async function Gi(e){for(const t of e.x_)await t(!1)}function qi(e,t){const n=M(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Ji(n)?Qi(n):vs(n).Xo()&&Yi(n,t))}function Ki(e,t){const n=M(e),r=vs(n);n.F_.delete(t),r.Xo()&&Xi(n,t),0===n.F_.size&&(r.Xo()?r.n_():Zi(n)&&n.N_.set("Unknown"))}function Yi(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vs(e).P_(t)}function Xi(e,t){e.L_.xe(t),vs(e).I_(t)}function Qi(e){e.L_=new cr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),vs(e).start(),e.N_.w_()}function Ji(e){return Zi(e)&&!vs(e).Zo()&&e.F_.size>0}function Zi(e){return 0===M(e).M_.size}function $i(e){e.L_=void 0}async function es(e){e.N_.set("Online")}async function ts(e){e.F_.forEach(((t,n)=>{Yi(e,t)}))}async function ns(e,t){$i(e),Ji(e)?(e.N_.D_(t),Qi(e)):e.N_.set("Unknown")}async function rs(e,t,n){if(e.N_.set("Online"),t instanceof or&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){T("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await is(e,n)}else if(t instanceof sr?e.L_.Ke(t):t instanceof ar?e.L_.He(t):e.L_.We(t),!n.isEqual(Q.min()))try{const t=await yi(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Pe.EMPTY_BYTE_STRING,r.snapshotVersion)),Xi(e,t);const i=new Wr(r.target,t,n,r.sequenceNumber);Yi(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T("RemoteStore","Failed to raise snapshot:",t),await is(e,t)}}async function is(e,t,n){if(!de(t))throw t;e.M_.add(1),await Gi(e),e.N_.set("Offline"),n||(n=()=>yi(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{T("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Wi(e)}))}function ss(e,t){return t().catch((n=>is(e,n,t)))}async function as(e){const t=M(e),n=ys(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;os(t);)try{const e=await wi(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,ls(t,e)}catch(e){await is(t,e)}cs(t)&&us(t)}function os(e){return Zi(e)&&e.v_.length<10}function ls(e,t){e.v_.push(t);const n=ys(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function cs(e){return Zi(e)&&!ys(e).Zo()&&e.v_.length>0}function us(e){ys(e).start()}async function hs(e){ys(e).V_()}async function ds(e){const t=ys(e);for(const n of e.v_)t.d_(n.mutations)}async function ps(e,t,n){const r=e.v_.shift(),i=zn.from(r,t,n);await ss(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await as(e)}async function fs(e,t){t&&ys(e).E_&&await async function(e,t){if(function(e){return Yn(e)&&e!==D.ABORTED}(t.code)){const n=e.v_.shift();ys(e).t_(),await ss(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await as(e)}}(e,t),cs(e)&&us(e)}async function ms(e,t){const n=M(e);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.M_.add(3),await Gi(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Wi(n)}async function gs(e,t){const n=M(e);t?(n.M_.delete(2),await Wi(n)):t||(n.M_.add(2),await Gi(n),n.N_.set("Unknown"))}function vs(e){return e.B_||(e.B_=function(e,t,n){const r=M(e);return r.f_(),new Ui(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:es.bind(null,e),To:ts.bind(null,e),Ao:ns.bind(null,e),h_:rs.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Ji(e)?Qi(e):e.N_.set("Unknown")):(await e.B_.stop(),$i(e))}))),e.B_}function ys(e){return e.k_||(e.k_=function(e,t,n){const r=M(e);return r.f_(),new Vi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:hs.bind(null,e),Ao:fs.bind(null,e),R_:ds.bind(null,e),A_:ps.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await as(e)):(await e.k_.stop(),e.v_.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class bs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new bs(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ws(e,t){if(k("AsyncQueue","".concat(t,": ").concat(e)),de(e))return new j(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class As{constructor(e){this.comparator=e?(t,n)=>e(t,n)||te.comparator(t.key,n.key):(e,t)=>te.comparator(e.key,t.key),this.keyedMap=$t(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new As(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof As))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new As;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _s{constructor(){this.q_=new xe(te.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):N():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class xs{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new xs(e,t,As.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Es{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class Ss{constructor(){this.queries=new Xt((e=>zt(e)),Ht),this.onlineState="Unknown",this.z_=new Set}}async function Cs(e,t){const n=M(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Es,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ws(e,"Initialization of query '".concat(Wt(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&Ps(n)}async function Ts(e,t){const n=M(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ks(e,t){const n=M(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&Ps(n)}function Is(e,t,n){const r=M(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function Ps(e){e.z_.forEach((e=>{e.next()}))}var Ns,Rs;(Rs=Ns||(Ns={})).J_="default",Rs.Cache="cache";class Ms{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new xs(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ns.Cache}}class Ds{constructor(e){this.key=e}}class js{constructor(e){this.key=e}}class Ls{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=on(),this.mutatedKeys=on(),this.Ia=Kt(e),this.Ta=new As(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new _s,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Gt(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.Ia(u,o)>0||l&&this.Ia(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:a,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const a=t&&!r?this.ma():[],o=0===this.Pa.size&&this.current&&!r?1:0,l=o!==this.ha;return this.ha=o,0!==s.length||l?{snapshot:new xs(this.query,e.Ta,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _s,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=on(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new js(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new Ds(n))})),t}pa(e){this.la=e.hs,this.Pa=on();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return xs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Os{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fs{constructor(e){this.key=e,this.wa=!1}}class Us{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Xt((e=>zt(e)),Ht),this.Da=new Map,this.Ca=new Set,this.va=new xe(te.comparator),this.Fa=new Map,this.Ma=new ri,this.xa={},this.Oa=new Map,this.Na=Jr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Vs(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=oa(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Hs(r,t,n,!0),i}async function Bs(e,t){const n=oa(e);await Hs(n,t,!0,!1)}async function Hs(e,t,n,r){const i=await Ai(e.localStore,Ft(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await zs(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&qi(e.remoteStore,i),o}async function zs(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await xi(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return ta(e,t.targetId,o.fa),o.snapshot}(e,t,n,r);const s=await xi(e.localStore,t,!0),a=new Ls(t,s.hs),o=a.da(s.documents),l=ir.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);ta(e,n,c.fa);const u=new Os(t,n,a);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function Ws(e,t,n){const r=M(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Ht(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _i(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ki(r.remoteStore,i.targetId),$s(r,i.targetId)})).catch(ce)):($s(r,i.targetId),await _i(r.localStore,i.targetId,!0))}async function Gs(e,t){const n=M(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ki(n.remoteStore,r.targetId))}async function qs(e,t){const n=M(e);try{const e=await function(e,t){const n=M(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Pe.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=Jt(),l=on();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(bi(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Q.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return ue.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?R(r.wa):e.removedDocuments.size>0&&(R(r.wa),r.wa=!1))})),await ia(n,e,t)}catch(e){await ce(e)}}function Ks(e,t,n){const r=M(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=M(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&Ps(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ys(e,t,n){const r=M(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new xe(te.comparator);e=e.insert(s,it.newNoDocument(s,Q.min()));const n=on().add(s),i=new rr(Q.min(),new Map,new xe(K),e,n);await qs(r,i),r.va=r.va.remove(s),r.Fa.delete(t),ra(r)}else await _i(r.localStore,t,!1).then((()=>$s(r,t,n))).catch(ce)}async function Xs(e,t){const n=M(e),r=t.batch.batchId;try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=ue.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);R(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=on();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Zs(n,r,null),Js(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ia(n,e)}catch(e){await ce(e)}}async function Qs(e,t,n){const r=M(e);try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(R(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Zs(r,t,n),Js(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ia(r,e)}catch(n){await ce(n)}}function Js(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Zs(e,t,n){const r=M(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function $s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||ea(e,t)}))}function ea(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Ki(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),ra(e))}function ta(e,t,n){for(const r of n)r instanceof Ds?(e.Ma.addReference(r.key,t),na(e,r)):r instanceof js?(T("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||ea(e,r.key)):N()}function na(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(T("SyncEngine","New document in limbo: "+n),e.Ca.add(r),ra(e))}function ra(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new te(Z.fromString(t)),r=e.Na.next();e.Fa.set(r,new Fs(n)),e.va=e.va.insert(n,r),qi(e.remoteStore,new Wr(Ft(Dt(n.path)),r,"TargetPurposeLimboResolution",pe.oe))}}async function ia(e,t,n){const r=M(e),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach(((e,o)=>{a.push(r.Ba(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=di.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Sa.h_(i),await async function(e,t){const n=M(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ue.forEach(t,(t=>ue.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ue.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!de(e))throw e;T("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function sa(e,t){const n=M(e);if(!n.currentUser.isEqual(t)){T("SyncEngine","User change. New user:",t.toKey());const e=await vi(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new j(D.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ia(n,e.us)}}function aa(e,t){const n=M(e),r=n.Fa.get(t);if(r&&r.wa)return on().add(r.key);{let e=on();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function oa(e){const t=M(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ys.bind(null,t),t.Sa.h_=ks.bind(null,t.eventManager),t.Sa.ka=Is.bind(null,t.eventManager),t}function la(e){const t=M(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xs.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qs.bind(null,t),t}class ca{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Li(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gi(this.persistence,new fi,e.initialUser,this.serializer)}createPersistence(e){return new ci(hi.Hr,this.serializer)}createSharedClientState(e){return new Ci}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ua{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ks(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sa.bind(null,this.syncEngine),await gs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ss}createDatastore(e){const t=Li(e.databaseInfo.databaseId),n=function(e){return new Di(e)}(e.databaseInfo);return function(e,t,n,r){return new Bi(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zi(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ks(this.syncEngine,e,0)),ki.D()?new ki:new Ti)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Us(e,t,n,r,i,s);return a&&(o.La=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=M(e);T("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Gi(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class ha{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):k("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class da{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=x.UNAUTHENTICATED,this.clientId=q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{T("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(T("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ws(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function pa(e,t){e.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vi(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function fa(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ga(e);T("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ms(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ms(t.remoteStore,n))),e._onlineComponents=t}function ma(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ga(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{await pa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ma(n))throw n;I("Error using user provided cache. Falling back to memory cache: "+n),await pa(e,new ca)}}else T("FirestoreClient","Using default OfflineComponentProvider"),await pa(e,new ca);return e._offlineComponents}async function va(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),await fa(e,e._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),await fa(e,new ua))),e._onlineComponents}function ya(e){return va(e).then((e=>e.syncEngine))}async function ba(e){const t=await va(e),n=t.eventManager;return n.onListen=Vs.bind(null,t.syncEngine),n.onUnlisten=Ws.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Bs.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Gs.bind(null,t.syncEngine),n}function wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ha({next:s=>{t.enqueueAndForget((()=>Ts(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Ms(Dt(n.path),s,{includeMetadataChanges:!0,ra:!0});return Cs(e,a)}(await ba(e),e.asyncQueue,t,n,r))),r.promise}function Aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ha({next:n=>{t.enqueueAndForget((()=>Ts(e,a))),n.fromCache&&"server"===r.source?i.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Ms(n,s,{includeMetadataChanges:!0,ra:!0});return Cs(e,a)}(await ba(e),e.asyncQueue,t,n,r))),r.promise}function _a(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const xa=new Map;function Ea(e,t,n){if(!n)throw new j(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Sa(e){if(!te.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ca(e){if(te.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ta(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":N()}function ka(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ta(e);throw new j(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ia(e,t){if(t<=0)throw new j(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Pa{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new j(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_a(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new j(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new j(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new j(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Na{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pa({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pa(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new j(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xa.get(e);t&&(T("ComponentProvider","Removing Datastore"),xa.delete(e),t.terminate())}(this),Promise.resolve()}}class Ra{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Ma{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ma(this.firestore,e,this._key)}}class Da extends Ra{constructor(e,t,n){super(e,t,Dt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ma(this.firestore,null,new te(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function ja(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Ea("collection","path",t),e instanceof Na){const n=Z.fromString(t,...r);return Ca(n),new Da(e,null,n)}{if(!(e instanceof Ma||e instanceof Da))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Z.fromString(t,...r));return Ca(n),new Da(e.firestore,null,n)}}function La(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=q.newId()),Ea("doc","path",t),e instanceof Na){const n=Z.fromString(t,...r);return Sa(n),new Ma(e,null,new te(n))}{if(!(e instanceof Ma||e instanceof Da))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Z.fromString(t,...r));return Sa(n),new Ma(e.firestore,e instanceof Da?e.converter:null,new te(n))}}class Oa{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Oi(this,"async_queue_retry"),this.hu=()=>{const e=ji();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=ji();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=ji();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new L;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!de(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw k("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=bs.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&N()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Fa(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ua extends Na{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Oa,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ha(this),this._firestoreClient.terminate()}}function Va(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ka(e,Na))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&I("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=x.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new j(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new x(s)}e._authCredentials=new U(new O(t,n))}}(i,...e)}return i}function Ba(e){return e._firestoreClient||Ha(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ha(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Fe(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_a(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new da(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new za(Pe.fromBase64String(e))}catch(e){throw new j(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new za(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wa{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ga{constructor(e){this._methodName=e}}class qa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const Ka=/^__.*__$/;class Ya{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new jn(e,this.data,t,this.fieldTransforms)}}class Xa{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qa(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}class Ja{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ja(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return fo(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Qa(this.fu)&&Ka.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Za{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Li(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ja({fu:e,methodName:t,vu:n,path:ee.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $a(e){const t=e._freezeSettings(),n=Li(e._databaseId);return new Za(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eo(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);co("Data must be an object, but it was:",a,r);const o=oo(r,a);let l,c;if(s.merge)l=new ke(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=uo(t,r,n);if(!a.contains(i))throw new j(D.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mo(e,i)||e.push(i)}l=new ke(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Ya(new nt(o),l,c)}class to extends Ga{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof to}}class no extends Ga{_toFieldTransform(e){return new Sn(e.path,new vn)}isEqual(e){return e instanceof no}}function ro(e,t,n,r){const i=e.Fu(1,t,n);co("Data must be an object, but it was:",i,r);const s=[],a=nt.empty();Ae(r,((e,r)=>{const o=po(t,e,n);r=(0,l.Ku)(r);const c=i.Su(o);if(r instanceof to)s.push(o);else{const e=ao(r,c);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ke(s);return new Xa(a,o,i.fieldTransforms)}function io(e,t,n,r,i,s){const a=e.Fu(1,t,n),o=[uo(t,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<s.length;l+=2)o.push(uo(t,s[l])),c.push(s[l+1]);const u=[],h=nt.empty();for(let p=o.length-1;p>=0;--p)if(!mo(u,o[p])){const e=o[p];let t=c[p];t=(0,l.Ku)(t);const n=a.Su(e);if(t instanceof to)u.push(e);else{const r=ao(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new ke(u);return new Xa(h,d,a.fieldTransforms)}function so(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ao(n,e.Fu(r?4:3,t))}function ao(e,t){if(lo(e=(0,l.Ku)(e)))return co("Unsupported field value:",t,e),oo(e,t);if(e instanceof Ga)return function(e,t){if(!Qa(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ao(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=X.fromDate(e);return{timestampValue:vr(t.serializer,n)}}if(e instanceof X){const n=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vr(t.serializer,n)}}if(e instanceof qa)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof za)return{bytesValue:yr(t.serializer,e._byteString)};if(e instanceof Ma){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ar(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(Ta(e)))}(e,t)}function oo(e,t){const n={};return _e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ae(e,((e,r)=>{const i=ao(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof qa||e instanceof za||e instanceof Ma||e instanceof Ga)}function co(e,t,n){if(!lo(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ta(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function uo(e,t,n){if((t=(0,l.Ku)(t))instanceof Wa)return t._internalPath;if("string"==typeof t)return po(e,t);throw fo("Field path arguments must be of type string or ",e,!1,void 0,n)}const ho=new RegExp("[~\\*/\\[\\]]");function po(e,t,n){if(t.search(ho)>=0)throw fo("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Wa(...t.split("."))._internalPath}catch(r){throw fo("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fo(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new j(D.INVALID_ARGUMENT,o+e+l)}function mo(e,t){return e.some((e=>e.isEqual(t)))}class go{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ma(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yo("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vo extends go{data(){return super.data()}}function yo(e,t){return"string"==typeof t?po(e,t):t instanceof Wa?t._internalPath:t._delegate._internalPath}function bo(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wo{}class Ao extends wo{}function _o(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof wo&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof So)).length,n=e.filter((e=>e instanceof xo)).length;if(t>1||t>0&&n>0)throw new j(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class xo extends Ao{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xo(e,t,n)}_apply(e){const t=this._parse(e);return Ro(e._query,t),new Ra(e.firestore,e.converter,Vt(e._query,t))}_parse(e){const t=$a(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){No(a,s);const t=[];for(const n of a)t.push(Po(r,e,n));o={arrayValue:{values:t}}}else o=Po(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||No(a,s),o=so(n,t,a,"in"===s||"not-in"===s);return ht.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Eo(e,t,n){const r=t,i=yo("where",e);return xo._create(i,r,n)}class So extends wo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new So(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:dt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ro(n,i),n=Vt(n,i)}(e._query,t),new Ra(e.firestore,e.converter,Vt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Co extends Ao{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Co(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lt(t,n)}(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Rt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function To(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yo("orderBy",e);return Co._create(n,t)}class ko extends Ao{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ko(e,t,n)}_apply(e){return new Ra(e.firestore,e.converter,Bt(e._query,this._limit,this._limitType))}}function Io(e){return Ia("limit",e),ko._create("limit",e,"F")}function Po(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lt(t)&&-1!==n.indexOf("/"))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Z.fromString(n));if(!te.isDocumentKey(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ye(e,new te(r))}if(n instanceof Ma)return Ye(e,n._key);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ta(n),"."))}function No(e,t){if(!Array.isArray(e)||0===e.length)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ro(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Mo{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Be(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(De(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ae(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new qa(Me(e.latitude),Me(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Le(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Oe(e));default:return null}}convertTimestamp(e){const t=Re(e);return new X(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Z.fromString(e);R(zr(n));const r=new Ue(n.get(1),n.get(3)),i=new te(n.popFirst(5));return r.isEqual(t)||k("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Do(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lo extends go{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(yo("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Oo extends Lo{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Fo{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jo(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Oo(this._firestore,this._userDataWriter,n.key,n,new jo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Oo(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jo(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Oo(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jo(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Uo(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Uo(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function Vo(e){e=ka(e,Ma);const t=ka(e.firestore,Ua);return wa(Ba(t),e._key).then((n=>Yo(t,e,n)))}class Bo extends Mo{constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ma(this.firestore,null,t)}}function Ho(e){e=ka(e,Ra);const t=ka(e.firestore,Ua),n=Ba(t),r=new Bo(t);return bo(e._query),Aa(n,e._query).then((n=>new Fo(t,r,e,n)))}function zo(e,t,n){e=ka(e,Ma);const r=ka(e.firestore,Ua),i=Do(e.converter,t,n);return Ko(r,[eo($a(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Tn.none())])}function Wo(e,t,n){e=ka(e,Ma);const r=ka(e.firestore,Ua),i=$a(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];return s="string"==typeof(t=(0,l.Ku)(t))||t instanceof Wa?io(i,"updateDoc",e._key,t,n,o):ro(i,"updateDoc",e._key,t),Ko(r,[s.toMutation(e._key,Tn.exists(!0))])}function Go(e){return Ko(ka(e.firestore,Ua),[new Vn(e._key,Tn.none())])}function qo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=(0,l.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Fa(n[c])||(o=n[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Fa(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,d,p;if(e instanceof Ma)d=ka(e.firestore,Ua),p=Dt(e._key.path),h={next:t=>{n[c]&&n[c](Yo(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=ka(e,Ra);d=ka(t.firestore,Ua),p=t._query;const r=new Bo(d);h={next:e=>{n[c]&&n[c](new Fo(d,r,t,e))},error:n[c+1],complete:n[c+2]},bo(e._query)}return function(e,t,n,r){const i=new ha(r),s=new Ms(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Cs(await ba(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>Ts(await ba(e),s)))}}(Ba(d),p,u,h)}function Ko(e,t){return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=la(e);try{const e=await function(e,t){const n=M(e),r=X.now(),i=t.reduce(((e,t)=>e.add(t.key)),on());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Jt(),l=on();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Mn(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ln(e.key,t,rt(t.value.mapValue),Tn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:en(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new xe(K)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await ia(r,e.changes),await as(r.remoteStore)}catch(e){const t=ws(e,"Failed to persist write");n.reject(t)}}(await ya(e),t,n))),n.promise}(Ba(e),t)}function Yo(e,t,n){const r=n.docs.get(t._key),i=new Bo(e);return new Lo(e,i,t._key,r,new jo(n.hasPendingWrites,n.fromCache),t.converter)}class Xo{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$a(e)}set(e,t,n){this._verifyNotCommitted();const r=Qo(e,this._firestore),i=Do(r.converter,t,n),s=eo(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Tn.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Qo(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof Wa?io(this._dataReader,"WriteBatch.update",r._key,t,n,a):ro(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qo(e,this._firestore);return this._mutations=this._mutations.concat(new Vn(t._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qo(e,t){if((e=(0,l.Ku)(e)).firestore!==t)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Jo(){return new no("serverTimestamp")}function Zo(e){return Ba(e=ka(e,Ua)),new Xo(e,(t=>Ko(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(s.MF),(0,s.om)(new a.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Ua(new V(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ue(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(_,"4.6.3",e),(0,s.KO)(_,"4.6.3","esm2017")}()},8147:(e,t,n)=>{"use strict";n.d(t,{qk:()=>Me,c7:()=>je,KR:()=>De,bp:()=>Re});var r=n(7150),i=n(7700),s=n(8812);const a="firebasestorage.googleapis.com",o="storageBucket";class l extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(h(e),"Firebase Storage: ".concat(t," (").concat(h(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var c,u;function h(e){return"storage/"+e}function d(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(){return new l(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g(e){return new l(c.INVALID_ARGUMENT,e)}function v(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}function y(e,t){return new l(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function b(e){throw new l(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class w{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=w.makeFromUrl(e,t)}catch(i){return new w(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let a=0;a<u.length;a++){const t=u[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new w(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class A{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function _(e){return"string"===typeof e||e instanceof String}function x(e){return E()&&e instanceof Blob}function E(){return"undefined"!==typeof Blob}function S(e,t,n,r){if(r<t)throw g("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw g("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function C(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function T(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function k(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class I{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new P(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||k(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new P(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new P(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=d();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?v():f())}else{r(p())}};this.canceled_?t(0,new P(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function d(){s&&clearTimeout(s)}function p(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let f=!1;function m(e){f||(f=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class P{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function N(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function R(){const e=N();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(E())return new Blob(n);throw new l(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function M(e){if("undefined"===typeof atob)throw t="base-64",new l(c.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const D={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j{constructor(e,t){this.data=e,this.contentType=t||null}}function L(e,t){switch(e){case D.RAW:return new j(O(t));case D.BASE64:case D.BASE64URL:return new j(F(e,t));case D.DATA_URL:return new j(function(e){const t=new U(e);return t.base64?F(D.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw y(D.DATA_URL,"Malformed data URL.")}return O(t)}(t.rest)}(t),new U(t).contentType)}throw d()}function O(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function F(e,t){switch(e){case D.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case D.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw y(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class U{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw y(D.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class V{constructor(e,t){let n=0,r="";x(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(x(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new V(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new V(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(E()){const e=t.map((e=>e instanceof V?e.data_:e));return new V(R.apply(null,e))}{const e=t.map((e=>_(e)?L(D.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new V(r,!0)}}uploadData(){return this.data_}}function B(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function H(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function z(e,t){return t}class W{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||z}}let G=null;function q(){if(G)return G;const e=[];e.push(new W("bucket")),e.push(new W("generation")),e.push(new W("metageneration")),e.push(new W("name","fullPath",!0));const t=new W("name");t.xform=function(e,t){return function(e){return!_(e)||e.length<2?e:H(e)}(t)},e.push(t);const n=new W("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new W("timeCreated")),e.push(new W("updated")),e.push(new W("md5Hash",null,!0)),e.push(new W("cacheControl",null,!0)),e.push(new W("contentDisposition",null,!0)),e.push(new W("contentEncoding",null,!0)),e.push(new W("contentLanguage",null,!0)),e.push(new W("contentType",null,!0)),e.push(new W("metadata","customMetadata",!0)),G=e,G}function K(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new w(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Y(e,t,n){const r=B(t);if(null===r)return null;return K(e,r,n)}function X(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Q{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function J(e){if(!e)throw d()}function Z(e,t){return function(n,r){const i=Y(e,r,t);return J(null!==i),i}}function $(e,t){return function(n,r){const i=Y(e,r,t);return J(null!==i),function(e,t,n,r){const i=B(t);if(null===i)return null;if(!_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return C("/b/"+a(i)+"/o/"+a(s),n,r)+T({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ee(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new l(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new l(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new l(c.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new l(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function te(e){const t=ee(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new l(c.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ne(e,t,n){const r=C(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Q(r,"GET",Z(e,n),i);return s.errorHandler=te(t),s}function re(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ie(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=re(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=V.getBlob(c,r,u);if(null===h)throw m();const d={name:l.fullPath},p=C(s,e.host,e._protocol),f=e.maxUploadRetryTime,g=new Q(p,"POST",Z(e,n),f);return g.urlParams=d,g.headers=a,g.body=h.uploadData(),g.errorHandler=ee(t),g}class se{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function ae(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){J(!1)}return J(!!n&&-1!==(t||["active"]).indexOf(n)),n}const oe=262144;function le(e,t,n,r,i,s,a,o){const u=new se(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new l(c.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const h=u.total-u.current;let d=h;i>0&&(d=Math.min(d,i));const p=u.current,f=p+d;let g="";g=0===d?"finalize":h===d?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":"".concat(u.current)},y=r.slice(p,f);if(null===y)throw m();const b=t.maxUploadRetryTime,w=new Q(n,"POST",(function(e,n){const i=ae(e,["active","final"]),a=u.current+d,o=r.size();let l;return l="final"===i?Z(t,s)(e,n):null,new se(a,o,"final"===i,l)}),b);return w.headers=v,w.body=y.uploadData(),w.progressCallback=o||null,w.errorHandler=ee(e),w}const ce="running",ue="paused",he="success",de="canceled",pe="error";function fe(e){switch(e){case"running":case"pausing":case"canceling":return ce;case"paused":return ue;case"success":return he;case"canceled":return de;default:return pe}}class me{constructor(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function ge(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let ve=null;class ye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw b("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class be extends ye{initXhr(){this.xhr_.responseType="text"}}function we(){return ve?ve():new be}class Ae{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=q(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(c.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(k(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=p()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(c.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=re(t,r,i),o={name:a.fullPath},l=C(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=X(a,n),h=e.maxUploadRetryTime,d=new Q(l,"POST",(function(e){let t;ae(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){J(!1)}return J(_(t)),t}),h);return d.urlParams=o,d.headers=c,d.body=u,d.errorHandler=ee(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,we,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Q(n,"POST",(function(e){const t=ae(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){J(!1)}n||J(!1);const i=Number(n);return J(!isNaN(i)),new se(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=ee(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,we,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=oe*this._chunkMultiplier,t=new se(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=le(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(o){return this._error=o,void this._transition("error")}const a=this._ref.storage._makeRequest(s,we,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(oe*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ne(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,we,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,we,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=f(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=fe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new me(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(fe(this._state)){case he:ge(this._resolve.bind(null,this.snapshot))();break;case de:case pe:ge(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fe(this._state)){case ce:case ue:e.next&&ge(e.next.bind(e,this.snapshot))();break;case he:e.complete&&ge(e.complete.bind(e))();break;default:e.error&&ge(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _e{constructor(e,t){this._service=e,this._location=t instanceof w?t:w.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _e(e,t)}get root(){const e=new w(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new w(this._location.bucket,e);return new _e(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function xe(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=C(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Q(r,"GET",$(e,n),i);return s.errorHandler=te(t),s}(e.storage,e._location,q());return e.storage.makeRequestWithTokens(t,we).then((e=>{if(null===e)throw new l(c.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ee(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new w(e._location.bucket,n);return new _e(e.storage,r)}function Se(e,t){if(e instanceof ke){const n=e;if(null==n._bucket)throw new l(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o+"' property when initializing the app?");const r=new _e(n,n._bucket);return null!=t?Se(r,t):r}return void 0!==t?Ee(e,t):e}function Ce(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ke)return new _e(e,t);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return Se(e,t)}function Te(e,t){const n=null===t||void 0===t?void 0:t[o];return null==n?null:w.makeFromBucketSpec(n,e)}class ke{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?w.makeFromBucketSpec(r,this._host):Te(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=w.makeFromBucketSpec(this._url,e):this._bucket=Te(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _e(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new A(v());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=T(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new I(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ie="@firebase/storage",Pe="0.12.5",Ne="storage";function Re(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ae(e,new V(t),n)}(e=(0,i.Ku)(e),t,n)}function Me(e){return xe(e=(0,i.Ku)(e))}function De(e,t){return Ce(e=(0,i.Ku)(e),t)}function je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,Ne).getImmediate({identifier:t}),s=(0,i.yU)("storage");return s&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,i.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...s),n}function Le(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ke(i,s,a,n,r.MF)}(0,r.om)(new s.uA(Ne,Le,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(Ie,Pe,""),(0,r.KO)(Ie,Pe,"esm2017")},2190:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(5043).createContext)({})},9674:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=(0,n(5043).createContext)(null)},9962:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1892);const i=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,s=1e-7,a=12;function o(e,t,n,o){if(e===t&&n===o)return r.l;const l=t=>function(e,t,n,r,o){let l,c,u=0;do{c=t+(n-t)/2,l=i(c,r,o)-e,l>0?n=c:t=c}while(Math.abs(l)>s&&++u<a);return c}(t,0,1,e,n);return e=>0===e||1===e?e:i(l(e),t,o)}},9630:(e,t,n)=>{"use strict";n.d(t,{a6:()=>i,am:()=>a,vT:()=>s});var r=n(9962);const i=(0,r.A)(.42,0,1,1),s=(0,r.A)(0,0,.58,1),a=(0,r.A)(.42,0,.58,1)},7065:(e,t,n)=>{"use strict";n.d(t,{WG:()=>o,Gt:()=>a,uv:()=>l,Ci:()=>c});var r=n(1892);class i{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const s=["prepare","read","update","preRender","render","postRender"];const{schedule:a,cancel:o,state:l,steps:c}=function(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=s.reduce(((e,t)=>(e[t]=function(e){let t=new i,n=new i,r=0,s=!1,a=!1;const o=new WeakSet,l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,a=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&i&&s&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:i=>{if(s)a=!0;else{if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(i),o.has(r)&&(l.schedule(r),e())}s=!1,a&&(a=!1,l.process(i))}}};return l}((()=>n=!0)),e)),{}),l=e=>o[e].process(a),c=()=>{const i=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1),a.timestamp=i,a.isProcessing=!0,s.forEach(l),a.isProcessing=!1,n&&t&&(r=!1,e(c))},u=s.reduce(((t,i)=>{const s=o[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(c)),s.schedule(t,i,o)},t}),{});return{schedule:u,cancel:e=>s.forEach((t=>o[t].cancel(e))),state:a,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:r.l,!0)},4678:(e,t,n)=>{"use strict";n.d(t,{P:()=>$s});var r=n(5043);const i=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),s=(0,r.createContext)({});var a=n(9674),o=n(293);const l=(0,r.createContext)({strict:!1}),c=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u="data-"+c("framerAppearId");function h(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function d(e){return"string"===typeof e||Array.isArray(e)}function p(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const f=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m=["initial",...f];function g(e){return p(e.animate)||m.some((t=>d(e[t])))}function v(e){return Boolean(g(e)||e.variants)}function y(e){const{initial:t,animate:n}=function(e,t){if(g(e)){const{initial:t,animate:n}=e;return{initial:!1===t||d(t)?t:void 0,animate:d(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(s));return(0,r.useMemo)((()=>({initial:t,animate:n})),[b(t),b(n)])}function b(e){return Array.isArray(e)?e.join(" "):e}const w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},A={};for(const ta in w)A[ta]={isEnabled:e=>w[ta].some((t=>!!e[t]))};var _=n(4735),x=n(2190);const E=(0,r.createContext)({}),S=Symbol.for("motionComponentSymbol");function C(e){let{preloadedFeatures:t,createVisualElement:n,useRender:c,useVisualState:d,Component:p}=e;t&&function(e){for(const t in e)A[t]={...A[t],...e[t]}}(t);const f=(0,r.forwardRef)((function(e,f){let m;const g={...(0,r.useContext)(i),...e,layoutId:T(e)},{isStatic:v}=g,b=y(e),w=d(e,v);if(!v&&_.B){b.visualElement=function(e,t,n,c){const{visualElement:h}=(0,r.useContext)(s),d=(0,r.useContext)(l),p=(0,r.useContext)(a.t),f=(0,r.useContext)(i).reducedMotion,m=(0,r.useRef)();c=c||d.renderer,!m.current&&c&&(m.current=c(e,{visualState:t,parent:h,props:n,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:f}));const g=m.current;(0,r.useInsertionEffect)((()=>{g&&g.update(n,p)}));const v=(0,r.useRef)(Boolean(n[u]&&!window.HandoffComplete));return(0,o.E)((()=>{g&&(g.render(),v.current&&g.animationState&&g.animationState.animateChanges())})),(0,r.useEffect)((()=>{g&&(g.updateFeatures(),!v.current&&g.animationState&&g.animationState.animateChanges(),v.current&&(v.current=!1,window.HandoffComplete=!0))})),g}(p,w,g,n);const e=(0,r.useContext)(E),c=(0,r.useContext)(l).strict;b.visualElement&&(m=b.visualElement.loadFeatures(g,c,t,e))}return r.createElement(s.Provider,{value:b},m&&b.visualElement?r.createElement(m,{visualElement:b.visualElement,...g}):null,c(p,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):h(n)&&(n.current=r))}),[t])}(w,b.visualElement,f),w,v,b.visualElement))}));return f[S]=p,f}function T(e){let{layoutId:t}=e;const n=(0,r.useContext)(x.L).id;return n&&void 0!==t?n+"-"+t:t}function k(e){function t(t){return C(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const I=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P(e){return"string"===typeof e&&!e.includes("-")&&!!(I.indexOf(e)>-1||/[A-Z]/.test(e))}const N={};const R=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],M=new Set(R);function D(e,t){let{layout:n,layoutId:r}=t;return M.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!N[e]||"opacity"===e)}const j=e=>Boolean(e&&e.getVelocity),L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O=R.length;const F=e=>t=>"string"===typeof t&&t.startsWith(e),U=F("--"),V=F("var(--"),B=(e,t)=>t&&"number"===typeof e?t.transform(e):e,H=(e,t,n)=>Math.min(Math.max(n,e),t),z={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},W={...z,transform:e=>H(0,1,e)},G={...z,default:1},q=e=>Math.round(1e5*e)/1e5,K=/(-)?([\d]*\.?[\d])+/g,Y=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Q(e){return"string"===typeof e}const J=e=>({test:t=>Q(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Z=J("deg"),$=J("%"),ee=J("px"),te=J("vh"),ne=J("vw"),re={...$,parse:e=>$.parse(e)/100,transform:e=>$.transform(100*e)},ie={...z,transform:Math.round},se={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:Z,rotateX:Z,rotateY:Z,rotateZ:Z,scale:G,scaleX:G,scaleY:G,scaleZ:G,skew:Z,skewX:Z,skewY:Z,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:W,originX:re,originY:re,originZ:ee,zIndex:ie,fillOpacity:W,strokeOpacity:W,numOctaves:ie};function ae(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(U(h)){s[h]=e;continue}const n=se[h],r=B(e,n);if(M.has(h)){if(l=!0,a[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,o[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<O;o++){const t=R[o];if(void 0!==e[t]){const n=L[t]||t;a+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const oe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function le(e,t,n){for(const r in t)j(t[r])||D(r,n)||(e[r]=t[r])}function ce(e,t,n){const i={};return le(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e=oe();return ae(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function ue(e,t,n){const r={},i=ce(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const he=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function de(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||he.has(e)}let pe=e=>!de(e);try{(fe=require("@emotion/is-prop-valid").default)&&(pe=e=>e.startsWith("on")?!de(e):fe(e))}catch(ea){}var fe;function me(e,t,n){return"string"===typeof e?e:ee.transform(t+n*e)}const ge={offset:"stroke-dashoffset",array:"stroke-dasharray"},ve={offset:"strokeDashoffset",array:"strokeDasharray"};function ye(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p}=t;if(ae(e,p,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:g}=e;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=me(t,e.x,e.width),i=me(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?ge:ve;e[s.offset]=ee.transform(-r);const a=ee.transform(t),o=ee.transform(n);e[s.array]="".concat(a," ").concat(o)}(f,u,h,d,!1)}const be=()=>({...oe(),attrs:{}}),we=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ae(e,t,n,i){const s=(0,r.useMemo)((()=>{const n=be();return ye(n,t,{enableHardwareAcceleration:!1},we(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};le(t,e.style,e),s.style={...t,...s.style}}return s}function _e(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,s,a)=>{let{latestValues:o}=s;const l=(P(t)?Ae:ue)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(pe(i)||!0===n&&de(i)||!t&&!de(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:i},{children:h}=n,d=(0,r.useMemo)((()=>j(h)?h.get():h),[h]);return(0,r.createElement)(t,{...u,children:d})}}function xe(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Ee=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Se(e,t,n,r){xe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ee.has(i)?i:c(i),t.attrs[i])}function Ce(e,t){const{style:n}=e,r={};for(const i in n)(j(n[i])||t.style&&j(t.style[i])||D(i,e))&&(r[i]=n[i]);return r}function Te(e,t){const n=Ce(e,t);for(const r in e)if(j(e[r])||j(t[r])){n[-1!==R.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function ke(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Ie=n(4930);const Pe=e=>Array.isArray(e),Ne=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Re=e=>Pe(e)?e[e.length-1]||0:e;function Me(e){const t=j(e)?e.get():e;return Ne(t)?t.toValue():t}const De=e=>(t,n)=>{const i=(0,r.useContext)(s),o=(0,r.useContext)(a.t),l=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:je(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,i,o);return n?l():(0,Ie.M)(l)};function je(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Me(s[d]);let{initial:a,animate:o}=e;const l=g(e),c=v(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!p(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=ke(e,t);if(!n)return;const{transitionEnd:r,transition:s,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}var Le=n(7065);const Oe={useVisualState:De({scrapeMotionValuesFromProps:Te,createRenderState:be,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Le.Gt.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),Le.Gt.render((()=>{ye(r,i,{enableHardwareAcceleration:!1},we(t.tagName),e.transformTemplate),Se(t,r)}))}})},Fe={useVisualState:De({scrapeMotionValuesFromProps:Ce,createRenderState:oe})};function Ue(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ve=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const He=e=>t=>Ve(t)&&e(t,Be(t));function ze(e,t,n,r){return Ue(e,t,He(n),r)}const We=(e,t)=>n=>t(e(n)),Ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(We)};function qe(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Ke=qe("dragHorizontal"),Ye=qe("dragVertical");function Xe(e){let t=!1;if("y"===e)t=Ye();else if("x"===e)t=Ke();else{const e=Ke(),n=Ye();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Qe(){const e=Xe(!0);return!e||(e(),!1)}class Je{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ze(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ze(e.current,n,((n,i)=>{if("touch"===n.pointerType||Qe())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Le.Gt.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const $e=(e,t)=>!!t&&(e===t||$e(e,t.parentElement));var et=n(1892);function tt(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Be(n))}const nt=new WeakMap,rt=new WeakMap,it=e=>{const t=nt.get(e.target);t&&t(e)},st=e=>{e.forEach(it)};function at(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;rt.has(r)||rt.set(r,{});const i=rt.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(st,{root:t,...n})),i[s]}(t);return nt.set(e,n),r.observe(e),()=>{nt.delete(e),r.unobserve(e)}}const ot={some:0,all:1};const lt={inView:{Feature:class extends Je{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ot[r]};return at(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Je{constructor(){super(...arguments),this.removeStartListeners=et.l,this.removeEndListeners=et.l,this.removeAccessibleListeners=et.l,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=ze(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Le.Gt.update((()=>{i||$e(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=ze(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ge(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Ue(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Ue(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&tt("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Le.Gt.update((()=>n(e,t)))}))})),tt("down",((e,t)=>{this.startPress(e,t)}))})),t=Ue(this.node.current,"blur",(()=>{this.isPressing&&tt("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Ge(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Le.Gt.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qe()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Le.Gt.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=ze(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ue(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ge(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Je{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ge(Ue(this.node.current,"focus",(()=>this.onFocus())),Ue(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Je{mount(){this.unmount=Ge(Ze(this.node,!0),Ze(this.node,!1))}unmount(){}}}};function ct(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ut(e,t,n){const r=e.getProps();return ke(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}var ht=n(8129);const dt=e=>1e3*e,pt=e=>e/1e3,ft=!1,mt=e=>Array.isArray(e)&&"number"===typeof e[0];function gt(e){return Boolean(!e||"string"===typeof e&&yt[e]||mt(e)||Array.isArray(e)&&e.every(gt))}const vt=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},yt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vt([0,.65,.55,1]),circOut:vt([.55,0,1,.45]),backIn:vt([.31,.01,.66,-.59]),backOut:vt([.33,1.53,.69,.99])};function bt(e){if(e)return mt(e)?vt(e):Array.isArray(e)?e.map(bt):yt[e]}var wt=n(9630);const At=e=>Array.isArray(e)&&"number"!==typeof e[0];var _t=n(9962);const xt=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Et=e=>t=>1-e(1-t),St=e=>1-Math.sin(Math.acos(e)),Ct=Et(St),Tt=xt(St),kt=(0,_t.A)(.33,1.53,.69,.99),It=Et(kt),Pt=xt(It),Nt={linear:et.l,easeIn:wt.a6,easeInOut:wt.am,easeOut:wt.vT,circIn:St,circInOut:Tt,circOut:Ct,backIn:It,backInOut:Pt,backOut:kt,anticipate:e=>(e*=2)<1?.5*It(e):.5*(2-Math.pow(2,-10*(e-1)))},Rt=e=>{if(Array.isArray(e)){(0,ht.V)(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return(0,_t.A)(t,n,r,i)}return"string"===typeof e?((0,ht.V)(void 0!==Nt[e],"Invalid easing type '".concat(e,"'")),Nt[e]):e},Mt=(e,t)=>n=>Boolean(Q(n)&&X.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Dt=(e,t,n)=>r=>{if(!Q(r))return r;const[i,s,a,o]=r.match(K);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},jt={...z,transform:e=>Math.round((e=>H(0,255,e))(e))},Lt={test:Mt("rgb","red"),parse:Dt("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+jt.transform(t)+", "+jt.transform(n)+", "+jt.transform(r)+", "+q(W.transform(i))+")"}};const Ot={test:Mt("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Lt.transform},Ft={test:Mt("hsl","hue"),parse:Dt("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+$.transform(q(n))+", "+$.transform(q(r))+", "+q(W.transform(i))+")"}},Ut={test:e=>Lt.test(e)||Ot.test(e)||Ft.test(e),parse:e=>Lt.test(e)?Lt.parse(e):Ft.test(e)?Ft.parse(e):Ot.parse(e),transform:e=>Q(e)?e:e.hasOwnProperty("red")?Lt.transform(e):Ft.transform(e)},Vt=(e,t,n)=>-n*e+n*t+e;function Bt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Ht=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zt=[Ot,Lt,Ft];function Wt(e){const t=(n=e,zt.find((e=>e.test(n))));var n;(0,ht.V)(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Ft&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Bt(i,e,t+1/3),a=Bt(i,e,t),o=Bt(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(r)),r}const Gt=(e,t)=>{const n=Wt(e),r=Wt(t),i={...n};return e=>(i.red=Ht(n.red,r.red,e),i.green=Ht(n.green,r.green,e),i.blue=Ht(n.blue,r.blue,e),i.alpha=Vt(n.alpha,r.alpha,e),Lt.transform(i))};const qt={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:et.l},Kt={regex:Y,countKey:"Colors",token:"${c}",parse:Ut.parse},Yt={regex:K,countKey:"Numbers",token:"${n}",parse:z.parse};function Xt(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function Qt(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Xt(n,qt),Xt(n,Kt),Xt(n,Yt),n}function Jt(e){return Qt(e).values}function Zt(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Qt(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(qt.token,e[i]):i<r+n?t.replace(Kt.token,Ut.transform(e[i])):t.replace(Yt.token,q(e[i]));return t}}const $t=e=>"number"===typeof e?0:e;const en={test:function(e){var t,n;return isNaN(e)&&Q(e)&&((null===(t=e.match(K))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Y))||void 0===n?void 0:n.length)||0)>0},parse:Jt,createTransformer:Zt,getAnimatableNone:function(e){const t=Jt(e);return Zt(e)(t.map($t))}},tn=(e,t)=>n=>"".concat(n>0?t:e);function nn(e,t){return"number"===typeof e?n=>Vt(e,t,n):Ut.test(e)?Gt(e,t):e.startsWith("var(")?tn(e,t):an(e,t)}const rn=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>nn(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},sn=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=nn(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},an=(e,t)=>{const n=en.createTransformer(t),r=Qt(e),i=Qt(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ge(rn(r.values,i.values),n):((0,ht.$)(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),tn(e,t))},on=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ln=(e,t)=>n=>Vt(e,t,n);function cn(e,t,n){const r=[],i=n||("number"===typeof(s=e[0])?ln:"string"===typeof s?Ut.test(s)?Gt:an:Array.isArray(s)?rn:"object"===typeof s?sn:ln);var s;const a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||et.l:t;n=Ge(e,n)}r.push(n)}return r}function un(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if((0,ht.V)(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=cn(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=on(e[n],e[n+1],t);return a[n](r)};return n?t=>l(H(e[0],e[s-1],t)):l}function hn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=on(0,t,r);e.push(Vt(n,1,i))}}(t,e.length-1),t}function dn(e,t){return e.map((()=>t||wt.am)).splice(0,e.length-1)}function pn(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=At(i)?i.map(Rt):Rt(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:hn(n),t),l=un(o,n,{ease:Array.isArray(s)?s:dn(n,s)});return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function fn(e,t){return t?e*(1e3/t):0}const mn=5;function gn(e,t,n){const r=Math.max(t-mn,0);return fn(n-e(r),t-r)}const vn=.001,yn=.01,bn=10,wn=.05,An=1;function _n(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;(0,ht.$)(r<=dt(bn),"Spring duration must be 10 seconds or less");let o=1-i;o=H(wn,An,o),r=H(yn,bn,pt(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=En(e,o),l=Math.exp(-n);return vn-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=En(Math.pow(e,2),o);return(-t(e)+vn>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-vn,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<xn;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=dt(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const xn=12;function En(e,t){return e*Math.sqrt(1-t*t)}const Sn=["duration","bounce"],Cn=["stiffness","damping","mass"];function Tn(e,t){return t.some((t=>void 0!==e[t]))}function kn(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Tn(e,Cn)&&Tn(e,Sn)){const n=_n(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-pt(i.velocity||0)}),f=d||0,m=c/(2*Math.sqrt(l*u)),g=a-s,v=pt(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=En(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((f+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(f+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((f+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:p&&h||null,next:e=>{const t=b(e);if(p)o.done=e>=h;else{let i=f;0!==e&&(i=m<1?gn(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function In(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],p={done:!1,value:d},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===o?g:o(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let A,_;const x=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(A=e,_=kn({keyframes:[p.value,f(p.value)],velocity:gn(b,e,p.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==A||(t=!0,w(e),x(e)),void 0!==A&&e>A?_.next(e-A):(!t&&w(e),p)}}}const Pn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Le.Gt.update(t,!0),stop:()=>(0,Le.WG)(t),now:()=>Le.uv.isProcessing?Le.uv.timestamp:performance.now()}},Nn=2e4;function Rn(e){let t=0;let n=e.next(t);for(;!n.done&&t<Nn;)t+=50,n=e.next(t);return t>=Nn?1/0:t}const Mn={decay:In,inertia:In,tween:pn,keyframes:pn,spring:kn};function Dn(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=Pn,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:p,onUpdate:f,...m}=e,g=1,v=!1;const y=()=>{n=new Promise((e=>{t=e}))};let b;y();const w=Mn[o]||pn;let A;w!==pn&&"number"!==typeof a[0]&&(A=un([0,100],a,{clamp:!1}),a=[0,100]);const _=w({...m,keyframes:a});let x;"mirror"===u&&(x=w({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let E="idle",S=null,C=null,T=null;null===_.calculatedDuration&&l&&(_.calculatedDuration=Rn(_));const{calculatedDuration:k}=_;let I=1/0,P=1/0;null!==k&&(I=k+c,P=I*(l+1)-c);let N=0;const R=e=>{if(null===C)return;g>0&&(C=Math.min(C,e)),g<0&&(C=Math.min(e-P/g,C)),N=null!==S?S:Math.round(e-C)*g;const t=N-i*(g>=0?1:-1),n=g>=0?t<0:t>P;N=Math.max(t,0),"finished"===E&&null===S&&(N=P);let r=N,s=_;if(l){const e=Math.min(N,P)/I;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/I)):"mirror"===u&&(s=x)),r=H(0,1,n)*I}const o=n?{done:!1,value:a[0]}:s.next(r);A&&(o.value=A(o.value));let{done:h}=o;n||null===k||(h=g>=0?N>=P:N<=0);const d=null===S&&("finished"===E||"running"===E&&h);return f&&f(o.value),d&&j(),o},M=()=>{b&&b.stop(),b=void 0},D=()=>{E="idle",M(),t(),y(),C=T=null},j=()=>{E="finished",p&&p(),M(),t()},L=()=>{if(v)return;b||(b=s(R));const e=b.now();h&&h(),null!==S?C=e-S:C&&"finished"!==E||(C=e),"finished"===E&&y(),T=C,S=null,E="running",b.start()};r&&L();const O={then:(e,t)=>n.then(e,t),get time(){return pt(N)},set time(e){e=dt(e),N=e,null===S&&b&&0!==g?C=b.now()-e/g:S=e},get duration(){const e=null===_.calculatedDuration?Rn(_):_.calculatedDuration;return pt(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,O.time=pt(N))},get state(){return E},play:L,pause:()=>{E="paused",S=N},stop:()=>{v=!0,"idle"!==E&&(E="idle",d&&d(),D())},cancel:()=>{null!==T&&R(T),D()},complete:()=>{E="finished"},sample:e=>(C=0,R(e))};return O}const jn=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Ln=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function On(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(jn()&&Ln.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise((e=>{a=e}))};u();let{keyframes:h,duration:d=300,ease:p,times:f}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!gt(t.ease))(t,s)){const e=Dn({...s,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,h=n,d=r-10,p="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=bt(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,h,{...s,duration:d,ease:p,times:f}),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,Le.Gt.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),v())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,et.l),get time(){return pt(m.currentTime||0)},set time(e){m.currentTime=dt(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return pt(d)},play:()=>{l||(m.play(),(0,Le.WG)(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=Dn({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const Fn={type:"spring",stiffness:500,damping:25,restSpeed:10},Un={type:"keyframes",duration:.8},Vn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bn=(e,t)=>{let{keyframes:n}=t;return n.length>2?Un:M.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Fn:Vn},Hn=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!en.test(t)&&"0"!==t||t.startsWith("url("))),zn=new Set(["brightness","contrast","saturate","opacity"]);function Wn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(K)||[];if(!r)return e;const i=n.replace(r,"");let s=zn.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Gn=/([a-z-]*)\(.*?\)/g,qn={...en,getAnimatableNone:e=>{const t=e.match(Gn);return t?t.map(Wn).join(" "):e}},Kn={...se,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:qn,WebkitFilter:qn},Yn=e=>Kn[e];function Xn(e,t){let n=Yn(e);return n!==qn&&(n=en),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Qn=e=>/^0[^.\s]+$/.test(e);function Jn(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Qn(e):void 0}function Zn(e,t){return e[t]||e.default||e}const $n=!1,er=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Zn(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=dt(a);const l=function(e,t,n,r){const i=Hn(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),Jn(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Xn(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],h=Hn(e,c),d=Hn(e,u);(0,ht.$)(h===d,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length}(s)||(p={...p,...Bn(e,p)}),p.duration&&(p.duration=dt(p.duration)),p.repeatDelay&&(p.repeatDelay=dt(p.repeatDelay)),!h||!d||ft||!1===s.type||$n)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:et.l,pause:et.l,stop:et.l,then:e=>(e(),Promise.resolve()),cancel:et.l,complete:et.l});return n?Dn({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(ft?{...p,delay:0}:p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=On(t,e,p);if(n)return n}return Dn(p)}};function tr(e){return Boolean(j(e)&&e.add)}const nr=e=>/^\-?\d*\.?\d+$/.test(e);function rr(e,t){-1===e.indexOf(t)&&e.push(t)}function ir(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class sr{constructor(){this.subscriptions=[]}add(e){return rr(this.subscriptions,e),()=>ir(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ar={current:void 0};class or{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Le.uv;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Le.Gt.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Le.Gt.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sr);const n=this.events[e].add(t);return"change"===e?()=>{n(),Le.Gt.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ar.current&&ar.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?fn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lr(e,t){return new or(e,t)}const cr=e=>t=>t.test(e),ur=[z,ee,$,Z,ne,te,{test:e=>"auto"===e,parse:e=>e}],hr=e=>ur.find(cr(e)),dr=[...ur,Ut,en];function pr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,lr(n))}function fr(e,t){const n=ut(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){pr(e,a,Re(s[a]))}}function mr(e,t){if(!t)return;return(t[e]||t.default||t).from}function gr(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function vr(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function yr(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const d in o){const t=e.getValue(d),r=o[d];if(!t||void 0===r||h&&gr(h,d))continue;const i={delay:n,elapsed:0,...Zn(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[u];if(n){const e=window.HandoffAppearAnimations(n,d,t,Le.Gt);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!vr(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(er(d,t,r,e.shouldReduceMotion&&M.has(d)?{type:!1}:i));const p=t.animation;tr(l)&&(l.add(d),p.then((()=>l.remove(d)))),c.push(p)}return a&&Promise.all(c).then((()=>{a&&fr(e,a)})),c}function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=ut(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(yr(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(wr).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(br(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function wr(e,t){return e.sortNodePosition(t)}const Ar=[...f].reverse(),_r=f.length;function xr(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>br(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=br(e,t,r);else{const i="function"===typeof t?ut(e,t,r.custom):t;n=Promise.all(yr(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Er(e){let t=xr(e);const n={animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()};let r=!0;const i=(t,n)=>{const r=ut(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},f=1/0;for(let t=0;t<_r;t++){const m=Ar[t],g=n[m],v=void 0!==o[m]?o[m]:l[m],y=d(v),b=m===a?g.isActive:null;!1===b&&(f=t);let w=v===l[m]&&v!==o[m]&&y;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),g.protectedKeys={...h},!g.isActive&&null===b||!v&&!g.prevProp||p(v)||"boolean"===typeof v)continue;let A=Sr(g.prevProp,v)||m===a&&g.isActive&&!w&&y||t>f&&y,_=!1;const x=Array.isArray(v)?v:[v];let E=x.reduce(i,{});!1===b&&(E={});const{prevResolvedValues:S={}}=g,C={...S,...E},T=e=>{A=!0,u.has(e)&&(_=!0,u.delete(e)),g.needsAnimating[e]=!0};for(const e in C){const t=E[e],n=S[e];if(h.hasOwnProperty(e))continue;let r=!1;r=Pe(t)&&Pe(n)?!ct(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):g.protectedKeys[e]=!0}g.prevProp=v,g.prevResolvedValues=E,g.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(A=!1),!A||w&&!_||c.push(...x.map((e=>({animation:e,options:{type:m,...s}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let m=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(m=!1),r=!1,m?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Sr(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!ct(t,e)}function Cr(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Tr=0;const kr={animation:{Feature:class extends Je{constructor(e){super(e),e.animationState||(e.animationState=Er(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),p(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Je{constructor(){super(...arguments),this.id=Tr++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ir=(e,t)=>Math.abs(e-t);class Pr{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Mr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ir(e.x,t.x),r=Ir(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Le.uv;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Nr(t,this.transformPagePoint),Le.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Mr("pointercancel"===e.type?this.lastMoveEventInfo:Nr(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Ve(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Nr(Be(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Le.uv;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Mr(s,this.history)),this.removeListeners=Ge(ze(this.contextWindow,"pointermove",this.handlePointerMove),ze(this.contextWindow,"pointerup",this.handlePointerUp),ze(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,Le.WG)(this.updatePoint)}}function Nr(e,t){return t?{point:t(e.point)}:e}function Rr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mr(e,t){let{point:n}=e;return{point:n,delta:Rr(n,jr(t)),offset:Rr(n,Dr(t)),velocity:Lr(t,.1)}}function Dr(e){return e[0]}function jr(e){return e[e.length-1]}function Lr(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=jr(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dt(t)));)n--;if(!r)return{x:0,y:0};const s=pt(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Or(e){return e.max-e.min}function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Ur(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Vt(t.min,t.max,e.origin),e.scale=Or(n)/Or(t),(Fr(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Vt(n.min,n.max,e.origin)-e.originPoint,(Fr(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Vr(e,t,n,r){Ur(e.x,t.x,n.x,r?r.originX:void 0),Ur(e.y,t.y,n.y,r?r.originY:void 0)}function Br(e,t,n){e.min=n.min+t.min,e.max=e.min+Or(t)}function Hr(e,t,n){e.min=t.min-n.min,e.max=e.min+Or(t)}function zr(e,t,n){Hr(e.x,t.x,n.x),Hr(e.y,t.y,n.y)}function Wr(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Gr(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const qr=.35;function Kr(e,t,n){return{min:Yr(e,t),max:Yr(e,n)}}function Yr(e,t){return"number"===typeof e?e:e[t]||0}const Xr=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Qr=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Jr(e){return[e("x"),e("y")]}function Zr(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function $r(e){return void 0===e||1===e}function ei(e){let{scale:t,scaleX:n,scaleY:r}=e;return!$r(t)||!$r(n)||!$r(r)}function ti(e){return ei(e)||ni(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ni(e){return ri(e.x)||ri(e.y)}function ri(e){return e&&"0%"!==e}function ii(e,t,n){return n+t*(e-n)}function si(e,t,n,r,i){return void 0!==i&&(e=ii(e,i,r)),ii(e,n,r)+t}function ai(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=si(e.min,t,n,r,i),e.max=si(e.max,t,n,r,i)}function oi(e,t){let{x:n,y:r}=t;ai(e.x,n.translate,n.scale,n.originPoint),ai(e.y,r.translate,r.scale,r.originPoint)}function li(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ci(e,t){e.min=e.min+t,e.max=e.max+t}function ui(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=Vt(e.min,e.max,a);ai(e,t[r],t[i],o,t.scale)}const hi=["x","scaleX","originX"],di=["y","scaleY","originY"];function pi(e,t){ui(e.x,t,hi),ui(e.y,t,di)}function fi(e,t){return Zr(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const mi=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},gi=new WeakMap;class vi{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qr(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Pr(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Be(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Xe(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr((e=>{let t=this.getAxisMotionValue(e).get()||0;if($.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Or(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Le.Gt.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Jr((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:mi(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Le.Gt.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!yi(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Vt(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Vt(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&h(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Wr(e.x,r,s),y:Wr(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr;return!1===e?e=0:!0===e&&(e=qr),{x:Kr(e,"left","right"),y:Kr(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jr((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!h(e))return!1;const n=e.current;(0,ht.V)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=fi(e,n),{scroll:i}=t;return i&&(ci(r.x,i.offset.x),ci(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Gr(e.x,t.x),y:Gr(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Zr(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Jr((a=>{if(!yi(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(er(e,n,0,t))}stopAnimation(){Jr((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Jr((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Jr((t=>{const{drag:n}=this.getProps();if(!yi(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Vt(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!h(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Jr((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Or(e),i=Or(t);return i>r?n=on(t.min,t.max-r,e.min):r>i&&(n=on(e.min,e.max-i,t.min)),H(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Jr((t=>{if(!yi(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Vt(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;gi.set(this.visualElement,this);const e=ze(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();h(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Ue(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Jr((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=qr,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function yi(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const bi=e=>(t,n)=>{e&&Le.Gt.update((()=>e(t,n)))};const wi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ai(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _i={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ee.test(e))return e;e=parseFloat(e)}const n=Ai(e,t.target.x),r=Ai(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},xi={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=en.parse(e);if(s.length>5)return i;const a=en.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Vt(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class Ei extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Ci,Object.assign(N,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Le.Gt.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Si(e){const[t,n]=function(){const e=(0,r.useContext)(a.t);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=(0,r.useId)();return(0,r.useEffect)((()=>i(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(x.L);return r.createElement(Ei,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(E),isPresent:t,safeToRemove:n})}const Ci={borderRadius:{..._i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_i,borderTopRightRadius:_i,borderBottomLeftRadius:_i,borderBottomRightRadius:_i,boxShadow:xi},Ti=["TopLeft","TopRight","BottomLeft","BottomRight"],ki=Ti.length,Ii=e=>"string"===typeof e?parseFloat(e):e,Pi=e=>"number"===typeof e||ee.test(e);function Ni(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ri=Di(0,.5,Ct),Mi=Di(.5,.95,et.l);function Di(e,t,n){return r=>r<e?0:r>t?1:n(on(e,t,r))}function ji(e,t){e.min=t.min,e.max=t.max}function Li(e,t){ji(e.x,t.x),ji(e.y,t.y)}function Oi(e,t,n,r,i){return e=ii(e-=t,1/n,r),void 0!==i&&(e=ii(e,1/i,r)),e}function Fi(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;$.test(t)&&(t=parseFloat(t),t=Vt(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Vt(s.min,s.max,r);e===s&&(o-=t),e.min=Oi(e.min,t,n,o,i),e.max=Oi(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Ui=["x","scaleX","originX"],Vi=["y","scaleY","originY"];function Bi(e,t,n,r){Fi(e.x,t,Ui,n?n.x:void 0,r?r.x:void 0),Fi(e.y,t,Vi,n?n.y:void 0,r?r.y:void 0)}function Hi(e){return 0===e.translate&&1===e.scale}function zi(e){return Hi(e.x)&&Hi(e.y)}function Wi(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gi(e){return Or(e.x)/Or(e.y)}class qi{constructor(){this.members=[]}add(e){rr(this.members,e),e.scheduleRender()}remove(e){if(ir(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ki(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const Yi=(e,t)=>e.depth-t.depth;class Xi{constructor(){this.children=[],this.isDirty=!1}add(e){rr(this.children,e),this.isDirty=!0}remove(e){ir(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yi),this.isDirty=!1,this.children.forEach(e)}}const Qi=["","X","Y","Z"],Ji={visibility:"hidden"};let Zi=0;const $i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function es(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Zi++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,$i.totalNodes=$i.resolvedTargetDeltas=$i.recalculatedProjection=0,this.nodes.forEach(rs),this.nodes.forEach(us),this.nodes.forEach(hs),this.nodes.forEach(is),e=$i,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xi)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new sr),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&((0,Le.WG)(r),e(a-t))};return Le.Gt.read(r,!0),()=>(0,Le.WG)(r)}(r,250),wi.hasAnimatedSinceResize&&(wi.hasAnimatedSinceResize=!1,this.nodes.forEach(cs))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||vs,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Wi(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Zn(s,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||cs(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,Le.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ds),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(as);this.isUpdating||this.nodes.forEach(os),this.isUpdating=!1,this.nodes.forEach(ls),this.nodes.forEach(ts),this.nodes.forEach(ns),this.clearAllSnapshots();const e=performance.now();Le.uv.delta=H(0,1e3/60,e-Le.uv.timestamp),Le.uv.timestamp=e,Le.uv.isProcessing=!0,Le.Ci.update.process(Le.uv),Le.Ci.preRender.process(Le.uv),Le.Ci.render.process(Le.uv),Le.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(ss),this.sharedNodes.forEach(ps)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.Gt.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!zi(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||ti(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ws((r=n).x),ws(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return Qr();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ci(t.x,n.offset.x),ci(t.y,n.offset.y)),t}removeElementScroll(e){const t=Qr();Li(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Li(t,e);const{scroll:n}=this.root;n&&(ci(t.x,-n.offset.x),ci(t.y,-n.offset.y))}ci(t.x,i.offset.x),ci(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Qr();Li(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&pi(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ti(e.latestValues)&&pi(n,e.latestValues)}return ti(this.latestValues)&&pi(n,this.latestValues),n}removeTransform(e){const t=Qr();Li(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ti(e.latestValues))continue;ei(e.latestValues)&&e.updateSnapshot();const r=Qr();Li(r,e.measurePageBox()),Bi(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ti(this.latestValues)&&Bi(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Le.uv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),zr(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target=Qr(),this.targetWithTransforms=Qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Br(a.x,o.x,l.x),Br(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),oi(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),zr(this.relativeTargetOrigin,this.target,e.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ei(this.parent.latestValues)&&!ni(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Le.uv.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Li(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pi(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,oi(e,a)),r&&ti(s.latestValues)&&pi(e,s.latestValues))}t.x=li(t.x),t.y=li(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=Xr(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=Xr(),this.projectionDeltaWithTransform=Xr());const c=this.projectionTransform;Vr(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Ki(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),$i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s=Xr();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=Qr(),o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(gs));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,d,p,f,m,g;fs(s.x,e.x,n),fs(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zr(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=a,g=n,ms(p.x,f.x,m.x,g),ms(p.y,f.y,m.y,g),h&&(l=this.relativeTarget,d=h,l.x.min===d.x.min&&l.x.max===d.x.max&&l.y.min===d.y.min&&l.y.max===d.y.max)&&(this.isProjectionDirty=!1),h||(h=Qr()),Li(h,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Vt(0,void 0!==n.opacity?n.opacity:1,Ri(r)),e.opacityExit=Vt(void 0!==t.opacity?t.opacity:1,0,Mi(r))):s&&(e.opacity=Vt(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ki;a++){const i="border".concat(Ti[a],"Radius");let s=Ni(t,i),o=Ni(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Pi(s)===Pi(o)?(e[i]=Math.max(Vt(Ii(s),Ii(o),r),0),($.test(o)||$.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Vt(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,Le.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.Gt.update((()=>{wi.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=j(e)?e:lr(e);return r.start(er("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&As(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Qr();const t=Or(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Or(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Li(t,n),pi(t,i),Vr(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new qi);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Qi.length;i++){const t="rotate"+Qi[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ji;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Me(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Me(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!ti(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Ki(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in N){if(void 0===a[c])continue;const{correct:e,applyTo:t}=N[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Me(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(as),this.root.sharedNodes.clear()}}}function ts(e){e.updateLayout()}function ns(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Jr((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Or(r);r.min=t[e].min,r.max=r.min+i})):As(i,n.layoutBox,t)&&Jr((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Or(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=Xr();Vr(a,t,n.layoutBox);const o=Xr();s?Vr(o,e.applyTransform(r,!0),n.measuredBox):Vr(o,t,n.layoutBox);const l=!zi(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a=Qr();zr(a,n.layoutBox,i.layoutBox);const o=Qr();zr(o,t,s.layoutBox),Wi(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function rs(e){$i.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function is(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ss(e){e.clearSnapshot()}function as(e){e.clearMeasurements()}function os(e){e.isLayoutDirty=!1}function ls(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cs(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function us(e){e.resolveTargetDelta()}function hs(e){e.calcProjection()}function ds(e){e.resetRotation()}function ps(e){e.removeLeadSnapshot()}function fs(e,t,n){e.translate=Vt(t.translate,0,n),e.scale=Vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ms(e,t,n,r){e.min=Vt(t.min,n.min,r),e.max=Vt(t.max,n.max,r)}function gs(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const vs={duration:.45,ease:[.4,0,.1,1]},ys=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),bs=ys("applewebkit/")&&!ys("chrome/")?Math.round:et.l;function ws(e){e.min=bs(e.min),e.max=bs(e.max)}function As(e,t,n){return"position"===e||"preserve-aspect"===e&&!Fr(Gi(t),Gi(n),.2)}const _s=es({attachResizeListener:(e,t)=>Ue(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xs={current:void 0},Es=es({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xs.current){const e=new _s({});e.mount(window),e.setOptions({layoutScroll:!0}),xs.current=e}return xs.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ss={pan:{Feature:class extends Je{constructor(){super(...arguments),this.removePointerDownListener=et.l}onPointerDown(e){this.session=new Pr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mi(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:bi(e),onStart:bi(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Le.Gt.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ze(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Je{constructor(e){super(e),this.removeGroupControls=et.l,this.removeListeners=et.l,this.controls=new vi(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||et.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Es,MeasureLayout:Si}},Cs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const Ts=4;function ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,ht.V)(n<=Ts,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Cs.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return nr(e)?parseFloat(e):e}return V(i)?ks(i,t,n+1):i}const Is=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ps=e=>Is.has(e),Ns=e=>e===z||e===ee,Rs=(e,t)=>parseFloat(e.split(", ")[t]),Ms=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return Rs(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Rs(t[1],e):0}},Ds=new Set(["x","y","z"]),js=R.filter((e=>!Ds.has(e)));const Ls={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Ms(4,13),y:Ms(5,14)};Ls.translateX=Ls.x,Ls.translateY=Ls.y;const Os=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(Ps);let s=[],a=!1;const o=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=hr(c);const h=t[i];let d;if(Pe(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=hr(c);for(let n=t;n<e&&null!==h[n];n++)d?(0,ht.V)(hr(h[n])===d,"All keyframes must be of the same type"):(d=hr(h[n]),(0,ht.V)(d===u||Ns(u)&&Ns(d),"Keyframes must be of the same dimension as the current value"))}else d=hr(h);if(u!==d)if(Ns(u)&&Ns(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===ee&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[i]=u.transform(h):(a||(s=function(e){const t=[];return js.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{o[e]=Ls[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=Ls[n](l,s)})),e})(t,e,o);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),_.B&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Fs(e,t,n,r){return(e=>Object.keys(e).some(Ps))(t)?Os(e,t,n,r):{target:t,transitionEnd:r}}const Us=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!V(t))return;const n=ks(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!V(e))continue;const t=ks(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Fs(e,t=i.target,n,r=i.transitionEnd)},Vs={current:null},Bs={current:!1};const Hs=new WeakMap,zs=Object.keys(A),Ws=zs.length,Gs=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qs=m.length;class Ks{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.Gt.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=g(n),this.isVariantNode=v(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const e=u[h];void 0!==o[h]&&j(e)&&(e.set(o[h],!1),tr(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Hs.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Bs.current||function(){if(Bs.current=!0,_.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vs.current=e.matches;e.addListener(t),t()}else Vs.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vs.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Hs.delete(this.current),this.projection&&this.projection.unmount(),(0,Le.WG)(this.notifyUpdate),(0,Le.WG)(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=M.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Le.Gt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a,...o}=e;for(let l=0;l<Ws;l++){const e=zs[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=A[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&h(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Gs.length;n++){const t=Gs[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(j(s))e.addValue(i,s),tr(r)&&r.add(i);else if(j(a))e.addValue(i,lr(s,{owner:e})),tr(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,lr(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<qs;t++){const n=m[t],r=this.props[n];(d(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=lr(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=ke(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||j(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new sr),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Ys extends Ks{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=mr(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),a=s.length;var o;if(a)for(let l=0;l<a;l++){const a=s[l],c=t[a];let u=null;Array.isArray(c)&&(u=c[0]),null===u&&(u=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==u&&null!==u&&("string"===typeof u&&(nr(u)||Qn(u))?u=parseFloat(u):(o=u,!dr.find(cr(o))&&en.test(c)&&(u=Xn(a,c))),e.addValue(a,lr(u,{owner:e})),void 0===n[a]&&(n[a]=u),null!==u&&e.setBaseTarget(a,u))}}(this,s,o);const e=Us(this,s,o,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class Xs extends Ys{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(M.has(t)){const e=Yn(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(U(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return fi(e,n)}build(e,t,n,r){ae(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ce(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;j(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){xe(e,t,n,r)}}class Qs extends Ys{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(M.has(t)){const e=Yn(t);return e&&e.default||0}return t=Ee.has(t)?t:c(t),e.getAttribute(t)}measureInstanceViewportBox(){return Qr()}scrapeMotionValuesFromProps(e,t){return Te(e,t)}build(e,t,n,r){ye(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Se(e,t,0,r)}mount(e){this.isSVGTag=we(e.tagName),super.mount(e)}}const Js=(e,t)=>P(e)?new Qs(t,{enableHardwareAcceleration:!1}):new Xs(t,{enableHardwareAcceleration:!0}),Zs={...kr,...lt,...Ss,...{layout:{ProjectionNode:Es,MeasureLayout:Si}}},$s=k(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...P(e)?Oe:Fe,preloadedFeatures:n,useRender:_e(i),createVisualElement:r,Component:e}}(e,t,Zs,Js)))},8129:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,V:()=>s});var r=n(1892);let i=r.l,s=r.l},4735:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="undefined"!==typeof document},1892:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});const r=e=>e},4930:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(5043);function i(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},293:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(5043);const i=n(4735).B?r.useLayoutEffect:r.useEffect},9355:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{EA:()=>m,YE:()=>g,rE:()=>v});var i=n(1579),s=n(4705),a=n(3205),o=n(9790),l=n(5149),c=n(6562),u=n(4558),h=n(8458),d={976:(e,t,n)=>{n.d(t,{AnnotationLayer:()=>Me,FreeTextAnnotationElement:()=>oe,InkAnnotationElement:()=>be,StampAnnotationElement:()=>Ee});var r=n(292),i=n(419),s=n(792);function a(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function d(e){return Math.max(0,Math.min(255,255*e))}class p{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=d(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=a(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(d)}static RGB_HTML(e){return"#".concat(e.map(a).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[d(1-Math.min(1,t+i)),d(1-Math.min(1,r+i)),d(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,s=1-n,a=1-r;return["CMYK",i,s,a,Math.min(i,s,a)]}}var f=n(284);const m=1e3,g=new WeakSet;function v(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class y{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new S(e);case r.AnnotationType.TEXT:return new I(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new N(e);case"Btn":return e.data.radioButton?new D(e):e.data.checkBox?new M(e):new j(e);case"Ch":return new L(e);case"Sig":return new R(e)}return new P(e);case r.AnnotationType.POPUP:return new O(e);case r.AnnotationType.FREETEXT:return new oe(e);case r.AnnotationType.LINE:return new ce(e);case r.AnnotationType.SQUARE:return new he(e);case r.AnnotationType.CIRCLE:return new pe(e);case r.AnnotationType.POLYLINE:return new me(e);case r.AnnotationType.CARET:return new ve(e);case r.AnnotationType.INK:return new be(e);case r.AnnotationType.POLYGON:return new ge(e);case r.AnnotationType.HIGHLIGHT:return new we(e);case r.AnnotationType.UNDERLINE:return new Ae(e);case r.AnnotationType.SQUIGGLY:return new _e(e);case r.AnnotationType.STRIKEOUT:return new xe(e);case r.AnnotationType.STAMP:return new Ee(e);case r.AnnotationType.FILEATTACHMENT:return new Te(e);default:return new _(e)}}}var b=new WeakMap,w=new WeakMap,A=new WeakSet;class _{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.A)(this,A),(0,l.A)(this,b,null),(0,l.A)(this,w,!1),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get hasPopupData(){return _._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;(0,h.A)(b,this)||(0,u.A)(b,this,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&(0,c.A)(A,this,x).call(this,t)}resetEdited(){(0,h.A)(b,this)&&((0,c.A)(A,this,x).call(this,(0,h.A)(b,this).rect),(0,u.A)(b,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof P||(s.tabIndex=m);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof O){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:o,height:l}=v(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");a.borderRadius=t}else if(this instanceof D){const e="calc(".concat(o,"px * var(--scale-factor)) / calc(").concat(l,"px * var(--scale-factor))");a.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?((0,u.A)(w,this,!0),a.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const c=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:d,pageX:p,pageY:f}=i.rawDims;a.left="".concat(100*(c[0]-p)/h,"%"),a.top="".concat(100*(c[1]-f)/d,"%");const{rotation:g}=t;return t.hasOwnCanvas||0===g?(a.width="".concat(100*o/h,"%"),a.height="".concat(100*l/d,"%")):this.setRotation(g,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:s}=v(this.data.rect);let a,o;e%180===0?(a=100*i/n,o=100*s/r):(a=100*s/n,o=100*i/r),t.style.width="".concat(a,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],s=r.slice(1);n.target.style[t]=p["".concat(i,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[t]:p["".concat(i,"_rgb")](s)})};return(0,r.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const s=n[r];if(s){s({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect;if(1===e.length){const[,{x:s,y:a},{x:o,y:l}]=e[0];if(r===s&&i===a&&t===o&&n===l)return}const{style:s}=this.container;let a;if((0,h.A)(w,this)){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const p=c.createElement("clipPath"),f="clippath_".concat(this.data.id);p.setAttribute("id",f),p.setAttribute("clipPathUnits","objectBoundingBox"),d.append(p);for(const[,{x:h,y:g},{x:v,y:y}]of e){var m;const e=c.createElement("rect"),n=(v-t)/o,r=(i-g)/l,s=(h-v)/o,u=(g-y)/l;e.setAttribute("x",n),e.setAttribute("y",r),e.setAttribute("width",s),e.setAttribute("height",u),p.append(e),null===(m=a)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(n,'" y="').concat(r,'" width="').concat(s,'" height="').concat(u,'"/>'))}(0,h.A)(w,this)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new O({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:a}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof a?a:null,o=document.querySelector('[data-element-id="'.concat(s,'"]'));!o||g.has(o)?n.push({id:s,exportValue:i,domElement:o}):(0,r.warn)("_getElementsByName - element not allowed: ".concat(s))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(g.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}function x(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e);const{width:l,height:c}=v(e);t.left="".concat(100*(e[0]-a)/i,"%"),t.top="".concat(100*(s-e[3]+o)/s,"%"),0===r?(t.width="".concat(100*l/i,"%"),t.height="".concat(100*c/s,"%")):this.setRotation(r)}var E=new WeakSet;class S extends _{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),(0,o.A)(this,E),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?((0,c.A)(E,this,T).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?((0,c.A)(E,this,k).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(0,c.A)(E,this,C).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),(0,c.A)(E,this,C).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),(0,c.A)(E,this,C).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),(0,c.A)(E,this,C).call(this),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:i,include:s}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(g.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)("_bindResetFormAction - element not allowed: ".concat(e)))}var c;this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}));return!1}}}function C(){this.container.setAttribute("data-internal-link","")}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},(0,c.A)(E,this,C).call(this)}function k(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),(0,c.A)(E,this,C).call(this)}class I extends _{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class P extends _{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return r.FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,s,a;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let a;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);a=Math.min(i,o(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,o(e/r.LINE_FACTOR))}s.fontSize="calc(".concat(a,"px * var(--scale-factor))"),s.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class N extends P{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};var i,s;if(this.data.multiLine)n=document.createElement("textarea"),n.textContent=null!==(i=u)&&void 0!==i?i:l,this.data.doNotScroll&&(n.style.overflowY="hidden");else n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(s=u)&&void 0!==s?s:l),this.data.doNotScroll&&(n.style.overflowX="hidden");this.data.hasOwnCanvas&&(n.hidden=!0),g.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=m,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=h.userValue=r,h.formattedValue=null}));let d=e=>{const{formattedValue:t}=h;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",(e=>{var t;if(h.focused)return;const{target:n}=e;h.userValue&&(n.value=h.userValue),h.lastCommittedValue=n.value,h.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(h.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;h.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:h.userValue.toString()}),n.target.value=h.userValue},formattedValue(n){const{formattedValue:r}=n.detail;h.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let a=h.userValue;!a||a.length<=i||(a=a.slice(0,i),s.value=h.userValue=a,e.setValue(t,{value:a}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;h.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(h.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;h.lastCommittedValue!==i&&(h.lastCommittedValue=i,h.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=d;d=null,n.addEventListener("blur",(e=>{var n;if(!h.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);const{value:i}=e.target;var s;(h.userValue=i,h.lastCommittedValue!==i)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:h.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)})),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;h.lastCommittedValue=null;const{data:r,target:i}=e,{value:s,selectionStart:a,selectionEnd:o}=i;let l=a,c=o;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:r||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(d&&n.addEventListener("blur",d),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class R extends P{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class M extends P{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return g.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=m,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const a of this._getElementsByName(i,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class D extends P{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(g.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=m,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const s of this._getElementsByName(r,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class j extends S{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class L extends P{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");g.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=m;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let s=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),s=()=>{e.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=s)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;if(i[s].selected=!1,r.remove(s),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:s,exportValue:c}=n.detail.insert,u=r.children[i],h=document.createElement("option");h.textContent=s,h.value=c,u?u.before(h):r.append(h),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=a(!0),s=a(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class O extends _{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:_._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new ne({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(r.AnnotationPrefix).concat(e))).join(",")),this.container}}var F=new WeakMap,U=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,z=new WeakMap,W=new WeakMap,G=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakSet;class ne{constructor(e){let{container:t,color:n,elements:r,titleObj:s,modificationDate:a,contentsObj:d,richText:p,parent:f,rect:m,parentRect:g,open:v}=e;(0,o.A)(this,te),(0,l.A)(this,F,(0,c.A)(te,this,re).bind(this)),(0,l.A)(this,U,(0,c.A)(te,this,ae).bind(this)),(0,l.A)(this,V,(0,c.A)(te,this,se).bind(this)),(0,l.A)(this,B,(0,c.A)(te,this,ie).bind(this)),(0,l.A)(this,H,null),(0,l.A)(this,z,null),(0,l.A)(this,W,null),(0,l.A)(this,G,null),(0,l.A)(this,q,null),(0,l.A)(this,K,null),(0,l.A)(this,Y,null),(0,l.A)(this,X,!1),(0,l.A)(this,Q,null),(0,l.A)(this,J,null),(0,l.A)(this,Z,null),(0,l.A)(this,$,null),(0,l.A)(this,ee,!1),(0,u.A)(z,this,t),(0,u.A)($,this,s),(0,u.A)(W,this,d),(0,u.A)(Z,this,p),(0,u.A)(K,this,f),(0,u.A)(H,this,n),(0,u.A)(J,this,m),(0,u.A)(Y,this,g),(0,u.A)(q,this,r),(0,u.A)(G,this,i.PDFDateString.toDateObject(a)),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const i of this.trigger)i.addEventListener("click",(0,h.A)(B,this)),i.addEventListener("mouseenter",(0,h.A)(V,this)),i.addEventListener("mouseleave",(0,h.A)(U,this)),i.classList.add("popupTriggerArea");for(const i of r){var y;null===(y=i.container)||void 0===y||y.addEventListener("keydown",(0,h.A)(F,this))}(0,h.A)(z,this).hidden=!0,v&&(0,c.A)(te,this,ie).call(this)}render(){if((0,h.A)(Q,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=(0,h.A)(K,this),a=(0,u.A)(Q,this,document.createElement("div"));if(a.className="popup",(0,h.A)(H,this)){const e=a.style.outlineColor=r.Util.makeHexColor(...(0,h.A)(H,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))a.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;a.style.backgroundColor=r.Util.makeHexColor(...(0,h.A)(H,this).map((t=>Math.floor(e*(255-t)+t))))}}const o=document.createElement("span");o.className="header";const l=document.createElement("h1");if(o.append(l),({dir:l.dir,str:l.textContent}=(0,h.A)($,this)),a.append(o),(0,h.A)(G,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:(0,h.A)(G,this).toLocaleDateString(),time:(0,h.A)(G,this).toLocaleTimeString()})),o.append(e)}const c=(0,h.A)(W,this),d=(0,h.A)(Z,this);if(null===d||void 0===d||!d.str||null!==c&&void 0!==c&&c.str&&c.str!==d.str){const e=this._formatContents(c);a.append(e)}else f.XfaLayer.render({xfaHtml:d.html,intent:"richText",div:a}),a.lastChild.classList.add("richText","popupContent");let p=!!(0,h.A)(Y,this),m=p?(0,h.A)(Y,this):(0,h.A)(J,this);for(const u of(0,h.A)(q,this))if(!m||null!==r.Util.intersect(u.data.rect,m)){m=u.data.rect,p=!0;break}const g=r.Util.normalizeRect([m[0],e[3]-m[1]+e[1],m[2],e[3]-m[3]+e[1]]),v=p?m[2]-m[0]+5:0,y=g[0]+v,b=g[1],{style:w}=(0,h.A)(z,this);w.left="".concat(100*(y-i)/t,"%"),w.top="".concat(100*(b-s)/n,"%"),(0,h.A)(z,this).append(a)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const e=i[s];r.append(document.createTextNode(e)),s<a-1&&r.append(document.createElement("br"))}return r}forceHide(){(0,u.A)(ee,this,this.isVisible),(0,h.A)(ee,this)&&((0,h.A)(z,this).hidden=!0)}maybeShow(){(0,h.A)(ee,this)&&((0,u.A)(ee,this,!1),(0,h.A)(z,this).hidden=!1)}get isVisible(){return!1===(0,h.A)(z,this).hidden}}function re(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&(0,h.A)(X,this))&&(0,c.A)(te,this,ie).call(this)}function ie(){(0,u.A)(X,this,!(0,h.A)(X,this)),(0,h.A)(X,this)?((0,c.A)(te,this,se).call(this),(0,h.A)(z,this).addEventListener("click",(0,h.A)(B,this)),(0,h.A)(z,this).addEventListener("keydown",(0,h.A)(F,this))):((0,c.A)(te,this,ae).call(this),(0,h.A)(z,this).removeEventListener("click",(0,h.A)(B,this)),(0,h.A)(z,this).removeEventListener("keydown",(0,h.A)(F,this)))}function se(){(0,h.A)(Q,this)||this.render(),this.isVisible?(0,h.A)(X,this)&&(0,h.A)(z,this).classList.add("focused"):((0,h.A)(z,this).hidden=!1,(0,h.A)(z,this).style.zIndex=parseInt((0,h.A)(z,this).style.zIndex)+1e3)}function ae(){(0,h.A)(z,this).classList.remove("focused"),!(0,h.A)(X,this)&&this.isVisible&&((0,h.A)(z,this).hidden=!0,(0,h.A)(z,this).style.zIndex=parseInt((0,h.A)(z,this).style.zIndex)-1e3)}class oe extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var le=new WeakMap;class ce extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,l.A)(this,le,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=(0,u.A)(le,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(le,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ue=new WeakMap;class he extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,l.A)(this,ue,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=(0,u.A)(ue,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(ue,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var de=new WeakMap;class pe extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,l.A)(this,de,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=(0,u.A)(de,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(de,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var fe=new WeakMap;class me extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,l.A)(this,fe,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const a of e.vertices){const t=a.x-e.rect[0],n=e.rect[3]-a.y;i.push(t+","+n)}i=i.join(" ");const s=(0,u.A)(fe,this,this.svgFactory.createElement(this.svgElementName));return s.setAttribute("points",i),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(fe,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class ge extends me{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ve extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ye=new WeakMap;class be extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,l.A)(this,ye,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push("".concat(n,",").concat(i))}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);(0,h.A)(ye,this).push(n),n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(n)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return(0,h.A)(ye,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class we extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ae extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _e extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class xe extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ee extends _{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Se=new WeakMap,Ce=new WeakSet;class Te extends _{constructor(e){var t;super(e,{isRenderable:!0}),(0,o.A)(this,Ce),(0,l.A)(this,Se,null);const{filename:n,content:r}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(n,!0),this.content=r,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:n,content:r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",(0,c.A)(Ce,this,ke).bind(this)),(0,u.A)(Se,this,n);const{isMac:i}=r.FeatureTest.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&(0,c.A)(Ce,this,ke).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return(0,h.A)(Se,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function ke(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Ie=new WeakMap,Pe=new WeakMap,Ne=new WeakMap,Re=new WeakSet;class Me{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a}=e;(0,o.A)(this,Re),(0,l.A)(this,Ie,null),(0,l.A)(this,Pe,null),(0,l.A)(this,Ne,new Map),this.div=t,(0,u.A)(Ie,this,n),(0,u.A)(Pe,this,r),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){const{annotations:t}=e,n=this.div;(0,i.setLayerDimensions)(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new s.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const e=i.annotationType===r.AnnotationType.POPUP;if(e){const e=a.get(i.id);if(!e)continue;o.elements=e}else{const{width:e,height:t}=v(i.rect);if(e<=0||t<=0)continue}o.data=i;const t=y.create(o);if(!t.isRenderable)continue;if(!e&&i.popupRef){const e=a.get(i.popupRef);e?e.push(t):a.set(i.popupRef,[t])}const n=t.render();var l;if(i.hidden&&(n.style.visibility="hidden"),(0,c.A)(Re,this,De).call(this,n,i.id),t.annotationEditorType>0)(0,h.A)(Ne,this).set(t.data.id,t),null===(l=this._annotationEditorUIManager)||void 0===l||l.renderAnnotationElement(t)}(0,c.A)(Re,this,je).call(this)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,(0,i.setLayerDimensions)(n,{rotation:t.rotation}),(0,c.A)(Re,this,je).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from((0,h.A)(Ne,this).values())}getEditableAnnotation(e){return(0,h.A)(Ne,this).get(e)}}function De(e,t){var n;const i=e.firstChild||e;i.id="".concat(r.AnnotationPrefix).concat(t),this.div.append(e),null===(n=(0,h.A)(Ie,this))||void 0===n||n.moveElementInDOM(this.div,e,i,!1)}function je(){if(!(0,h.A)(Pe,this))return;const e=this.div;for(const[t,n]of(0,h.A)(Pe,this)){const r=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!r)continue;n.className="annotationContent";const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):r.append(n)}(0,h.A)(Pe,this).clear()}},792:(e,t,n)=>{n.d(t,{AnnotationStorage:()=>m,PrintAnnotationStorage:()=>y,SerializableEmpty:()=>a});var r=n(292),i=n(310),s=n(651);const a=Object.freeze({map:null,hash:"",transfer:void 0});var d=new WeakMap,p=new WeakMap,f=new WeakSet;class m{constructor(){(0,o.A)(this,f),(0,l.A)(this,d,!1),(0,l.A)(this,p,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=(0,h.A)(p,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return(0,h.A)(p,this).get(e)}remove(e){if((0,h.A)(p,this).delete(e),0===(0,h.A)(p,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of(0,h.A)(p,this).values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=(0,h.A)(p,this).get(e);let r=!1;if(void 0!==n)for(const[i,s]of Object.entries(t))n[i]!==s&&(r=!0,n[i]=s);else r=!0,(0,h.A)(p,this).set(e,t);r&&(0,c.A)(f,this,g).call(this),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return(0,h.A)(p,this).has(e)}getAll(){return(0,h.A)(p,this).size>0?(0,r.objectFromMap)((0,h.A)(p,this)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return(0,h.A)(p,this).size}resetModified(){(0,h.A)(d,this)&&((0,u.A)(d,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new y(this)}get serializable(){if(0===(0,h.A)(p,this).size)return a;const e=new Map,t=new s.MurmurHash3_64,n=[],r=Object.create(null);let o=!1;for(const[s,a]of(0,h.A)(p,this)){const n=a instanceof i.AnnotationEditor?a.serialize(!1,r):a;n&&(e.set(s,n),t.update("".concat(s,":").concat(JSON.stringify(n))),o||(o=!!n.bitmap))}if(o)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:a}get editorStats(){let e=null;const t=new Map;for(const s of(0,h.A)(p,this).values()){var n;if(!(s instanceof i.AnnotationEditor))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=(n=e)[o]||(n[o]=new Map);for(const[e,t]of Object.entries(a)){var r;if("type"===e)continue;let n=l.get(e);n||(n=new Map,l.set(e,n));const i=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,i+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}}function g(){(0,h.A)(d,this)||((0,u.A)(d,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var v=new WeakMap;class y extends m{constructor(e){super(),(0,l.A)(this,v,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);(0,u.A)(v,this,{map:i,hash:n,transfer:r})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return(0,h.A)(v,this)}}},831:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{PDFDataRangeTransport:()=>se,PDFWorker:()=>de,build:()=>_e,getDocument:()=>$,version:()=>Ae});var i=n(292),s=n(792),d=n(419),p=n(10),f=n(573),m=n(923),g=n(814),v=n(164),y=n(178),b=n(62),w=n(626),A=n(585),_=n(94),x=n(457),E=n(786),S=n(50),C=e([f,E]);[f,E]=C.then?(await C)():C;const q=65536,K=100,Y=5e3,X=i.isNodeJS?f.NodeCanvasFactory:d.DOMCanvasFactory,Q=i.isNodeJS?f.NodeCMapReaderFactory:d.DOMCMapReaderFactory,J=i.isNodeJS?f.NodeFilterFactory:d.DOMFilterFactory,Z=i.isNodeJS?f.NodeStandardFontDataFactory:d.DOMStandardFontDataFactory;function $(e){var t,n;if("string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const r=new ie,{docId:s}=r,a=e.url?te(e.url):null,o=e.data?ne(e.data):null,l=e.httpHeaders||null,c=!0===e.withCredentials,u=null!==(t=e.password)&&void 0!==t?t:null,h=e.range instanceof se?e.range:null,p=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:q;let f=e.worker instanceof de?e.worker:null;const m=e.verbosity,g="string"!==typeof e.docBaseUrl||(0,d.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,b="string"===typeof e.cMapUrl?e.cMapUrl:null,w=!1!==e.cMapPacked,S=e.CMapReaderFactory||Q,C="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,T=e.StandardFontDataFactory||Z,k=!0!==e.stopAtErrors,I=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,P=!1!==e.isEvalSupported,N="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!i.isNodeJS,R=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,M="boolean"===typeof e.disableFontFace?e.disableFontFace:i.isNodeJS,D=!0===e.fontExtraProperties,j=!0===e.enableXfa,L=e.ownerDocument||globalThis.document,O=!0===e.disableRange,F=!0===e.disableStream,U=!0===e.disableAutoFetch,V=!0===e.pdfBug,B=h?h.length:null!==(n=e.length)&&void 0!==n?n:NaN,H="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!i.isNodeJS&&!M,z="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:S===d.DOMCMapReaderFactory&&T===d.DOMStandardFontDataFactory&&b&&C&&(0,d.isValidFetchUrl)(b,document.baseURI)&&(0,d.isValidFetchUrl)(C,document.baseURI),W=e.canvasFactory||new X({ownerDocument:L}),G=e.filterFactory||new J({docId:s,ownerDocument:L});(0,i.setVerbosityLevel)(m);const K={canvasFactory:W,filterFactory:G};if(z||(K.cMapReaderFactory=new S({baseUrl:b,isCompressed:w}),K.standardFontDataFactory=new T({baseUrl:C})),!f){const e={verbosity:m,port:v.GlobalWorkerOptions.workerPort};f=e.port?de.fromPort(e):new de(e),r._worker=f}const Y={docId:s,apiVersion:"4.2.67",data:o,password:u,disableAutoFetch:U,rangeChunkSize:p,length:B,docBaseUrl:g,enableXfa:j,evaluatorOptions:{maxImageSize:I,disableFontFace:M,ignoreErrors:k,isEvalSupported:P,isOffscreenCanvasSupported:N,canvasMaxAreaInBytes:R,fontExtraProperties:D,useSystemFonts:H,cMapUrl:z?b:null,standardFontDataUrl:z?C:null}},$={ignoreErrors:k,disableFontFace:M,fontExtraProperties:D,enableXfa:j,ownerDocument:L,disableAutoFetch:U,pdfBug:V,styleElement:null};return f.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");const e=ee(f,Y),t=new Promise((function(e){let t;if(h)t=new A.PDFDataTransportStream(h,{disableRange:O,disableStream:F});else if(!o){t=(e=>{if(i.isNodeJS){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&(0,d.isValidFetchUrl)(e.url)?new _.PDFFetchStream(e):new E.PDFNodeStream(e)}return(0,d.isValidFetchUrl)(e.url)?new _.PDFFetchStream(e):new x.PDFNetworkStream(e)})({url:a,length:B,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:O,disableStream:F})}e(t)}));return Promise.all([e,t]).then((function(e){let[t,n]=e;if(r.destroyed)throw new Error("Loading aborted");const i=new y.MessageHandler(s,t,f.port),a=new fe(i,r,n,$,K);r._transport=a,i.send("Ready",null)}))})).catch(r._capability.reject),r}async function ee(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function te(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(i.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ne(e){if(i.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,i.stringToBytes)(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function re(e){return"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0}class ie{constructor(){var e,t;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((T._=(e=T._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(r){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var T={_:0};class se{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ae{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var k=new WeakMap,I=new WeakMap,P=new WeakSet;class oe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,o.A)(this,P),(0,l.A)(this,k,null),(0,l.A)(this,I,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new d.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new ve,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:s,intent:a="display",annotationMode:o=i.AnnotationMode.ENABLE,transform:l=null,background:h=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:f=null,printAnnotationStorage:m=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const g=this._transport.getRenderingIntent(a,o,m),{renderingIntent:v,cacheKey:y}=g;(0,u.A)(I,this,!1),(0,c.A)(P,this,ce).call(this),d||(d=this._transport.getOptionalContentConfig(v));let b=this._intentStates.get(y);b||(b=Object.create(null),this._intentStates.set(y,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const w=!!(v&i.RenderingIntentFlag.PRINT);var A;b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(A=this._stats)||void 0===A||A.time("Page Request"),this._pumpOperatorList(g));const _=e=>{var t,n;b.renderTasks.delete(x),(this._maybeCleanupAfterRender||w)&&(0,u.A)(I,this,!0),(0,c.A)(P,this,le).call(this,!w),e?(x.capability.reject(e),this._abortOperatorList({intentState:b,reason:e instanceof Error?e:new Error(e)})):x.capability.resolve(),null===(t=this._stats)||void 0===t||t.timeEnd("Rendering"),null===(n=this._stats)||void 0===n||n.timeEnd("Overall")},x=new we({callback:_,params:{canvasContext:r,viewport:s,transform:l,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:f});((n=b).renderTasks||(n.renderTasks=new Set)).add(x);const E=x.task;return Promise.all([b.displayReadyCapability.promise,d]).then((e=>{var t;let[n,r]=e;if(this.destroyed)_();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(r.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:n,optionalContentConfig:r}),x.operatorListChanged()}})).catch(_),E}getOperatorList(){let{intent:e="display",annotationMode:t=i.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let s,a=this._intentStates.get(r.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability)||(s=Object.create(null),s.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(s))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(s),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(r));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>S.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:s}=n;s?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),(0,u.A)(I,this,!1),(0,c.A)(P,this,ce).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,u.A)(I,this,!0);const t=(0,c.A)(P,this,le).call(this,!1);return e&&t&&this._stats&&(this._stats=new d.StatTimer),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&(0,c.A)(P,this,le).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}=e;const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:i},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();(0,c.A)(P,this,le).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof d.RenderingCancelledException){let e=K;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new i.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function le(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,c.A)(P,this,ce).call(this),!(0,h.A)(I,this)||this.destroyed)return!1;if(e)return(0,u.A)(k,this,setTimeout((()=>{(0,u.A)(k,this,null),(0,c.A)(P,this,le).call(this,!1)}),Y)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),(0,u.A)(I,this,!1),!0}function ce(){(0,h.A)(k,this)&&(clearTimeout((0,h.A)(k,this)),(0,u.A)(k,this,null))}var N=new WeakMap,R=new WeakMap;class ue{constructor(){(0,l.A)(this,N,new Set),(0,l.A)(this,R,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};(0,h.A)(R,this).then((()=>{for(const e of(0,h.A)(N,this))e.call(this,n)}))}addEventListener(e,t){(0,h.A)(N,this).add(t)}removeEventListener(e,t){(0,h.A)(N,this).delete(t)}terminate(){(0,h.A)(N,this).clear()}}const he={isWorkerDisabled:!1,fakeWorkerId:0};var M;if(i.isNodeJS)he.isWorkerDisabled=!0,(M=v.GlobalWorkerOptions).workerSrc||(M.workerSrc="./pdf.worker.mjs");he.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},he.createCDNWrapper=function(e){const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class de{constructor(){let{name:e=null,port:t=null,verbosity:n=(0,i.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){var r;if(null!==(r=D._)&&void 0!==r&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(D._||(D._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new y.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!he.isWorkerDisabled&&!pe(de)){let{workerSrc:e}=de;try{he.isSameOrigin(window.location.href,e)||(e=he.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new y.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",(e=>{t.removeEventListener("error",i),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",i),this.destroyed)r();else try{s()}catch{this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch{(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){he.isWorkerDisabled||((0,i.warn)("Setting up fake worker."),he.isWorkerDisabled=!0),de._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new ue;this._port=t;const n="fake".concat(he.fakeWorkerId++),r=new y.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new y.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=D._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=(0,c.A)(de,this,D)._)||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new de(e)}static get workerSrc(){if(v.GlobalWorkerOptions.workerSrc)return v.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return(0,i.shadow)(this,"_setupFakeWorkerGlobal",(async()=>{if((0,a.A)(de,this,pe))return(0,a.A)(de,this,pe);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function pe(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch{return null}}var D={_:void 0},j=new WeakMap,L=new WeakMap,O=new WeakMap,F=new WeakMap,U=new WeakMap,V=new WeakSet;class fe{constructor(e,t,n,r,i){(0,o.A)(this,V),(0,l.A)(this,j,new Map),(0,l.A)(this,L,new Map),(0,l.A)(this,O,new Map),(0,l.A)(this,F,new Map),(0,l.A)(this,U,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new ve,this.fontLoader=new p.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return(0,i.shadow)(this,"annotationStorage",new s.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=i.RenderingIntentFlag.DISPLAY,o=s.SerializableEmpty;switch(e){case"any":a=i.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=i.RenderingIntentFlag.PRINT;break;default:(0,i.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case i.AnnotationMode.DISABLE:a+=i.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case i.AnnotationMode.ENABLE:break;case i.AnnotationMode.ENABLE_FORMS:a+=i.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case i.AnnotationMode.ENABLE_STORAGE:a+=i.RenderingIntentFlag.ANNOTATIONS_STORAGE;o=(a&i.RenderingIntentFlag.PRINT&&n instanceof s.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,i.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return r&&(a+=i.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:"".concat(a,"_").concat(o.hash),annotationStorageSerializable:o}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=(0,h.A)(U,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of(0,h.A)(L,this).values())t.push(r._destroy());(0,h.A)(L,this).clear(),(0,h.A)(O,this).clear(),(0,h.A)(F,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),(0,h.A)(j,this).clear(),this.filterFactory.destroy(),(0,g.cleanupTextLayer)(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new i.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,i.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,i.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then((()=>{if(!r.isStreamingSupported||!r.isRangeSupported){var e;if(this._lastProgress)null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress);r.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,i.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,i.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new ae(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new i.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new i.InvalidPDFException(e.message);break;case"MissingPDFException":n=new i.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new i.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new i.UnknownErrorException(e.message,e.details);break;default:(0,i.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if((0,u.A)(U,this,Promise.withResolvers()),t.onPassword){const r=e=>{e instanceof Error?(0,h.A)(U,this).reject(e):(0,h.A)(U,this).resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){(0,h.A)(U,this).reject(n)}}else(0,h.A)(U,this).reject(new i.PasswordException(e.message,e.code));return(0,h.A)(U,this).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;(0,h.A)(L,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,s,a]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(s){case"Font":const t=this._params;if("error"in a){const e=a.error;(0,i.warn)("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const o=t.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new p.FontFaceObject(a,{disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!t.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)}));break;case"CopyLocalImage":const{imageRef:c}=a;(0,i.assert)(c,"The imageRef must be defined.");for(const e of(0,h.A)(L,this).values())for(const[,t]of e.objs)if(t.ref===c)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error("Got unknown common object type ".concat(s))}return null})),e.on("obj",(e=>{let[t,n,r,s]=e;if(this.destroyed)return;const a=(0,h.A)(L,this).get(n);var o;if(!a.objs.has(t))if(0!==a._intentStates.size)switch(r){case"Image":a.objs.resolve(t,s),(null===s||void 0===s?void 0:s.dataLen)>i.MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(t,s);break;default:throw new Error("Got unknown object type ".concat(r))}else null===s||void 0===s||null===(o=s.bitmap)||void 0===o||o.close()})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&(0,i.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=(0,h.A)(O,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&(0,h.A)(F,this).set(n.refStr,e);const r=new oe(t,n,this,this._params.pdfBug);return(0,h.A)(L,this).set(t,r),r}));return(0,h.A)(O,this).set(t,r),r}getPageIndex(e){return re(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return(0,c.A)(V,this,me).call(this,"GetFieldObjects")}hasJSActions(){return(0,c.A)(V,this,me).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return(0,c.A)(V,this,me).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return(0,c.A)(V,this,me).call(this,"GetOptionalContentConfig").then((t=>new w.OptionalContentConfig(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=(0,h.A)(j,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new b.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return(0,h.A)(j,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of(0,h.A)(L,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),(0,h.A)(j,this).clear(),this.filterFactory.destroy(!0),(0,g.cleanupTextLayer)()}}cachedPageNumber(e){var t;if(!re(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=(0,h.A)(F,this).get(n))&&void 0!==t?t:null}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,h.A)(j,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return(0,h.A)(j,this).set(e,r),r}const ge=Symbol("INITIAL_DATA");var B=new WeakMap,H=new WeakSet;class ve{constructor(){(0,o.A)(this,H),(0,l.A)(this,B,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=(0,c.A)(H,this,ye).call(this,e);return n.promise.then((()=>t(n.data))),null}const n=(0,h.A)(B,this)[e];if(!n||n.data===ge)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=(0,h.A)(B,this)[e];return!!t&&t.data!==ge}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,c.A)(H,this,ye).call(this,e);n.data=t,n.resolve()}clear(){for(const t in(0,h.A)(B,this)){var e;const{data:n}=(0,h.A)(B,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}(0,u.A)(B,this,Object.create(null))}*[Symbol.iterator](){for(const e in(0,h.A)(B,this)){const{data:t}=(0,h.A)(B,this)[e];t!==ge&&(yield[e,t])}}}function ye(e){var t;return(t=(0,h.A)(B,this))[e]||(t[e]={...Promise.withResolvers(),data:ge})}var z=new WeakMap;class be{constructor(e){(0,l.A)(this,z,null),(0,u.A)(z,this,e),this.onContinue=null}get promise(){return(0,h.A)(z,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,h.A)(z,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=(0,h.A)(z,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=(0,h.A)(z,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}class we{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new be(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(W._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");W._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:l}=this.params;this.gfx=new m.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),W._.delete(this._canvas),this.callback(t||new d.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),W._.delete(this._canvas),this.callback())))}}var W={_:new WeakSet};const Ae="4.2.67",_e="49b388101";r()}catch(G){r(G)}}))},583:(e,t,n)=>{n.d(t,{BaseCMapReaderFactory:()=>a,BaseCanvasFactory:()=>s,BaseFilterFactory:()=>i,BaseSVGFactory:()=>l,BaseStandardFontDataFactory:()=>o});var r=n(292);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}class a{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetchData(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}},923:(e,t,n)=>{n.d(t,{CanvasGraphics:()=>B});var r=n(292),i=n(419);const a="Fill",l="Stroke",u="Shading";function h(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class p extends d{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===l||s===a){const a=t.current.getClippedPathBoundingBox(s,(0,i.getCurrentTransform)(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=r.Util.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),h(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),o=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(n);o.setTransform(p)}else h(e,this._bbox),o=this._createGradient(e);return o}}function f(e,t,n,r,i,s,a,o){const l=t.coords,c=t.colors,u=e.data,h=4*e.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=a,a=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(f>=y)return;const b=c[s],w=c[s+1],A=c[s+2],_=c[a],x=c[a+1],E=c[a+2],S=c[o],C=c[o+1],T=c[o+2],k=Math.round(f),I=Math.round(y);let P,N,R,M,D,j,L,O;for(let F=k;F<=I;F++){if(F<g){const e=F<f?0:(f-F)/(f-g);P=p-(p-m)*e,N=b-(b-_)*e,R=w-(w-x)*e,M=A-(A-E)*e}else{let e;e=F>y?1:g===y?0:(g-F)/(g-y),P=m-(m-v)*e,N=_-(_-S)*e,R=x-(x-C)*e,M=E-(E-T)*e}let e;e=F<f?0:F>y?1:(f-F)/(f-y),D=p-(p-v)*e,j=b-(b-S)*e,L=w-(w-C)*e,O=A-(A-T)*e;const t=Math.round(Math.min(P,D)),n=Math.round(Math.max(P,D));let r=h*F+4*t;for(let i=t;i<=n;i++)e=(P-i)/(P-D),e<0?e=0:e>1&&(e=1),u[r++]=N-(N-j)*e|0,u[r++]=R-(R-L)*e|0,u[r++]=M-(M-O)*e|0,u[r++]=255}}function m(e,t,n){const r=t.coords,i=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<c;s++,t++)f(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),f(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)f(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class g extends d{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,u=a/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},d=o+4,p=l+4,f=n.getCanvas("mesh",d,p,!1),g=f.context,v=g.createImageData(o,l);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const y of this._figures)m(v,y,h);g.putImageData(v,2,2);return{canvas:f.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,s){let a;if(h(e,this._bbox),s===u)a=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(a=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*e[0],a[1]*e[1]]}const o=this._createMeshCanvas(a,s===u?null:this._background,t.cachedCanvases);return s!==u&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class v extends d{getPattern(){return"hotpink"}}const y=1,b=2;class w{constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const h=n[0],d=n[1],p=n[2],f=n[3],m=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[m[0]*g[0],m[1]*g[1]],y=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),b=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),w=e.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),A=w.context,_=u.createCanvasGraphics(A);_.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,o,c);let x=h,E=d,S=p,C=f;return h<0&&(x=0,S+=Math.abs(h)),d<0&&(E=0,C+=Math.abs(d)),A.translate(-y.scale*x,-b.scale*E),_.transform(y.scale,0,0,b.scale,0,0),A.save(),this.clipBbox(_,x,E,S,C),_.baseTransform=(0,i.getCurrentTransform)(_.ctx),_.executeOperatorList(t),_.endDrawing(),{canvas:w.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:x,offsetY:E}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(w.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,s){const a=r-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case y:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case b:const a=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,i){let s=n;i!==u&&(s=r.Util.transform(s,t.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}}function A(e){let{src:t,srcPos:n=0,dest:i,width:s,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[u,h]=l?[o,c]:[c,o],d=s>>3,p=7&s,f=t.length;i=new Uint32Array(i.buffer);let m=0;for(let r=0;r<a;r++){for(const r=n+d;n<r;n++){const e=n<f?t[n]:255;i[m++]=128&e?h:u,i[m++]=64&e?h:u,i[m++]=32&e?h:u,i[m++]=16&e?h:u,i[m++]=8&e?h:u,i[m++]=4&e?h:u,i[m++]=2&e?h:u,i[m++]=1&e?h:u}if(0===p)continue;const e=n<f?t[n++]:255;for(let t=0;t<p;t++)i[m++]=e&1<<7-t?h:u}return{srcPos:n,destPos:m}}(0,s.A)(w,"MAX_PATTERN_SIZE",3e3);const _=4096,x=16;class E{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function S(e,t,n,r,s,a,o,l,c,u){const[h,d,p,f,m,g]=(0,i.getCurrentTransform)(e);if(0===d&&0===p){const i=o*h+m,v=Math.round(i),y=l*f+g,b=Math.round(y),w=(o+c)*h+m,A=Math.abs(Math.round(w)-v)||1,_=(l+u)*f+g,x=Math.abs(Math.round(_)-b)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(f),v,b),e.drawImage(t,n,r,s,a,0,0,A,x),e.setTransform(h,d,p,f,m,g),[A,x]}if(0===h&&0===f){const i=l*p+m,v=Math.round(i),y=o*d+g,b=Math.round(y),w=(l+u)*p+m,A=Math.abs(Math.round(w)-v)||1,_=(o+c)*d+g,x=Math.abs(Math.round(_)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(p),0,v,b),e.drawImage(t,n,r,s,a,0,0,x,A),e.setTransform(h,d,p,f,m,g),[x,A]}e.drawImage(t,n,r,s,a,o,l,c,u);return[Math.hypot(h,d)*c,Math.hypot(p,f)*u]}class C{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e),s=r.Util.applyTransform([t[0],t[3]],e),a=r.Util.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,o,l,c,u){const h=r.Util.bezierBoundingBox(t,n,i,s,a,o,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===l){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function T(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,s=n%x,a=(n-s)/x,o=0===s?a:a+1,l=e.createImageData(i,x);let c,u=0;const h=t.data,d=l.data;let p,f,m,g;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,v=i+7>>3,y=4294967295,b=r.FeatureTest.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(m=p<a?x:s,c=0,f=0;f<m;f++){const e=t-u;let r=0;const s=e>v?i:8*e-7,a=-8&s;let o=0,l=0;for(;r<a;r+=8)l=h[u++],n[c++]=128&l?y:b,n[c++]=64&l?y:b,n[c++]=32&l?y:b,n[c++]=16&l?y:b,n[c++]=8&l?y:b,n[c++]=4&l?y:b,n[c++]=2&l?y:b,n[c++]=1&l?y:b;for(;r<s;r++)0===o&&(l=h[u++],o=128),n[c++]=l&o?y:b,o>>=1}for(;c<g;)n[c++]=0;e.putImageData(l,0,p*x)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(f=0,g=i*x*4,p=0;p<a;p++)d.set(h.subarray(u,u+g)),u+=g,e.putImageData(l,0,f),f+=x;p<o&&(g=i*s*4,d.set(h.subarray(u,u+g)),e.putImageData(l,0,f))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=x,g=i*m,p=0;p<o;p++){for(p>=a&&(m=s,g=i*m),c=0,f=g;f--;)d[c++]=h[u++],d[c++]=h[u++],d[c++]=h[u++],d[c++]=255;e.putImageData(l,0,p*x)}}}function k(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%x,s=(n-i)/x,a=0===i?s:s+1,o=e.createImageData(r,x);let l=0;const c=t.data,u=o.data;for(let h=0;h<a;h++){const t=h<s?x:i;({srcPos:l}=A({src:c,srcPos:l,dest:u,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,h*x)}}function I(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function P(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!r.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function N(e,t,n,r){const i=e.length;for(let s=3;s<i;s+=4){const i=e[s];if(0===i)e[s-3]=t,e[s-2]=n,e[s-1]=r;else if(i<255){const a=255-i;e[s-3]=e[s-3]*i+t*a>>8,e[s-2]=e[s-2]*i+n*a>>8,e[s-1]=e[s-1]*i+r*a>>8}}}function R(e,t,n){const r=e.length,i=1/255;for(let s=3;s<r;s+=4){const r=n?n[e[s]]:e[s];t[s]=t[s]*r*i|0}}function M(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function D(e,t,n,r){const i=r[0],s=r[1],a=r[2]-i,o=r[3]-s;0!==a&&0!==o&&(!function(e,t,n,r,i,s,a,o,l,c,u){const h=!!s,d=h?s[0]:0,p=h?s[1]:0,f=h?s[2]:0,m="Luminosity"===i?M:R,g=Math.min(r,Math.ceil(1048576/n));for(let v=0;v<r;v+=g){const i=Math.min(g,r-v),s=e.getImageData(o-c,v+(l-u),n,i),y=t.getImageData(o,v+l,n,i);h&&N(s.data,d,p,f),m(s.data,y.data,a),t.putImageData(y,o,v+l)}}(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function j(e,t){if(t)return!0;const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return n[0]<=s&&n[1]<=s}const L=["butt","round","square"],O=["miter","round","bevel"],F={},U={};var V=new WeakSet;class B{constructor(e,t,n,r,i,s,a,l){let{optionalContentConfig:c,markedContentStack:u=null}=s;(0,o.A)(this,V),this.ctx=e,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new E(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:s=null}=e;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,r){const e=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),P(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(f=a[o],f!==r.OPS.dependency)this[f].apply(this,s[o]);else for(const e of s[o]){const t=e.startsWith("g_")?d:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}}endDrawing(){(0,c.A)(V,this,H).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),(0,c.A)(V,this,z).call(this)}_scaleImage(e,t){const n=e.width,r=e.height;let i,s,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),i=this.cachedCanvases.getCanvas(u,t,n),s=i.context,s.clearRect(0,0,t,n),s.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(t);let u,h,d,p;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const n=u.get(h);if(n&&!l){return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])}}d=n}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),k(p.context,e));let f=r.Util.transform(c,[1/n,0,0,-1/s,0,0]);f=r.Util.transform(f,[1,0,0,1,0,-s]);const[m,g,v,y]=r.Util.getAxialAlignedBoundingBox([0,0,n,s],f),b=Math.round(v-m)||1,w=Math.round(y-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",b,w),_=A.context,x=m,E=g;_.translate(-x,-E),_.transform(...f),d||(d=this._scaleImage(p.canvas,(0,i.getCurrentTransformInverse)(_)),d=d.img,u&&l&&u.set(h,d)),_.imageSmoothingEnabled=j((0,i.getCurrentTransform)(_),e.interpolate),S(_,d,0,0,d.width,d.height,0,0,n,s),_.globalCompositeOperation="source-in";const C=r.Util.transform((0,i.getCurrentTransformInverse)(_),[1,0,0,1,-x,-E]);return _.fillStyle=l?o.getPattern(t,this,C,a):o,_.fillRect(0,0,n,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,A.canvas)),{canvas:A.canvas,offsetX:Math.round(x),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=L[e]}setLineJoin(e){this.ctx.lineJoin=O[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),I(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,s,a){t.transform(e,n,r,i,s,a),this.__originalTransform(e,n,r,i,s,a)},e.setTransform=function(e,n,r,i,s,a){t.setTransform(e,n,r,i,s,a),this.__originalSetTransform(e,n,r,i,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,s,a){t.bezierCurveTo(e,n,r,i,s,a),this.__originalBezierCurveTo(e,n,r,i,s,a)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),I(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;D(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(I(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),I(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,a=this.current;let o,l,c=a.x,u=a.y;const h=(0,i.getCurrentTransform)(s),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=d?n.slice(0):null;for(let i=0,f=0,m=e.length;i<m;i++)switch(0|e[i]){case r.OPS.rectangle:c=t[f++],u=t[f++];const e=t[f++],n=t[f++],i=c+e,m=u+n;s.moveTo(c,u),0===e||0===n?s.lineTo(i,m):(s.lineTo(i,u),s.lineTo(i,m),s.lineTo(c,m)),d||a.updateRectMinMax(h,[c,u,i,m]),s.closePath();break;case r.OPS.moveTo:c=t[f++],u=t[f++],s.moveTo(c,u),d||a.updatePathMinMax(h,c,u);break;case r.OPS.lineTo:c=t[f++],u=t[f++],s.lineTo(c,u),d||a.updatePathMinMax(h,c,u);break;case r.OPS.curveTo:o=c,l=u,c=t[f+4],u=t[f+5],s.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],c,u),a.updateCurvePathMinMax(h,o,l,t[f],t[f+1],t[f+2],t[f+3],c,u,p),f+=6;break;case r.OPS.curveTo2:o=c,l=u,s.bezierCurveTo(c,u,t[f],t[f+1],t[f+2],t[f+3]),a.updateCurvePathMinMax(h,o,l,c,u,t[f],t[f+1],t[f+2],t[f+3],p),c=t[f+2],u=t[f+3],f+=4;break;case r.OPS.curveTo3:o=c,l=u,c=t[f+2],u=t[f+3],s.bezierCurveTo(t[f],t[f+1],c,u,c,u),a.updateCurvePathMinMax(h,o,l,t[f],t[f+1],c,u,c,u,p),f+=4;break;case r.OPS.closePath:s.closePath()}d&&a.updateScalingPathMinMax(h,p),a.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),l),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=F}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=i.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(i.fallbackName);let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(c," ").concat(l," ").concat(u,"px ").concat(o)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,s){this.current.textMatrix=[e,t,n,r,i,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;if((l.disableFontFace||d||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(a.save(),a.translate(t,n),a.beginPath(),f(a,u),s&&a.setTransform(...s),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,n)),d){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(a),x:t,y:n,fontSize:u,addToPath:f})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,p=e.length,f=n.vertical,m=f?1:-1,g=n.defaultVMetrics,v=s*t.fontMatrix[0],y=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),h>0?o.scale(d,-1):o.scale(d,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),a);b=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let w=t.lineWidth;const A=t.textMatrixScale;if(0===A||0===w){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(w=this.getSinglePixelWidth())}else w/=A;if(1!==l&&(o.scale(l,l),w/=l),o.lineWidth=w,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return o.fillText(n.join(""),0,0),t.x+=r*v*d,o.restore(),void this.compose()}let _,x=0;for(_=0;_<p;++_){const t=e[_];if("number"===typeof t){x+=m*t*s/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+c,a=t.fontChar,d=t.accent;let p,w,A=t.width;if(f){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*A)*v,r=e[2]*v;A=e?-e[0]:A,p=n/l,w=(x+r)/l}else p=x/l,w=0;if(n.remeasure&&A>0){const e=1e3*o.measureText(a).width/s*l;if(A<e&&this.isFontSubpixelAAEnabled){const t=A/e;r=!0,o.save(),o.scale(t,1),p/=t}else A!==e&&(p+=(A-e)/2e3*s/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(y&&!d)o.fillText(a,p,w);else if(this.paintChar(a,p,w,b),d){const e=p+s*d.offset.x/l,t=w-s*d.offset.y/l;this.paintChar(d.fontChar,e,t,b)}x+=f?A*v-i*h:A*v+i*h,r&&o.restore()}f?t.y-=x:t.x+=x*d,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,h=n.fontMatrix||r.FONT_IDENTITY_MATRIX,d=e.length;let p,f,m,g;if(!(n.textRenderingMode===r.TextRenderingMode.INVISIBLE)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,a),p=0;p<d;++p){if(f=e[p],"number"===typeof f){g=o*f*s/1e3,this.ctx.translate(g,0),n.x+=g*u;continue}const a=(f.isSpace?c:0)+l,d=i.charProcOperatorList[f.operatorListId];if(!d){(0,r.warn)('Type3 character "'.concat(f.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=f,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(d),this.restore());m=r.Util.applyTransform([f.width,0],h)[0]*s+a,t.translate(m,0),n.x+=m*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new B(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new w(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new p(e);case"Mesh":return new g(e);case"Dummy":return new v}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),u);const s=(0,i.getCurrentTransformInverse)(t);if(s){const{width:e,height:n}=t.canvas,[i,a,o,l]=r.Util.getAxialAlignedBoundingBox([0,0,e,n],s);this.ctx.fillRect(i,a,o-i,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const a=[0,0,t.canvas.width,t.canvas.height];s=r.Util.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]);let c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1),h=1,d=1;c>_&&(h=c/_,c=_),u>_&&(d=u/_,u=_),this.current.startNewPathAndClipBox([0,0,c,u]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(p,c,u),m=f.context;m.scale(1/h,1/d),m.translate(-o,-l),m.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:o,offsetY:l,scaleX:h,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.scale(h,d),t.save()),I(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,a){if((0,c.A)(V,this,H).call(this),P(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const s=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=o;const[a,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,o*l),P(this.ctx)}else P(this.ctx),this.ctx.rect(t[0],t[1],s,o),this.ctx.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),(0,c.A)(V,this,z).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let s,a,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),h=0;for(const m of e.data){let e=128;for(;e>0;)u[h++]=m&e?0:255,e>>=1}let d=0;for(h=0,0!==u[h]&&(l[0]=1,++d),a=1;a<t;a++)u[h]!==u[h+1]&&(l[a]=u[h]?2:1,++d),h++;for(0!==u[h]&&(l[a]=2,++d),s=1;s<n;s++){h=s*c,o=s*i,u[h-c]!==u[h]&&(l[o]=u[h]?1:8,++d);let e=(u[h]?4:0)+(u[h-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),r[e]&&(l[o+a]=r[e],++d),h++;if(u[h-c]!==u[h]&&(l[o+a]=u[h]?2:4,++d),d>1e3)return null}for(h=c*(n-1),o=s*i,0!==u[h]&&(l[o]=8,++d),a=1;a<t;a++)u[h]!==u[h+1]&&(l[o+a]=u[h]?4:8,++d),h++;if(0!==u[h]&&(l[o+a]=4,++d),d>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),f=new Path2D;for(s=0;d&&s<=n;s++){let e=s*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%i,s);const r=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),f.lineTo(e%i,e/i|0),l[e]||--d}while(r!==e);--s}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(t,n,s,a,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let i=0,h=o.length;i<h;i+=2){const e=r.Util.transform(c,[t,n,s,a,o[i],o[i+1]]),[h,d]=r.Util.applyTransform([0,0],e);l.drawImage(u.canvas,h,d)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:o,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save();k(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),a):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),S(t,u.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void(0,r.warn)("Dependent image isn't ready yet");const a=s.width,o=s.height,l=[];for(let r=0,c=i.length;r<c;r+=2)l.push({transform:[t,0,0,n,i[r],i[r+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!r.isNodeJS){const{filter:e}=s;"none"!==e&&""!==e&&(s.filter="none")}let a;if(s.scale(1/t,-1/n),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;T(r,e),a=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(a,(0,i.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=j((0,i.getCurrentTransform)(s),e.interpolate),S(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;T(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),S(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===U?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let s,a;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)s=a=1/n;else{const t=n*e;s=a=t<1?1/t:1}else if(0===e)s=1/n,a=1/r;else{const t=n*e,i=r*e;s=t<1?1/t:1,a=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)s=c/o,a=l/o;else{const t=e*o;s=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const s=t.getLineDash();if(e&&t.save(),t.scale(r,i),s.length>0){const e=Math.max(r,i);t.setLineDash(s.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function H(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function z(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(const s in r.OPS)void 0!==B.prototype[s]&&(B.prototype[r.OPS[s]]=B.prototype[s])},419:(e,t,n)=>{var r;n.d(t,{DOMCMapReaderFactory:()=>M,DOMCanvasFactory:()=>N,DOMFilterFactory:()=>_,DOMSVGFactory:()=>j,DOMStandardFontDataFactory:()=>D,PDFDateString:()=>q,PageViewport:()=>L,PixelsPerInch:()=>f,RenderingCancelledException:()=>O,StatTimer:()=>H,fetchData:()=>R,getColorValues:()=>X,getCurrentTransform:()=>Q,getCurrentTransformInverse:()=>J,getFilenameFromUrl:()=>V,getPdfFilenameFromUrl:()=>B,getRGB:()=>Y,getXfaPageViewport:()=>K,isDataScheme:()=>F,isPdfFile:()=>U,isValidFetchUrl:()=>z,noContextMenu:()=>W,setLayerDimensions:()=>Z});var i=n(583),d=n(292);const p="http://www.w3.org/2000/svg";class f{}r=f,(0,s.A)(f,"CSS",96),(0,s.A)(f,"PDF",72),(0,s.A)(f,"PDF_TO_CSS_UNITS",r.CSS/r.PDF);var m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakSet;class _ extends i.BaseFilterFactory{constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,o.A)(this,A),(0,l.A)(this,m,void 0),(0,l.A)(this,g,void 0),(0,l.A)(this,v,void 0),(0,l.A)(this,y,void 0),(0,l.A)(this,b,void 0),(0,l.A)(this,w,0),(0,u.A)(v,this,e),(0,u.A)(y,this,t)}addFilter(e){var t,n;if(!e)return"none";let r,i,s,o,l=(0,a.A)(A,this,x).get(e);if(l)return l;if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;o=r=i=s=n.join(",")}else{const[t,n,a]=e,l=new Array(256),c=new Array(256),u=new Array(256);for(let e=0;e<256;e++)l[e]=t[e]/255,c[e]=n[e]/255,u[e]=a[e]/255;r=l.join(","),i=c.join(","),s=u.join(","),o="".concat(r).concat(i).concat(s)}if(l=(0,a.A)(A,this,x).get(o),l)return(0,a.A)(A,this,x).set(e,l),l;const d="g_".concat((0,h.A)(v,this),"_transfer_map_").concat(((0,u.A)(w,this,(t=(0,h.A)(w,this),n=t++,t)),n)),p="url(#".concat(d,")");(0,a.A)(A,this,x).set(e,p),(0,a.A)(A,this,x).set(o,p);const f=(0,c.A)(A,this,T).call(this,d);return(0,c.A)(A,this,I).call(this,r,i,s,f),p}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t),i="base";let s=(0,a.A)(A,this,E).get(i);if((null===(n=s)||void 0===n?void 0:n.key)===r)return s.url;var o;s?(null===(o=s.filter)||void 0===o||o.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},(0,a.A)(A,this,E).set(i,s));if(!e||!t)return s.url;const l=(0,c.A)(A,this,P).call(this,e);e=d.Util.makeHexColor(...l);const u=(0,c.A)(A,this,P).call(this,t);if(t=d.Util.makeHexColor(...u),(0,a.A)(A,this,S).style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const p=new Array(256);for(let a=0;a<=255;a++){const e=a/255;p[a]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const f=p.join(","),m="g_".concat((0,h.A)(v,this),"_hcm_filter"),g=s.filter=(0,c.A)(A,this,T).call(this,m);(0,c.A)(A,this,I).call(this,f,f,f,g),(0,c.A)(A,this,C).call(this,g);const y=(e,t)=>{const n=l[e]/255,r=u[e]/255,i=new Array(t+1);for(let s=0;s<=t;s++)i[s]=n+s/t*(r-n);return i.join(",")};return(0,c.A)(A,this,I).call(this,y(0,5),y(1,5),y(2,5),g),s.url="url(#".concat(m,")"),s.url}addHighlightHCMFilter(e,t,n,r,i){var s;const o="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i);let l=(0,a.A)(A,this,E).get(e);if((null===(s=l)||void 0===s?void 0:s.key)===o)return l.url;var u;l?(null===(u=l.filter)||void 0===u||u.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},(0,a.A)(A,this,E).set(e,l));if(!t||!n)return l.url;const[d,p]=[t,n].map((0,c.A)(A,this,P).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[g,y]=[r,i].map((0,c.A)(A,this,P).bind(this));m<f&&([f,m,g,y]=[m,f,y,g]),(0,a.A)(A,this,S).style.color="";const b=(e,t,n)=>{const r=new Array(256),i=(m-f)/n,s=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(f+l*i),t=s+l*a;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},w="g_".concat((0,h.A)(v,this),"_hcm_").concat(e,"_filter"),_=l.filter=(0,c.A)(A,this,T).call(this,w);return(0,c.A)(A,this,C).call(this,_),(0,c.A)(A,this,I).call(this,b(g[0],y[0],5),b(g[1],y[1],5),b(g[2],y[2],5),_),l.url="url(#".concat(w,")"),l.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==(0,a.A)(A,this,E).size||((0,h.A)(g,this)&&((0,h.A)(g,this).parentNode.parentNode.remove(),(0,u.A)(g,this,null)),(0,h.A)(m,this)&&((0,h.A)(m,this).clear(),(0,u.A)(m,this,null)),(0,u.A)(w,this,0))}}function x(e){return(0,h.A)(m,e)||(0,u.A)(m,e,new Map)}function E(e){return(0,h.A)(b,e)||(0,u.A)(b,e,new Map)}function S(e){if(!(0,h.A)(g,e)){const t=(0,h.A)(y,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=(0,h.A)(y,e).createElementNS(p,"svg");r.setAttribute("width",0),r.setAttribute("height",0),(0,u.A)(g,e,(0,h.A)(y,e).createElementNS(p,"defs")),t.append(r),r.append((0,h.A)(g,e)),(0,h.A)(y,e).body.append(t)}return(0,h.A)(g,e)}function C(e){const t=(0,h.A)(y,this).createElementNS(p,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function T(e){const t=(0,h.A)(y,this).createElementNS(p,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),(0,a.A)(A,this,S).append(t),t}function k(e,t,n){const r=(0,h.A)(y,this).createElementNS(p,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function I(e,t,n,r){const i=(0,h.A)(y,this).createElementNS(p,"feComponentTransfer");r.append(i),(0,c.A)(A,this,k).call(this,i,"feFuncR",e),(0,c.A)(A,this,k).call(this,i,"feFuncG",t),(0,c.A)(A,this,k).call(this,i,"feFuncB",n)}function P(e){return(0,a.A)(A,this,S).style.color=e,Y(getComputedStyle((0,a.A)(A,this,S)).getPropertyValue("color"))}class N extends i.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(z(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}class M extends i.BaseCMapReaderFactory{_fetchData(e,t){return R(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):(0,d.stringToBytes)(e),compressionType:t})))}}class D extends i.BaseStandardFontDataFactory{_fetchData(e){return R(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class j extends i.BaseSVGFactory{_createSVG(e){return document.createElementNS(p,e)}}class L{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,h,d,p,f,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,d=-d),0===c?(p=Math.abs(l-t[1])*n+i,f=Math.abs(o-t[0])*n+s,m=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+i,f=Math.abs(l-t[1])*n+s,m=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,u*n,h*n,d*n,p-c*n*o-h*n*l,f-u*n*o-d*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,d.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new L({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return d.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=d.Util.applyTransform([e[0],e[1]],this.transform),n=d.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return d.Util.applyInverseTransform([e,t],this.transform)}}class O extends d.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function F(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function U(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function V(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(F(e))return(0,d.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||t}class H{constructor(){(0,s.A)(this,"started",Object.create(null)),(0,s.A)(this,"times",[])}time(e){e in this.started&&(0,d.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,d.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function z(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function W(e){e.preventDefault()}let G;class q{static toDateObject(e){if(!e||"string"!==typeof e)return null;G||(G=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=G.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,r,i,s,a,o))}}function K(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:s}=e.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new L({viewBox:a,scale:n,rotation:r})}function Y(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,d.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function X(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,Y(r))}t.remove()}function Q(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform();return[t,n,r,i,s,a]}function J(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform().invertSelf();return[t,n,r,i,s,a]}function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof L){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,a=d.FeatureTest.isCSSRoundSupported,o="var(--scale-factor) * ".concat(r,"px"),l="var(--scale-factor) * ".concat(i,"px"),c=a?"round(".concat(o,", 1px)"):"calc(".concat(o,")"),u=a?"round(".concat(l,", 1px)"):"calc(".concat(l,")");n&&t.rotation%180!==0?(s.width=u,s.height=c):(s.width=c,s.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)}},47:(e,t,n)=>{var r;n.d(t,{DrawLayer:()=>g});var i=n(419),s=n(292),a=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakSet;class g{constructor(e){let{pageIndex:t}=e;(0,o.A)(this,m),(0,l.A)(this,a,null),(0,l.A)(this,d,0),(0,l.A)(this,p,new Map),(0,l.A)(this,f,new Map),this.pageIndex=t}setParent(e){if((0,h.A)(a,this)){if((0,h.A)(a,this)!==e){if((0,h.A)(p,this).size>0)for(const t of(0,h.A)(p,this).values())t.remove(),e.append(t);(0,u.A)(a,this,e)}}else(0,u.A)(a,this,e)}static get _svgFactory(){return(0,s.shadow)(this,"_svgFactory",new i.DOMSVGFactory)}highlight(e,t,n){var r,i;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=((0,u.A)(d,this,(r=(0,h.A)(d,this),i=r++,r)),i),o=(0,c.A)(m,this,y).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const l=g._svgFactory.createElement("defs");o.append(l);const v=g._svgFactory.createElement("path");l.append(v);const w="path_p".concat(this.pageIndex,"_").concat(a);v.setAttribute("id",w),v.setAttribute("d",e.toSVGPath()),s&&(0,h.A)(f,this).set(a,v);const A=(0,c.A)(m,this,b).call(this,l,w),_=g._svgFactory.createElement("use");return o.append(_),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),_.setAttribute("href","#".concat(w)),(0,h.A)(p,this).set(a,o),{id:a,clipPathId:"url(#".concat(A,")")}}highlightOutline(e){var t,n;const r=((0,u.A)(d,this,(t=(0,h.A)(d,this),n=t++,t)),n),i=(0,c.A)(m,this,y).call(this,e.box);i.classList.add("highlightOutline");const s=g._svgFactory.createElement("defs");i.append(s);const a=g._svgFactory.createElement("path");s.append(a);const o="path_p".concat(this.pageIndex,"_").concat(r);let l;if(a.setAttribute("id",o),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke"),e.free){i.classList.add("free");const e=g._svgFactory.createElement("mask");s.append(e),l="mask_p".concat(this.pageIndex,"_").concat(r),e.setAttribute("id",l),e.setAttribute("maskUnits","objectBoundingBox");const t=g._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=g._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const f=g._svgFactory.createElement("use");i.append(f),f.setAttribute("href","#".concat(o)),l&&f.setAttribute("mask","url(#".concat(l,")"));const v=f.cloneNode();return i.append(v),f.classList.add("mainOutline"),v.classList.add("secondaryOutline"),(0,h.A)(p,this).set(r,i),r}finalizeLine(e,t){const n=(0,h.A)(f,this).get(e);(0,h.A)(f,this).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){(0,h.A)(p,this).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),(0,h.A)(f,this).delete(e)}updatePath(e,t){(0,h.A)(f,this).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){v.call(g,(0,h.A)(p,this).get(e),t)}show(e,t){(0,h.A)(p,this).get(e).classList.toggle("hidden",!t)}rotate(e,t){(0,h.A)(p,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){(0,h.A)(p,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){(0,h.A)(p,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){(0,h.A)(p,this).get(e).classList.add(t)}removeClass(e,t){(0,h.A)(p,this).get(e).classList.remove(t)}remove(e){null!==(0,h.A)(a,this)&&((0,h.A)(p,this).get(e).remove(),(0,h.A)(p,this).delete(e))}destroy(){(0,u.A)(a,this,null);for(const e of(0,h.A)(p,this).values())e.remove();(0,h.A)(p,this).clear()}}function v(e){let{x:t=0,y:n=0,width:r=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:s}=e;s.top="".concat(100*n,"%"),s.left="".concat(100*t,"%"),s.width="".concat(100*r,"%"),s.height="".concat(100*i,"%")}function y(e){const t=r._svgFactory.create(1,1,!0);return(0,h.A)(a,this).append(t),t.setAttribute("aria-hidden",!0),v.call(r,t,e),t}function b(e,t){const n=r._svgFactory.createElement("clipPath");e.append(n);const i="clip_".concat(t);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=r._svgFactory.createElement("use");return n.append(s),s.setAttribute("href","#".concat(t)),s.classList.add("clip"),i}r=g},731:(e,t,n)=>{var r,d,p,f;n.d(t,{AnnotationEditorLayer:()=>Jt});var m=n(292),g=n(310),v=n(830),y=n(976);const b=/\r\n?|\n/g;var w=new WeakMap,A=new WeakMap,_=new WeakMap,x=new WeakMap,E=new WeakMap,S=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,I=new WeakMap,P=new WeakSet;class N extends g.AnnotationEditor{static get _keyboardManager(){const e=N.prototype,t=e=>e.isEmpty(),n=v.AnnotationEditorUIManager.TRANSLATE_SMALL,r=v.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,m.shadow)(this,"_keyboardManager",new v.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super({...e,name:"freeTextEditor"}),(0,o.A)(this,P),(0,l.A)(this,w,this.editorDivBlur.bind(this)),(0,l.A)(this,A,this.editorDivFocus.bind(this)),(0,l.A)(this,_,this.editorDivInput.bind(this)),(0,l.A)(this,x,this.editorDivKeydown.bind(this)),(0,l.A)(this,E,this.editorDivPaste.bind(this)),(0,l.A)(this,S,void 0),(0,l.A)(this,C,""),(0,l.A)(this,T,"".concat(this.id,"-editor")),(0,l.A)(this,k,void 0),(0,l.A)(this,I,null),(0,u.A)(S,this,e.color||N._defaultColor||g.AnnotationEditor._defaultLineColor),(0,u.A)(k,this,e.fontSize||N._defaultFontSize)}static initialize(e,t){g.AnnotationEditor.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case m.AnnotationEditorParamsType.FREETEXT_SIZE:N._defaultFontSize=t;break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:N._defaultColor=t}}updateParams(e,t){switch(e){case m.AnnotationEditorParamsType.FREETEXT_SIZE:(0,c.A)(P,this,R).call(this,t);break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:(0,c.A)(P,this,M).call(this,t)}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,N._defaultFontSize],[m.AnnotationEditorParamsType.FREETEXT_COLOR,N._defaultColor||g.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,(0,h.A)(k,this)],[m.AnnotationEditorParamsType.FREETEXT_COLOR,(0,h.A)(S,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-N._internalPadding*e,-(N._internalPadding+(0,h.A)(k,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(m.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",(0,h.A)(x,this)),this.editorDiv.addEventListener("focus",(0,h.A)(A,this)),this.editorDiv.addEventListener("blur",(0,h.A)(w,this)),this.editorDiv.addEventListener("input",(0,h.A)(_,this)),this.editorDiv.addEventListener("paste",(0,h.A)(E,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",(0,h.A)(T,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",(0,h.A)(x,this)),this.editorDiv.removeEventListener("focus",(0,h.A)(A,this)),this.editorDiv.removeEventListener("blur",(0,h.A)(w,this)),this.editorDiv.removeEventListener("input",(0,h.A)(_,this)),this.editorDiv.removeEventListener("paste",(0,h.A)(E,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=(0,h.A)(C,this),t=(0,u.A)(C,this,(0,c.A)(P,this,D).call(this).trimEnd());if(e===t)return;const n=e=>{(0,u.A)(C,this,e),e?((0,c.A)(P,this,O).call(this),this._uiManager.rebuild(this),(0,c.A)(P,this,j).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),(0,c.A)(P,this,j).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){N._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",(0,h.A)(T,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),g.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat((0,h.A)(k,this),"px * var(--scale-factor))"),n.color=(0,h.A)(S,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,v.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=(0,h.A)(I,this);let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,p;switch(this.rotation){case 0:d=e+(i[0]-c)/o,p=t+this.height-(i[1]-u)/l;break;case 90:d=e+(i[0]-c)/o,p=t-(i[1]-u)/l,[s,a]=[a,-s];break;case 180:d=e-this.width+(i[0]-c)/o,p=t-(i[1]-u)/l,[s,a]=[-s,-a];break;case 270:d=e+(i[0]-c-this.height*l)/o,p=t+(i[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(d*n,p*r,s,a)}else this.setAt(e*n,t*r,this.width*n,this.height*r);(0,c.A)(P,this,O).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=U.call(N,t.getData("text")||"").replaceAll(b,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const s=i.getRangeAt(0);if(!r.includes("\n"))return s.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:o}=s,l=[],h=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(h.push(a.nodeValue.slice(o).replaceAll(b,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(L.call(N,n)):t=h}l.push(a.nodeValue.slice(0,o).replaceAll(b,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=h),e.push(L.call(N,n))}(0,u.A)(C,this,"".concat(l.join("\n")).concat(r).concat(h.join("\n"))),(0,c.A)(P,this,O).call(this);const d=new Range;let p=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:c}of this.editorDiv.childNodes)if(c.nodeType===Node.TEXT_NODE){const e=c.nodeValue.length;if(p<=e){d.setStart(c,p),d.setEnd(c,p);break}p-=e}i.removeAllRanges(),i.addRange(d)}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let r=null;if(e instanceof y.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:s,id:a},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=e;if(!o||0===o.length)return null;r=e={annotationType:m.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:l,pageIndex:c-1,rect:i.slice(0),rotation:s,id:a,deleted:!1}}const i=super.deserialize(e,t,n);return(0,u.A)(k,i,e.fontSize),(0,u.A)(S,i,m.Util.makeHexColor(...e.color)),(0,u.A)(C,i,U.call(N,e.value)),i.annotationElementId=e.id||null,(0,u.A)(I,i,r),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=N._internalPadding*this.parentScale,n=this.getRect(t,t),r=g.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:(0,h.A)(S,this)),i={annotationType:m.AnnotationEditorType.FREETEXT,color:r,fontSize:(0,h.A)(k,this),value:(0,c.A)(P,this,F).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!(0,c.A)(P,this,V).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat((0,h.A)(k,this),"px * var(--scale-factor))"),n.color=(0,h.A)(S,this),t.replaceChildren();for(const i of(0,h.A)(C,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=N._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function R(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-(0,h.A)(k,this))*this.parentScale),(0,u.A)(k,this,e),(0,c.A)(P,this,j).call(this)},n=(0,h.A)(k,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function M(e){const t=e=>{(0,u.A)(S,this,this.editorDiv.style.color=e)},n=(0,h.A)(S,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function D(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(L.call(r,t));return e.join("\n")}function j(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function L(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(b,"")}function O(){if(this.editorDiv.replaceChildren(),(0,h.A)(C,this))for(const e of(0,h.A)(C,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function F(){return(0,h.A)(C,this).replaceAll("\xa0"," ")}function U(e){return e.replaceAll(" ","\xa0")}function V(e){const{value:t,fontSize:n,color:r,pageIndex:i}=(0,h.A)(I,this);return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}r=N,(0,s.A)(N,"_freeTextDefaultContent",""),(0,s.A)(N,"_internalPadding",0),(0,s.A)(N,"_defaultColor",null),(0,s.A)(N,"_defaultFontSize",10),(0,s.A)(N,"_type","freetext"),(0,s.A)(N,"_editorType",m.AnnotationEditorType.FREETEXT);var B=n(61),H=n(259),z=n(419),W=new WeakMap,G=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,se=new WeakMap,ae=new WeakMap,oe=new WeakMap,le=new WeakMap,ce=new WeakSet;class ue extends g.AnnotationEditor{static get _keyboardManager(){const e=ue.prototype;return(0,m.shadow)(this,"_keyboardManager",new v.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),(0,o.A)(this,ce),(0,l.A)(this,W,null),(0,l.A)(this,G,0),(0,l.A)(this,q,void 0),(0,l.A)(this,K,null),(0,l.A)(this,Y,null),(0,l.A)(this,X,null),(0,l.A)(this,Q,null),(0,l.A)(this,J,0),(0,l.A)(this,Z,null),(0,l.A)(this,$,null),(0,l.A)(this,ee,null),(0,l.A)(this,te,!1),(0,l.A)(this,ne,(0,c.A)(ce,this,be).bind(this)),(0,l.A)(this,re,null),(0,l.A)(this,ie,void 0),(0,l.A)(this,se,null),(0,l.A)(this,ae,""),(0,l.A)(this,oe,void 0),(0,l.A)(this,le,""),this.color=e.color||ue._defaultColor,(0,u.A)(oe,this,e.thickness||ue._defaultThickness),(0,u.A)(ie,this,e.opacity||ue._defaultOpacity),(0,u.A)(q,this,e.boxes||null),(0,u.A)(le,this,e.methodOfCreation||""),(0,u.A)(ae,this,e.text||""),this._isDraggable=!1,e.highlightId>-1?((0,u.A)(te,this,!0),(0,c.A)(ce,this,de).call(this,e),(0,c.A)(ce,this,ve).call(this)):((0,u.A)(W,this,e.anchorNode),(0,u.A)(G,this,e.anchorOffset),(0,u.A)(Q,this,e.focusNode),(0,u.A)(J,this,e.focusOffset),(0,c.A)(ce,this,he).call(this),(0,c.A)(ce,this,ve).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:(0,h.A)(te,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:(0,h.A)(oe,this),methodOfCreation:(0,h.A)(le,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;g.AnnotationEditor.initialize(e,t),ue._defaultColor||(ue._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case m.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:ue._defaultColor=t;break;case m.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:ue._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return(0,h.A)(re,this)}updateParams(e,t){switch(e){case m.AnnotationEditorParamsType.HIGHLIGHT_COLOR:(0,c.A)(ce,this,pe).call(this,t);break;case m.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:(0,c.A)(ce,this,fe).call(this,t)}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,ue._defaultColor],[m.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,ue._defaultThickness]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||ue._defaultColor],[m.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,(0,h.A)(oe,this)||ue._defaultThickness],[m.AnnotationEditorParamsType.HIGHLIGHT_FREE,(0,h.A)(te,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&((0,u.A)(Y,this,new H.ColorPicker({editor:this})),e.addColorPicker((0,h.A)(Y,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition((0,c.A)(ce,this,Ae).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,(0,c.A)(ce,this,Ae).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){(0,c.A)(ce,this,ge).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&((0,c.A)(ce,this,ve).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)(0,c.A)(ce,this,ge).call(this);else if(e){var n;(0,c.A)(ce,this,ve).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;(0,h.A)(te,this)?(e=(e-this.rotation+360)%360,n=ye.call(ue,(0,h.A)($,this).box,e)):n=ye.call(ue,this,e),t.rotate((0,h.A)(ee,this),e),t.rotate((0,h.A)(se,this),e),t.updateBox((0,h.A)(ee,this),n),t.updateBox((0,h.A)(se,this),ye.call(ue,(0,h.A)(X,this).box,e))}render(){if(this.div)return this.div;const e=super.render();(0,h.A)(ae,this)&&(e.setAttribute("aria-label",(0,h.A)(ae,this)),e.setAttribute("role","mark")),(0,h.A)(te,this)?e.classList.add("free"):this.div.addEventListener("keydown",(0,h.A)(ne,this));const t=(0,u.A)(Z,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=(0,h.A)(K,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),(0,v.bindEvents)(this,(0,h.A)(Z,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass((0,h.A)(se,this),"hovered")}pointerleave(){this.parent.drawLayer.removeClass((0,h.A)(se,this),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:(0,c.A)(ce,this,we).call(this,!0);break;case 1:case 3:(0,c.A)(ce,this,we).call(this,!1)}}select(){var e,t;super.select(),(0,h.A)(se,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass((0,h.A)(se,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass((0,h.A)(se,this),"selected"))}unselect(){var e;super.unselect(),(0,h.A)(se,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass((0,h.A)(se,this),"selected"),(0,h.A)(te,this)||(0,c.A)(ce,this,we).call(this,!1))}get _mustFixPosition(){return!(0,h.A)(te,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show((0,h.A)(ee,this),e),this.parent.drawLayer.show((0,h.A)(se,this),e))}static startHighlighting(e,t,n){let{target:r,x:i,y:s}=n;const{x:a,y:o,width:l,height:u}=r.getBoundingClientRect(),h=t=>{(0,c.A)(ue,this,Ee).call(this,e,t)},d={capture:!0,passive:!1},p=e=>{e.preventDefault(),e.stopPropagation()},f=t=>{r.removeEventListener("pointermove",h),window.removeEventListener("blur",f),window.removeEventListener("pointerup",f),window.removeEventListener("pointerdown",p,d),window.removeEventListener("contextmenu",z.noContextMenu),(0,c.A)(ue,this,Se).call(this,e,t)};window.addEventListener("blur",f),window.addEventListener("pointerup",f),window.addEventListener("pointerdown",p,d),window.addEventListener("contextmenu",z.noContextMenu),r.addEventListener("pointermove",h),this._freeHighlight=new B.FreeOutliner({x:i,y:s},[a,o,l,u],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static deserialize(e,t,n){const r=super.deserialize(e,t,n),{rect:[i,s,a,o],color:l,quadPoints:h}=e;r.color=m.Util.makeHexColor(...l),(0,u.A)(ie,r,e.opacity);const[d,p]=r.pageDimensions;r.width=(a-i)/d,r.height=(o-s)/p;const f=(0,u.A)(q,r,[]);for(let c=0;c<h.length;c+=8)f.push({x:(h[4]-a)/d,y:(o-(1-h[c+5]))/p,width:(h[c+2]-h[c])/d,height:(h[c+5]-h[c+1])/p});return(0,c.A)(ce,r,he).call(r),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=g.AnnotationEditor._colorManager.convert(this.color);return{annotationType:m.AnnotationEditorType.HIGHLIGHT,color:n,opacity:(0,h.A)(ie,this),thickness:(0,h.A)(oe,this),quadPoints:(0,c.A)(ce,this,_e).call(this),outlines:(0,c.A)(ce,this,xe).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:(0,c.A)(ce,this,Ae).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}function he(){const e=new B.Outliner((0,h.A)(q,this),.001);(0,u.A)($,this,e.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=(0,h.A)($,this).box);const t=new B.Outliner((0,h.A)(q,this),.0025,.001,"ltr"===this._uiManager.direction);(0,u.A)(X,this,t.getOutlines());const{lastPoint:n}=(0,h.A)(X,this).box;(0,u.A)(re,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function de(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;(0,u.A)($,this,t);if((0,u.A)(X,this,t.getNewOutline((0,h.A)(oe,this)/2+1.5,.0025)),n>=0)(0,u.A)(ee,this,n),(0,u.A)(K,this,r),this.parent.drawLayer.finalizeLine(n,t),(0,u.A)(se,this,this.parent.drawLayer.highlightOutline((0,h.A)(X,this)));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine((0,h.A)(ee,this),t),this.parent.drawLayer.updateBox((0,h.A)(ee,this),ye.call(d,(0,h.A)($,this).box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine((0,h.A)(se,this),(0,h.A)(X,this)),this.parent.drawLayer.updateBox((0,h.A)(se,this),ye.call(d,(0,h.A)(X,this).box,e))}const{x:i,y:s,width:a,height:o}=t.box;switch(this.rotation){case 0:this.x=i,this.y=s,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-s,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=(0,h.A)(X,this).box;(0,u.A)(re,this,[(l[0]-i)/a,(l[1]-s)/o])}function pe(e){const t=e=>{var t,n;this.color=e,null===(t=this.parent)||void 0===t||t.drawLayer.changeColor((0,h.A)(ee,this),e),null===(n=(0,h.A)(Y,this))||void 0===n||n.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function fe(e){const t=(0,h.A)(oe,this),n=e=>{(0,u.A)(oe,this,e),(0,c.A)(ce,this,me).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function me(e){if(!(0,h.A)(te,this))return;(0,c.A)(ce,this,de).call(this,{highlightOutlines:(0,h.A)($,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function ge(){null!==(0,h.A)(ee,this)&&this.parent&&(this.parent.drawLayer.remove((0,h.A)(ee,this)),(0,u.A)(ee,this,null),this.parent.drawLayer.remove((0,h.A)(se,this)),(0,u.A)(se,this,null))}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===(0,h.A)(ee,this)&&(({id:(0,i.A)(u.A,[ee,this])._,clipPathId:(0,i.A)(u.A,[K,this])._}=e.drawLayer.highlight((0,h.A)($,this),this.color,(0,h.A)(ie,this))),(0,u.A)(se,this,e.drawLayer.highlightOutline((0,h.A)(X,this))),(0,h.A)(Z,this)&&((0,h.A)(Z,this).style.clipPath=(0,h.A)(K,this)))}function ye(e,t){let{x:n,y:r,width:i,height:s}=e;switch(t){case 90:return{x:1-r-s,y:n,width:s,height:i};case 180:return{x:1-n-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-n-i,width:s,height:i}}return{x:n,y:r,width:i,height:s}}function be(e){d._keyboardManager.exec(this,e)}function we(e){if(!(0,h.A)(W,this))return;const t=window.getSelection();e?t.setPosition((0,h.A)(W,this),(0,h.A)(G,this)):t.setPosition((0,h.A)(Q,this),(0,h.A)(J,this))}function Ae(){return(0,h.A)(te,this)?this.rotation:0}function _e(){if((0,h.A)(te,this))return null;const[e,t]=this.pageDimensions,n=(0,h.A)(q,this),r=new Array(8*n.length);let i=0;for(const{x:s,y:a,width:o,height:l}of n){const n=s*e,c=(1-a-l)*t;r[i]=r[i+4]=n,r[i+1]=r[i+3]=c,r[i+2]=r[i+6]=n+o*e,r[i+5]=r[i+7]=c+l*t,i+=8}return r}function xe(e){return(0,h.A)($,this).serialize(e,(0,c.A)(ce,this,Ae).call(this))}function Ee(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function Se(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}d=ue,(0,s.A)(ue,"_defaultColor",null),(0,s.A)(ue,"_defaultOpacity",1),(0,s.A)(ue,"_defaultThickness",12),(0,s.A)(ue,"_l10nPromise",void 0),(0,s.A)(ue,"_type","highlight"),(0,s.A)(ue,"_editorType",m.AnnotationEditorType.HIGHLIGHT),(0,s.A)(ue,"_freeHighlightId",-1),(0,s.A)(ue,"_freeHighlight",null),(0,s.A)(ue,"_freeHighlightClipId","");var Ce=new WeakMap,Te=new WeakMap,ke=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Ne=new WeakMap,Re=new WeakMap,Me=new WeakMap,De=new WeakMap,je=new WeakMap,Le=new WeakMap,Oe=new WeakMap,Fe=new WeakMap,Ue=new WeakMap,Ve=new WeakMap,Be=new WeakSet;class He extends g.AnnotationEditor{constructor(e){super({...e,name:"inkEditor"}),(0,o.A)(this,Be),(0,l.A)(this,Ce,0),(0,l.A)(this,Te,0),(0,l.A)(this,ke,this.canvasPointermove.bind(this)),(0,l.A)(this,Ie,this.canvasPointerleave.bind(this)),(0,l.A)(this,Pe,this.canvasPointerup.bind(this)),(0,l.A)(this,Ne,this.canvasPointerdown.bind(this)),(0,l.A)(this,Re,null),(0,l.A)(this,Me,new Path2D),(0,l.A)(this,De,!1),(0,l.A)(this,je,!1),(0,l.A)(this,Le,!1),(0,l.A)(this,Oe,null),(0,l.A)(this,Fe,0),(0,l.A)(this,Ue,0),(0,l.A)(this,Ve,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){g.AnnotationEditor.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case m.AnnotationEditorParamsType.INK_THICKNESS:He._defaultThickness=t;break;case m.AnnotationEditorParamsType.INK_COLOR:He._defaultColor=t;break;case m.AnnotationEditorParamsType.INK_OPACITY:He._defaultOpacity=t/100}}updateParams(e,t){switch(e){case m.AnnotationEditorParamsType.INK_THICKNESS:(0,c.A)(Be,this,ze).call(this,t);break;case m.AnnotationEditorParamsType.INK_COLOR:(0,c.A)(Be,this,We).call(this,t);break;case m.AnnotationEditorParamsType.INK_OPACITY:(0,c.A)(Be,this,Ge).call(this,t)}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.INK_THICKNESS,He._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,He._defaultColor||g.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*He._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[m.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||He._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,this.color||He._defaultColor||g.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:He._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||((0,c.A)(Be,this,rt).call(this),(0,c.A)(Be,this,it).call(this)),this.isAttachedToDOM||(this.parent.add(this),(0,c.A)(Be,this,st).call(this)),(0,c.A)(Be,this,ft).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,(0,h.A)(Re,this)&&(clearTimeout((0,h.A)(Re,this)),(0,u.A)(Re,this,null)),(0,h.A)(Oe,this).disconnect(),(0,u.A)(Oe,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){(0,h.A)(De,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",(0,h.A)(Ne,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",(0,h.A)(Ne,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){(0,h.A)(De,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),(0,u.A)(De,this,!0),this.div.classList.add("disabled"),(0,c.A)(Be,this,ft).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!(0,h.A)(De,this)&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),(0,c.A)(Be,this,Ye).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),(0,c.A)(Be,this,Xe).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),(0,c.A)(Be,this,nt).call(this,e)}canvasPointerleave(e){(0,c.A)(Be,this,nt).call(this,e)}get isResizable(){return!this.isEmpty()&&(0,h.A)(De,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,s]=(0,c.A)(Be,this,qe).call(this);if(this.setAt(n,r,0,0),this.setDims(i,s),(0,c.A)(Be,this,rt).call(this),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),(0,u.A)(Le,this,!0),(0,c.A)(Be,this,st).call(this),this.setDims(this.width*n,this.height*r),(0,c.A)(Be,this,tt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return(0,c.A)(Be,this,it).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if((0,h.A)(Fe,this)===n&&(0,h.A)(Ue,this)===r)return;(0,u.A)(Fe,this,n),(0,u.A)(Ue,this,r),this.canvas.style.visibility="hidden";const[i,s]=this.parentDimensions;this.width=e/i,this.height=t/s,this.fixAndSetPosition(),(0,h.A)(De,this)&&(0,c.A)(Be,this,at).call(this,e,t),(0,c.A)(Be,this,st).call(this),(0,c.A)(Be,this,tt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,n){if(e instanceof y.InkAnnotationElement)return null;const r=super.deserialize(e,t,n);r.thickness=e.thickness,r.color=m.Util.makeHexColor(...e.color),r.opacity=e.opacity;const[i,s]=r.pageDimensions,a=r.width*i,o=r.height*s,l=r.parentScale,h=e.thickness/2;(0,u.A)(De,r,!0),(0,u.A)(Fe,r,Math.round(a)),(0,u.A)(Ue,r,Math.round(o));const{paths:d,rect:p,rotation:f}=e;for(let{bezier:u}of d){u=ut.call(He,u,p,f);const e=[];r.paths.push(e);let t=l*(u[0]-h),n=l*(u[1]-h);for(let r=2,s=u.length;r<s;r+=6){const i=l*(u[r]-h),s=l*(u[r+1]-h),a=l*(u[r+2]-h),o=l*(u[r+3]-h),c=l*(u[r+4]-h),d=l*(u[r+5]-h);e.push([[t,n],[i,s],[a,o],[c,d]]),t=c,n=d}const i=(0,c.A)(He,this,lt).call(this,e);r.bezierPath2D.push(i)}const v=(0,c.A)(Be,r,dt).call(r);return(0,u.A)(Te,r,Math.max(g.AnnotationEditor.MIN_SIZE,v[2]-v[0])),(0,u.A)(Ce,r,Math.max(g.AnnotationEditor.MIN_SIZE,v[3]-v[1])),(0,c.A)(Be,r,at).call(r,a,o),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=g.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:m.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:(0,c.A)(Be,this,ht).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function ze(e){const t=e=>{this.thickness=e,(0,c.A)(Be,this,ft).call(this)},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function We(e){const t=e=>{this.color=e,(0,c.A)(Be,this,tt).call(this)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ge(e){const t=e=>{this.opacity=e,(0,c.A)(Be,this,tt).call(this)};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function qe(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function Ke(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:s}=this;e.lineWidth=r*i/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,v.opacityToHex)(n))}function Ye(e,t){var n;(this.canvas.addEventListener("contextmenu",z.noContextMenu),this.canvas.addEventListener("pointerleave",(0,h.A)(Ie,this)),this.canvas.addEventListener("pointermove",(0,h.A)(ke,this)),this.canvas.addEventListener("pointerup",(0,h.A)(Pe,this)),this.canvas.removeEventListener("pointerdown",(0,h.A)(Ne,this)),this.isEditing=!0,(0,h.A)(Le,this))||((0,u.A)(Le,this,!0),(0,c.A)(Be,this,st).call(this),this.thickness||(this.thickness=p._defaultThickness),this.color||(this.color=p._defaultColor||g.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=p._defaultOpacity));this.currentPath.push([e,t]),(0,u.A)(je,this,!1),(0,c.A)(Be,this,Ke).call(this),(0,u.A)(Ve,this,(()=>{(0,c.A)(Be,this,Ze).call(this),(0,h.A)(Ve,this)&&window.requestAnimationFrame((0,h.A)(Ve,this))})),window.requestAnimationFrame((0,h.A)(Ve,this))}function Xe(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let s=(0,h.A)(Me,this);if(i.push([e,t]),(0,u.A)(je,this,!0),i.length<=2)return s.moveTo(...i[0]),void s.lineTo(e,t);3===i.length&&((0,u.A)(Me,this,s=new Path2D),s.moveTo(...i[0])),(0,c.A)(Be,this,$e).call(this,s,...i.at(-3),...i.at(-2),e,t)}function Qe(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);(0,h.A)(Me,this).lineTo(...e)}function Je(e,t){let n;if((0,u.A)(Ve,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),(0,c.A)(Be,this,Xe).call(this,e,t),(0,c.A)(Be,this,Qe).call(this),1!==this.currentPath.length)n=(0,c.A)(Be,this,et).call(this);else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=(0,h.A)(Me,this),i=this.currentPath;this.currentPath=[],(0,u.A)(Me,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||((0,c.A)(Be,this,rt).call(this),(0,c.A)(Be,this,it).call(this)),(0,c.A)(Be,this,ft).call(this))},mustExec:!0})}function Ze(){if(!(0,h.A)(je,this))return;(0,u.A)(je,this,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)i.stroke(s);i.stroke((0,h.A)(Me,this)),i.restore()}function $e(e,t,n,r,i,s,a){const o=(t+r)/2,l=(n+i)/2,c=(r+s)/2,u=(i+a)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)}function et(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[s,a]=e[n],[o,l]=e[n+1],c=(s+o)/2,u=(a+l)/2,h=[r+2*(s-r)/3,i+2*(a-i)/3],d=[c+2*(s-c)/3,u+2*(a-u)/3];t.push([[r,i],h,d,[c,u]]),[r,i]=[c,u]}const[s,a]=e[n],[o,l]=e[n+1],c=[r+2*(s-r)/3,i+2*(a-i)/3],u=[o+2*(s-o)/3,l+2*(a-l)/3];return t.push([[r,i],c,u,[o,l]]),t}function tt(){if(this.isEmpty())return void(0,c.A)(Be,this,ot).call(this);(0,c.A)(Be,this,Ke).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),(0,c.A)(Be,this,ot).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function nt(e){this.canvas.removeEventListener("pointerleave",(0,h.A)(Ie,this)),this.canvas.removeEventListener("pointermove",(0,h.A)(ke,this)),this.canvas.removeEventListener("pointerup",(0,h.A)(Pe,this)),this.canvas.addEventListener("pointerdown",(0,h.A)(Ne,this)),(0,h.A)(Re,this)&&clearTimeout((0,h.A)(Re,this)),(0,u.A)(Re,this,setTimeout((()=>{(0,u.A)(Re,this,null),this.canvas.removeEventListener("contextmenu",z.noContextMenu)}),10)),(0,c.A)(Be,this,Je).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function rt(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function it(){(0,u.A)(Oe,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),(0,h.A)(Oe,this).observe(this.div)}function st(){if(!(0,h.A)(Le,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),(0,c.A)(Be,this,ot).call(this)}function at(e,t){const n=(0,c.A)(Be,this,pt).call(this),r=(e-n)/(0,h.A)(Te,this),i=(t-n)/(0,h.A)(Ce,this);this.scaleFactor=Math.min(r,i)}function ot(){const e=(0,c.A)(Be,this,pt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function lt(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,s,a]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],s[0],s[1],a[0],a[1])}return t}function ct(e,t,n){const[r,i,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function ut(e,t,n){const[r,i,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function ht(e,t,n,r){const i=[],s=this.thickness/2,a=e*t+s,o=e*n+s;for(const l of this.paths){const t=[],n=[];for(let r=0,i=l.length;r<i;r++){const[s,c,u,h]=l[r];if(s[0]===h[0]&&s[1]===h[1]&&1===i){const r=e*s[0]+a,i=e*s[1]+o;t.push(r,i),n.push(r,i);break}const d=e*s[0]+a,p=e*s[1]+o,f=e*c[0]+a,m=e*c[1]+o,g=e*u[0]+a,v=e*u[1]+o,y=e*h[0]+a,b=e*h[1]+o;0===r&&(t.push(d,p),n.push(d,p)),t.push(f,m,g,v,y,b),n.push(f,m),r===i-1&&n.push(y,b)}i.push({bezier:ct.call(p,t,r,this.rotation),points:ct.call(p,n,r,this.rotation)})}return i}function dt(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[s,a,o,l]of i){const i=m.Util.bezierBoundingBox(...s,...a,...o,...l);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,n,t,r]}function pt(){return(0,h.A)(De,this)?Math.ceil(this.thickness*this.parentScale):0}function ft(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!(0,h.A)(De,this))return void(0,c.A)(Be,this,tt).call(this);const t=(0,c.A)(Be,this,dt).call(this),n=(0,c.A)(Be,this,pt).call(this);(0,u.A)(Te,this,Math.max(g.AnnotationEditor.MIN_SIZE,t[2]-t[0])),(0,u.A)(Ce,this,Math.max(g.AnnotationEditor.MIN_SIZE,t[3]-t[1]));const r=Math.ceil(n+(0,h.A)(Te,this)*this.scaleFactor),i=Math.ceil(n+(0,h.A)(Ce,this)*this.scaleFactor),[s,a]=this.parentDimensions;this.width=r/s,this.height=i/a,this.setAspectRatio(r,i);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],(0,c.A)(Be,this,st).call(this),(0,c.A)(Be,this,tt).call(this),(0,u.A)(Fe,this,r),(0,u.A)(Ue,this,i),this.setDims(r,i);const d=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-d,l-this.translationY-d)}p=He,(0,s.A)(He,"_defaultColor",null),(0,s.A)(He,"_defaultOpacity",1),(0,s.A)(He,"_defaultThickness",1),(0,s.A)(He,"_type","ink"),(0,s.A)(He,"_editorType",m.AnnotationEditorType.INK);var mt=new WeakMap,gt=new WeakMap,vt=new WeakMap,yt=new WeakMap,bt=new WeakMap,wt=new WeakMap,At=new WeakMap,_t=new WeakMap,xt=new WeakMap,Et=new WeakMap,St=new WeakMap,Ct=new WeakSet;class Tt extends g.AnnotationEditor{constructor(e){super({...e,name:"stampEditor"}),(0,o.A)(this,Ct),(0,l.A)(this,mt,null),(0,l.A)(this,gt,null),(0,l.A)(this,vt,null),(0,l.A)(this,yt,null),(0,l.A)(this,bt,null),(0,l.A)(this,wt,""),(0,l.A)(this,At,null),(0,l.A)(this,_t,null),(0,l.A)(this,xt,null),(0,l.A)(this,Et,!1),(0,l.A)(this,St,!1),(0,u.A)(yt,this,e.bitmapUrl),(0,u.A)(bt,this,e.bitmapFile)}static initialize(e,t){g.AnnotationEditor.initialize(e,t)}static get supportedTypes(){return(0,m.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return(0,m.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(m.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;(0,h.A)(gt,this)&&((0,u.A)(mt,this,null),this._uiManager.imageManager.deleteId((0,h.A)(gt,this)),null===(e=(0,h.A)(At,this))||void 0===e||e.remove(),(0,u.A)(At,this,null),null===(t=(0,h.A)(_t,this))||void 0===t||t.disconnect(),(0,u.A)(_t,this,null),(0,h.A)(xt,this)&&(clearTimeout((0,h.A)(xt,this)),(0,u.A)(xt,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&((0,h.A)(gt,this)&&null===(0,h.A)(At,this)&&(0,c.A)(Ct,this,Pt).call(this),this.isAttachedToDOM||this.parent.add(this))):(0,h.A)(gt,this)&&(0,c.A)(Ct,this,Pt).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!((0,h.A)(vt,this)||(0,h.A)(mt,this)||(0,h.A)(yt,this)||(0,h.A)(bt,this)||(0,h.A)(gt,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),(0,h.A)(mt,this)?(0,c.A)(Ct,this,Nt).call(this):(0,c.A)(Ct,this,Pt).call(this),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}getImageForAltText(){return(0,h.A)(At,this)}static deserialize(e,t,n){if(e instanceof y.StampAnnotationElement)return null;const r=super.deserialize(e,t,n),{rect:i,bitmapUrl:s,bitmapId:a,isSvg:o,accessibilityData:l}=e;a&&n.imageManager.isValidId(a)?(0,u.A)(gt,r,a):(0,u.A)(yt,r,s),(0,u.A)(Et,r,o);const[c,h]=r.pageDimensions;return r.width=(i[2]-i[0])/c,r.height=(i[3]-i[1])/h,l&&(r.altTextData=l),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:m.AnnotationEditorType.STAMP,bitmapId:(0,h.A)(gt,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:(0,h.A)(Et,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=(0,c.A)(Ct,this,jt).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:r,altText:i}=this.altTextData;if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),null===t)return n;t.stamps||(t.stamps=new Map);const s=(0,h.A)(Et,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has((0,h.A)(gt,this))){if((0,h.A)(Et,this)){const e=t.stamps.get((0,h.A)(gt,this));s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=(0,c.A)(Ct,this,jt).call(this,!1))}}else t.stamps.set((0,h.A)(gt,this),{area:s,serialized:n}),n.bitmap=(0,c.A)(Ct,this,jt).call(this,!1);return n}}function kt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?((0,u.A)(mt,this,e.bitmap),t||((0,u.A)(gt,this,e.id),(0,u.A)(Et,this,e.isSvg)),e.file&&(0,u.A)(wt,this,e.file.name),(0,c.A)(Ct,this,Nt).call(this)):this.remove()}function It(){(0,u.A)(vt,this,null),this._uiManager.enableWaiting(!1),(0,h.A)(At,this)&&this.div.focus()}function Pt(){if((0,h.A)(gt,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId((0,h.A)(gt,this)).then((e=>(0,c.A)(Ct,this,kt).call(this,e,!0))).finally((()=>(0,c.A)(Ct,this,It).call(this)));if((0,h.A)(yt,this)){const e=(0,h.A)(yt,this);return(0,u.A)(yt,this,null),this._uiManager.enableWaiting(!0),void(0,u.A)(vt,this,this._uiManager.imageManager.getFromUrl(e).then((e=>(0,c.A)(Ct,this,kt).call(this,e))).finally((()=>(0,c.A)(Ct,this,It).call(this))))}if((0,h.A)(bt,this)){const e=(0,h.A)(bt,this);return(0,u.A)(bt,this,null),this._uiManager.enableWaiting(!0),void(0,u.A)(vt,this,this._uiManager.imageManager.getFromFile(e).then((e=>(0,c.A)(Ct,this,kt).call(this,e))).finally((()=>(0,c.A)(Ct,this,It).call(this))))}const e=document.createElement("input");e.type="file",e.accept=f.supportedTypesStr,(0,u.A)(vt,this,new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);(0,c.A)(Ct,this,kt).call(this,t)}else this.remove();t()})),e.addEventListener("cancel",(()=>{this.remove(),t()}))})).finally((()=>(0,c.A)(Ct,this,It).call(this)))),e.click()}function Nt(){const{div:e}=this;let{width:t,height:n}=(0,h.A)(mt,this);const[r,i]=this.pageDimensions,s=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>s*r||n>s*i){const e=Math.min(s*r/t,s*i/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/r,n*o/i),this._uiManager.enableWaiting(!1);const l=(0,u.A)(At,this,document.createElement("canvas"));e.append(l),e.hidden=!1,(0,c.A)(Ct,this,Dt).call(this,t,n),(0,c.A)(Ct,this,Lt).call(this),(0,h.A)(St,this)||(this.parent.addUndoableEditor(this),(0,u.A)(St,this,!0)),this._reportTelemetry({action:"inserted_image"}),(0,h.A)(wt,this)&&l.setAttribute("aria-label",(0,h.A)(wt,this))}function Rt(e,t){var n;const[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,this.setDims(e,t),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==(0,h.A)(xt,this)&&clearTimeout((0,h.A)(xt,this));(0,u.A)(xt,this,setTimeout((()=>{(0,u.A)(xt,this,null),(0,c.A)(Ct,this,Dt).call(this,e,t)}),200))}function Mt(e,t){const{width:n,height:r}=(0,h.A)(mt,this);let i=n,s=r,a=(0,h.A)(mt,this);for(;i>2*e||s>2*t;){const n=i,r=s;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(i,s);o.getContext("2d").drawImage(a,0,0,n,r,0,0,i,s),a=o.transferToImageBitmap()}return a}function Dt(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=(0,h.A)(At,this);if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=(0,h.A)(Et,this)?(0,h.A)(mt,this):(0,c.A)(Ct,this,Mt).call(this,e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(e,t);n.getContext("2d").drawImage(r,0,0,r.width,r.height,0,0,e,t),n.convertToBlob().then((e=>{const t=new FileReader;t.onload=()=>{const e=t.result;this._uiManager.mlGuess({service:"image-to-text",request:{imageData:e}}).then((e=>{const t=(null===e||void 0===e?void 0:e.output)||"";this.parent&&t&&!this.hasAltText()&&(this.altTextData={altText:t,decorative:!1})}))},t.readAsDataURL(e)}))}const i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}function jt(e){if(e){if((0,h.A)(Et,this)){const e=this._uiManager.imageManager.getSvgUrl((0,h.A)(gt,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=(0,h.A)(mt,this));return e.getContext("2d").drawImage((0,h.A)(mt,this),0,0),e.toDataURL()}if((0,h.A)(Et,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*z.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*z.PixelsPerInch.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage((0,h.A)(mt,this),0,0,(0,h.A)(mt,this).width,(0,h.A)(mt,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone((0,h.A)(mt,this))}function Lt(){(0,u.A)(_t,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&(0,c.A)(Ct,this,Rt).call(this,t.width,t.height)}))),(0,h.A)(_t,this).observe(this.div)}f=Tt,(0,s.A)(Tt,"_type","stamp"),(0,s.A)(Tt,"_editorType",m.AnnotationEditorType.STAMP);var Ot=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,qt=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Qt=new WeakSet;class Jt{constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:c,viewport:d,l10n:p}=e;(0,o.A)(this,Qt),(0,l.A)(this,Ot,void 0),(0,l.A)(this,Ft,!1),(0,l.A)(this,Ut,null),(0,l.A)(this,Vt,null),(0,l.A)(this,Bt,null),(0,l.A)(this,Ht,null),(0,l.A)(this,zt,null),(0,l.A)(this,Wt,new Map),(0,l.A)(this,Gt,!1),(0,l.A)(this,qt,!1),(0,l.A)(this,Kt,!1),(0,l.A)(this,Yt,null),(0,l.A)(this,Xt,void 0);const f=[...rn._.values()];if(!Jt._initialized){Jt._initialized=!0;for(const e of f)e.initialize(p,t)}t.registerEditorTypes(f),(0,u.A)(Xt,this,t),this.pageIndex=n,this.div=r,(0,u.A)(Ot,this,i),(0,u.A)(Ut,this,s),this.viewport=d,(0,u.A)(Yt,this,c),this.drawLayer=a,(0,h.A)(Xt,this).addLayer(this)}get isEmpty(){return 0===(0,h.A)(Wt,this).size}get isInvisible(){return this.isEmpty&&(0,h.A)(Xt,this).getMode()===m.AnnotationEditorType.NONE}updateToolbar(e){(0,h.A)(Xt,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,h.A)(Xt,this).getMode();switch((0,c.A)(Qt,this,nn).call(this),e){case m.AnnotationEditorType.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case m.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case m.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of rn._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=(0,h.A)(Yt,this))||void 0===t?void 0:t.div)}addInkEditorIfNeeded(e){if((0,h.A)(Xt,this).getMode()!==m.AnnotationEditorType.INK)return;if(!e)for(const t of(0,h.A)(Wt,this).values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){(0,h.A)(Xt,this).setEditingState(e)}addCommands(e){(0,h.A)(Xt,this).addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=(0,h.A)(Ut,this))||void 0===e||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of(0,h.A)(Wt,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&((0,h.A)(Xt,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!(0,h.A)(Ut,this))return;const t=(0,h.A)(Ut,this).getEditableAnnotations();for(const n of t){if(n.hide(),(0,h.A)(Xt,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){(0,u.A)(Kt,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of(0,h.A)(Wt,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if((0,h.A)(Ut,this)){const n=(0,h.A)(Ut,this).getEditableAnnotations();for(const r of n){const{id:n}=r.data;if((0,h.A)(Xt,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&((0,h.A)(Xt,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(r),i.show(!1)),r.show())}}(0,c.A)(Qt,this,nn).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of rn._.values())r.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),(0,u.A)(Kt,this,!1)}getEditableAnnotation(e){var t;return(null===(t=(0,h.A)(Ut,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){(0,h.A)(Xt,this).getActive()!==e&&(0,h.A)(Xt,this).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,null!==(e=(0,h.A)(Yt,this))&&void 0!==e&&e.div&&!(0,h.A)(Ht,this)&&((0,u.A)(Ht,this,(0,c.A)(Qt,this,Zt).bind(this)),(0,h.A)(Yt,this).div.addEventListener("pointerdown",(0,h.A)(Ht,this)),(0,h.A)(Yt,this).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=(0,h.A)(Yt,this))&&void 0!==e&&e.div&&(0,h.A)(Ht,this)&&((0,h.A)(Yt,this).div.removeEventListener("pointerdown",(0,h.A)(Ht,this)),(0,u.A)(Ht,this,null),(0,h.A)(Yt,this).div.classList.remove("highlighting"))}enableClick(){(0,h.A)(Bt,this)||((0,u.A)(Bt,this,this.pointerdown.bind(this)),(0,u.A)(Vt,this,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",(0,h.A)(Bt,this)),this.div.addEventListener("pointerup",(0,h.A)(Vt,this)))}disableClick(){(0,h.A)(Bt,this)&&(this.div.removeEventListener("pointerdown",(0,h.A)(Bt,this)),this.div.removeEventListener("pointerup",(0,h.A)(Vt,this)),(0,u.A)(Bt,this,null),(0,u.A)(Vt,this,null))}attach(e){(0,h.A)(Wt,this).set(e.id,e);const{annotationElementId:t}=e;t&&(0,h.A)(Xt,this).isDeletedAnnotationElement(t)&&(0,h.A)(Xt,this).removeDeletedAnnotationElement(e)}detach(e){var t;(0,h.A)(Wt,this).delete(e.id),null===(t=(0,h.A)(Ot,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!(0,h.A)(Kt,this)&&e.annotationElementId&&(0,h.A)(Xt,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),(0,h.A)(Xt,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,(0,h.A)(qt,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&((0,h.A)(Xt,this).addDeletedAnnotationElement(e.annotationElementId),g.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),(0,h.A)(Xt,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),(0,h.A)(Xt,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!(0,h.A)(zt,this)&&(e._focusEventsAllowed=!1,(0,u.A)(zt,this,setTimeout((()=>{(0,u.A)(zt,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),n.focus())}),0))),e._structTreeParentId=null===(t=(0,h.A)(Ot,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return(0,h.A)(Xt,this).getId()}canCreateNewEmptyEditor(){var e;return null===(e=(0,a.A)(Qt,this,$t))||void 0===e?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){(0,h.A)(Xt,this).updateToolbar(e),(0,h.A)(Xt,this).updateMode(e);const{offsetX:n,offsetY:r}=(0,c.A)(Qt,this,tn).call(this),i=this.getNextId(),s=(0,c.A)(Qt,this,en).call(this,{parent:this,id:i,x:n,y:r,uiManager:(0,h.A)(Xt,this),isCentered:!0,...t});s&&this.add(s)}deserialize(e){var t,n;return(null===(t=rn._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,(0,h.A)(Xt,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=(0,c.A)(Qt,this,en).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:(0,h.A)(Xt,this),isCentered:t,...n});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor((0,c.A)(Qt,this,tn).call(this),!0)}setSelected(e){(0,h.A)(Xt,this).setSelected(e)}toggleSelected(e){(0,h.A)(Xt,this).toggleSelected(e)}isSelected(e){return(0,h.A)(Xt,this).isSelected(e)}unselect(e){(0,h.A)(Xt,this).unselect(e)}pointerup(e){const{isMac:t}=m.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&(0,h.A)(Gt,this)&&((0,u.A)(Gt,this,!1),(0,h.A)(Ft,this)?(0,h.A)(Xt,this).getMode()!==m.AnnotationEditorType.STAMP?this.createAndAddNewEditor(e,!1):(0,h.A)(Xt,this).unselectAll():(0,u.A)(Ft,this,!0))}pointerdown(e){if((0,h.A)(Xt,this).getMode()===m.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),(0,h.A)(Gt,this))return void(0,u.A)(Gt,this,!1);const{isMac:t}=m.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;(0,u.A)(Gt,this,!0);const n=(0,h.A)(Xt,this).getActive();(0,u.A)(Ft,this,!n||n.isEmpty())}findNewParent(e,t,n){const r=(0,h.A)(Xt,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){var e;(null===(e=(0,h.A)(Xt,this).getActive())||void 0===e?void 0:e.parent)===this&&((0,h.A)(Xt,this).commitOrRemove(),(0,h.A)(Xt,this).setActiveEditor(null)),(0,h.A)(zt,this)&&(clearTimeout((0,h.A)(zt,this)),(0,u.A)(zt,this,null));for(const n of(0,h.A)(Wt,this).values()){var t;null===(t=(0,h.A)(Ot,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,(0,h.A)(Wt,this).clear(),(0,h.A)(Xt,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,(0,z.setLayerDimensions)(this.div,t);for(const n of(0,h.A)(Xt,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;(0,h.A)(Xt,this).commitOrRemove(),(0,c.A)(Qt,this,nn).call(this);const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,(0,z.setLayerDimensions)(this.div,{rotation:r}),n!==r)for(const i of(0,h.A)(Wt,this).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return(0,h.A)(Xt,this).viewParameters.realScale}}function Zt(e){if((0,h.A)(Xt,this).unselectAll(),e.target===(0,h.A)(Yt,this).div){const{isMac:t}=m.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;(0,h.A)(Xt,this).showAllEditors("highlight",!0,!0),(0,h.A)(Yt,this).div.classList.add("free"),ue.startHighlighting(this,"ltr"===(0,h.A)(Xt,this).direction,e),(0,h.A)(Yt,this).div.addEventListener("pointerup",(()=>{(0,h.A)(Yt,this).div.classList.remove("free")}),{once:!0}),e.preventDefault()}}function $t(e){return rn._.get((0,h.A)(Xt,e).getMode())}function en(e){const t=(0,a.A)(Qt,this,$t);return t?new t.prototype.constructor(e):null}function tn(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),s=Math.max(0,t),a=(i+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function nn(){(0,u.A)(qt,this,!0);for(const e of(0,h.A)(Wt,this).values())e.isEmpty()&&e.remove();(0,u.A)(qt,this,!1)}(0,s.A)(Jt,"_initialized",!1);var rn={_:new Map([N,He,Tt,ue].map((e=>[e._editorType,e])))}},259:(e,t,n)=>{var r;n.d(t,{ColorPicker:()=>C});var i=n(292),s=n(830),d=n(419),p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakMap,_=new WeakMap,x=new WeakMap,E=new WeakMap,S=new WeakSet;class C{static get _keyboardManager(){return(0,i.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["Escape","mac+Escape"],C.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],C.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],C.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],C.prototype._moveToPrevious],[["Home","mac+Home"],C.prototype._moveToBeginning],[["End","mac+End"],C.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;(0,o.A)(this,S),(0,l.A)(this,p,(0,c.A)(S,this,I).bind(this)),(0,l.A)(this,f,(0,c.A)(S,this,N).bind(this)),(0,l.A)(this,m,null),(0,l.A)(this,g,null),(0,l.A)(this,v,void 0),(0,l.A)(this,y,null),(0,l.A)(this,b,!1),(0,l.A)(this,w,!1),(0,l.A)(this,A,null),(0,l.A)(this,_,void 0),(0,l.A)(this,x,null),(0,l.A)(this,E,void 0),n?((0,u.A)(w,this,!1),(0,u.A)(E,this,i.AnnotationEditorParamsType.HIGHLIGHT_COLOR),(0,u.A)(A,this,n)):((0,u.A)(w,this,!0),(0,u.A)(E,this,i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),(0,u.A)(x,this,(null===n||void 0===n?void 0:n._uiManager)||r),(0,u.A)(_,this,(0,h.A)(x,this)._eventBus),(0,u.A)(v,this,(null===n||void 0===n?void 0:n.color)||(null===(t=(0,h.A)(x,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98")}renderButton(){const e=(0,u.A)(m,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",(0,c.A)(S,this,P).bind(this)),e.addEventListener("keydown",(0,h.A)(p,this));const t=(0,u.A)(g,this,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=(0,h.A)(v,this),e.append(t),e}renderMainDropdown(){const e=(0,u.A)(y,this,(0,c.A)(S,this,T).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===(0,h.A)(m,this))return void(0,c.A)(S,this,P).call(this,e);const t=e.target.getAttribute("data-color");t&&(0,c.A)(S,this,k).call(this,t,e)}_moveToNext(e){var t,n;(0,a.A)(S,this,R)?e.target!==(0,h.A)(m,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=(0,h.A)(y,this).firstChild)||void 0===n||n.focus():(0,c.A)(S,this,P).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=(0,h.A)(y,this))||void 0===t?void 0:t.firstChild)&&e.target!==(0,h.A)(m,this)?((0,a.A)(S,this,R)||(0,c.A)(S,this,P).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):(0,a.A)(S,this,R)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;(0,a.A)(S,this,R)?null===(t=(0,h.A)(y,this).firstChild)||void 0===t||t.focus():(0,c.A)(S,this,P).call(this,e)}_moveToEnd(e){var t;(0,a.A)(S,this,R)?null===(t=(0,h.A)(y,this).lastChild)||void 0===t||t.focus():(0,c.A)(S,this,P).call(this,e)}hideDropdown(){var e;null===(e=(0,h.A)(y,this))||void 0===e||e.classList.add("hidden"),window.removeEventListener("pointerdown",(0,h.A)(f,this))}_hideDropdownFromKeyboard(){var e;(0,h.A)(w,this)||((0,a.A)(S,this,R)?(this.hideDropdown(),(0,h.A)(m,this).focus({preventScroll:!0,focusVisible:(0,h.A)(b,this)})):null===(e=(0,h.A)(A,this))||void 0===e||e.unselect())}updateColor(e){if((0,h.A)(g,this)&&((0,h.A)(g,this).style.backgroundColor=e),!(0,h.A)(y,this))return;const t=(0,h.A)(x,this).highlightColors.values();for(const n of(0,h.A)(y,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=(0,h.A)(m,this))||void 0===e||e.remove(),(0,u.A)(m,this,null),(0,u.A)(g,this,null),null===(t=(0,h.A)(y,this))||void 0===t||t.remove(),(0,u.A)(y,this,null)}}function T(){const e=document.createElement("div");e.addEventListener("contextmenu",d.noContextMenu),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,n]of(0,h.A)(x,this).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",n),r.title=t,r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-".concat(t));const i=document.createElement("span");r.append(i),i.className="swatch",i.style.backgroundColor=n,r.setAttribute("aria-selected",n===(0,h.A)(v,this)),r.addEventListener("click",(0,c.A)(S,this,k).bind(this,n)),e.append(r)}return e.addEventListener("keydown",(0,h.A)(p,this)),e}function k(e,t){t.stopPropagation(),(0,h.A)(_,this).dispatch("switchannotationeditorparams",{source:this,type:(0,h.A)(E,this),value:e})}function I(e){r._keyboardManager.exec(this,e)}function P(e){if((0,a.A)(S,this,R))return void this.hideDropdown();if((0,u.A)(b,this,0===e.detail),window.addEventListener("pointerdown",(0,h.A)(f,this)),(0,h.A)(y,this))return void(0,h.A)(y,this).classList.remove("hidden");const t=(0,u.A)(y,this,(0,c.A)(S,this,T).call(this));(0,h.A)(m,this).append(t)}function N(e){var t;null!==(t=(0,h.A)(y,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function R(e){return(0,h.A)(y,e)&&!(0,h.A)(y,e).classList.contains("hidden")}r=C},310:(e,t,n)=>{var r,i;n.d(t,{AnnotationEditor:()=>K});var a=n(830),d=n(292),p=n(419),f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakSet;class _{constructor(e){(0,o.A)(this,A),(0,l.A)(this,f,""),(0,l.A)(this,m,!1),(0,l.A)(this,g,null),(0,l.A)(this,v,null),(0,l.A)(this,y,null),(0,l.A)(this,b,!1),(0,l.A)(this,w,null),(0,u.A)(w,this,e)}static initialize(e){_._l10nPromise||(_._l10nPromise=e)}async render(){const e=(0,u.A)(g,this,document.createElement("button"));e.className="altText";const t=await _._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",p.noContextMenu),e.addEventListener("pointerdown",(e=>e.stopPropagation()));const n=e=>{e.preventDefault(),(0,h.A)(w,this)._uiManager.editAltText((0,h.A)(w,this))};return e.addEventListener("click",n,{capture:!0}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&((0,u.A)(b,this,!0),n(t))})),await(0,c.A)(A,this,x).call(this),e}finish(){(0,h.A)(g,this)&&((0,h.A)(g,this).focus({focusVisible:(0,h.A)(b,this)}),(0,u.A)(b,this,!1))}isEmpty(){return!(0,h.A)(f,this)&&!(0,h.A)(m,this)}get data(){return{altText:(0,h.A)(f,this),decorative:(0,h.A)(m,this)}}set data(e){let{altText:t,decorative:n}=e;(0,h.A)(f,this)===t&&(0,h.A)(m,this)===n||((0,u.A)(f,this,t),(0,u.A)(m,this,n),(0,c.A)(A,this,x).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,h.A)(g,this)&&(!e&&(0,h.A)(y,this)&&(clearTimeout((0,h.A)(y,this)),(0,u.A)(y,this,null)),(0,h.A)(g,this).disabled=!e)}destroy(){var e;null===(e=(0,h.A)(g,this))||void 0===e||e.remove(),(0,u.A)(g,this,null),(0,u.A)(v,this,null)}}async function x(){const e=(0,h.A)(g,this);if(!e)return;var t;if(!(0,h.A)(f,this)&&!(0,h.A)(m,this))return e.classList.remove("done"),void(null===(t=(0,h.A)(v,this))||void 0===t||t.remove());e.classList.add("done"),r._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let n=(0,h.A)(v,this);if(!n){(0,u.A)(v,this,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const t=n.id="alt-text-tooltip-".concat((0,h.A)(w,this).id);e.setAttribute("aria-describedby",t);const r=100;e.addEventListener("mouseenter",(()=>{(0,u.A)(y,this,setTimeout((()=>{(0,u.A)(y,this,null),(0,h.A)(v,this).classList.add("show"),(0,h.A)(w,this)._reportTelemetry({action:"alt_text_tooltip"})}),r))})),e.addEventListener("mouseleave",(()=>{var e;(0,h.A)(y,this)&&(clearTimeout((0,h.A)(y,this)),(0,u.A)(y,this,null)),null===(e=(0,h.A)(v,this))||void 0===e||e.classList.remove("show")}))}n.innerText=(0,h.A)(m,this)?await r._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):(0,h.A)(f,this),n.parentNode||e.append(n);const i=(0,h.A)(w,this).getImageForAltText();null===i||void 0===i||i.setAttribute("aria-describedby",n.id)}r=_,(0,s.A)(_,"_l10nPromise",null);var E=n(362),S=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,I=new WeakMap,P=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,j=new WeakMap,L=new WeakMap,O=new WeakMap,F=new WeakMap,U=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,z=new WeakMap,W=new WeakMap,G=new WeakMap,q=new WeakSet;class K{static get _resizerKeyboardManager(){const e=K.prototype._resizeWithKeyboard,t=a.AnnotationEditorUIManager.TRANSLATE_SMALL,n=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,d.shadow)(this,"_resizerKeyboardManager",new a.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],K.prototype._stopResizingWithKeyboard]]))}constructor(e){(0,o.A)(this,q),(0,l.A)(this,S,null),(0,l.A)(this,C,null),(0,l.A)(this,T,!1),(0,l.A)(this,k,!1),(0,l.A)(this,I,null),(0,l.A)(this,P,null),(0,l.A)(this,N,this.focusin.bind(this)),(0,l.A)(this,R,this.focusout.bind(this)),(0,l.A)(this,M,null),(0,l.A)(this,D,""),(0,l.A)(this,j,!1),(0,l.A)(this,L,null),(0,l.A)(this,O,!1),(0,l.A)(this,F,!1),(0,l.A)(this,U,!1),(0,l.A)(this,V,null),(0,l.A)(this,B,0),(0,l.A)(this,H,0),(0,l.A)(this,z,null),(0,s.A)(this,"_initialOptions",Object.create(null)),(0,s.A)(this,"_isVisible",!0),(0,s.A)(this,"_uiManager",null),(0,s.A)(this,"_focusEventsAllowed",!0),(0,s.A)(this,"_l10nPromise",null),(0,l.A)(this,W,!1),(0,l.A)(this,G,K._zIndex++),this.constructor===K&&(0,d.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,a];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,d.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new le({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(K._l10nPromise||(K._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>"-".concat(e.toLowerCase()))))])))),null!==n&&void 0!==n&&n.strings)for(const i of n.strings)K._l10nPromise.set(i,e.get(i));if(-1!==K._borderLineWidth)return;const r=getComputedStyle(document.documentElement);K._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,d.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return(0,h.A)(W,this)}set _isDraggable(e){var t;(0,u.A)(W,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=(0,h.A)(G,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(0,c.A)(q,this,oe).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&((0,h.A)(j,this)?(0,u.A)(j,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,s]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/s,this.fixAndSetPosition()}translate(e,t){(0,c.A)(q,this,Y).call(this,this.parentDimensions,e,t)}translateInPage(e,t){(0,h.A)(L,this)||(0,u.A)(L,this,[this.x,this.y]),(0,c.A)(q,this,Y).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){(0,h.A)(L,this)||(0,u.A)(L,this,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:s}=this;const[a,o]=this.getBaseTranslation();i+=a,s+=o,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*s).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!(0,h.A)(L,this)&&((0,h.A)(L,this)[0]!==this.x||(0,h.A)(L,this)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=K,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:i,width:s,height:a}=this;if(s*=t,a*=n,r*=t,i*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-s,r)),i=Math.max(0,Math.min(n-a,i));break;case 90:r=Math.max(0,Math.min(t-a,r)),i=Math.min(n,Math.max(s,i));break;case 180:r=Math.min(t,Math.max(s,r)),i=Math.min(n,Math.max(a,i));break;case 270:r=Math.min(t,Math.max(a,r)),i=Math.max(0,Math.min(n-s,i))}this.x=r/=t,this.y=i/=n;const[o,l]=this.getBaseTranslation();r+=o,i+=l;const{style:c}=this.div;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return X.call(K,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return X.call(K,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,i=n*e;return d.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width="".concat((100*e/n).toFixed(2),"%"),(0,h.A)(k,this)||(this.div.style.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!(0,h.A)(k,this)&&t.endsWith("%");if(r&&i)return;const[s,a]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),(0,h.A)(k,this)||i||(e.height="".concat((100*parseFloat(t)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=(0,h.A)(C,this))||void 0===e||e.finish()}async addEditToolbar(){return(0,h.A)(M,this)||(0,h.A)(F,this)||((0,u.A)(M,this,new E.EditorToolbar(this)),this.div.append((0,h.A)(M,this).render()),(0,h.A)(C,this)&&(0,h.A)(M,this).addAltTextButton(await(0,h.A)(C,this).render())),(0,h.A)(M,this)}removeEditToolbar(){var e;(0,h.A)(M,this)&&((0,h.A)(M,this).remove(),(0,u.A)(M,this,null),null===(e=(0,h.A)(C,this))||void 0===e||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){(0,h.A)(C,this)||(_.initialize(K._l10nPromise),(0,u.A)(C,this,new _(this)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=(0,h.A)(C,this))||void 0===e?void 0:e.data}set altTextData(e){(0,h.A)(C,this)&&((0,h.A)(C,this).data=e)}hasAltText(){var e;return!(null!==(e=(0,h.A)(C,this))&&void 0!==e&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=(0,h.A)(T,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",(0,h.A)(N,this)),this.div.addEventListener("focusout",(0,h.A)(R,this));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,r]=this.getInitialTranslation();return this.translate(n,r),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=d.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():((0,u.A)(j,this,!0),this._isDraggable?(0,c.A)(q,this,ne).call(this,e):(0,c.A)(q,this,te).call(this,e))}moveInDOM(){(0,h.A)(V,this)&&clearTimeout((0,h.A)(V,this)),(0,u.A)(V,this,setTimeout((()=>{var e;(0,u.A)(V,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}),0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/r,c=t/r,u=this.x*i,h=this.y*s,d=this.width*i,p=this.height*s;switch(n){case 0:return[u+l+a,s-h-c-p+o,u+l+d+a,s-h-c+o];case 90:return[u+c+a,s-h+l+o,u+c+p+a,s-h+l+d+o];case 180:return[u-l-d+a,s-h+c+o,u-l+a,s-h+c+p+o];case 270:return[u-c-p+a,s-h-l-d+o,u-c+a,s-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,s]=e,a=i-n,o=s-r;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-r,o,a];case 180:return[i,t-r,a,o];case 270:return[i,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){(0,u.A)(F,this,!0)}disableEditMode(){(0,u.A)(F,this,!1)}isInEditMode(){return(0,h.A)(F,this)}shouldGetKeyboardEvents(){return(0,h.A)(U,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;null===(e=this.div)||void 0===e||e.addEventListener("focusin",(0,h.A)(N,this)),null===(t=this.div)||void 0===t||t.addEventListener("focusout",(0,h.A)(R,this))}rotate(e){}serialize(){(0,d.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,s]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(e.rect,s);return r.x=a/i,r.y=o/s,r.width=l/i,r.height=c/s,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",(0,h.A)(N,this)),this.div.removeEventListener("focusout",(0,h.A)(R,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(0,h.A)(V,this)&&(clearTimeout((0,h.A)(V,this)),(0,u.A)(V,this,null)),(0,c.A)(q,this,oe).call(this),this.removeEditToolbar(),(0,h.A)(z,this)){for(const e of(0,h.A)(z,this).values())clearTimeout(e);(0,u.A)(z,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&((0,c.A)(q,this,J).call(this),(0,h.A)(I,this).classList.remove("hidden"),(0,a.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),(0,u.A)(P,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=(0,h.A)(I,this).children;if(!(0,h.A)(S,this)){(0,u.A)(S,this,Array.from(t));const e=(0,c.A)(q,this,re).bind(this),n=(0,c.A)(q,this,ie).bind(this);for(const t of(0,h.A)(S,this)){const r=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e),t.addEventListener("blur",n),t.addEventListener("focus",(0,c.A)(q,this,se).bind(this,r)),K._l10nPromise.get("pdfjs-editor-resizer-label-".concat(r)).then((e=>t.setAttribute("aria-label",e)))}}const n=(0,h.A)(S,this)[0];let r=0;for(const s of t){if(s===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*((0,h.A)(S,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)(0,h.A)(I,this).append((0,h.A)(I,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)(0,h.A)(I,this).firstChild.before((0,h.A)(I,this).lastChild);let e=0;for(const n of t){const t=(0,h.A)(S,this)[e++].getAttribute("data-resizer-name");K._l10nPromise.get("pdfjs-editor-resizer-label-".concat(t)).then((e=>n.setAttribute("aria-label",e)))}}(0,c.A)(q,this,ae).call(this,0),(0,u.A)(U,this,!0),(0,h.A)(I,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){(0,h.A)(U,this)&&(0,c.A)(q,this,ee).call(this,(0,h.A)(D,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){(0,c.A)(q,this,oe).call(this),this.div.focus()}select(){var e,t;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),(0,h.A)(M,this)?null===(t=(0,h.A)(M,this))||void 0===t||t.show():this.addEditToolbar().then((()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=(0,h.A)(M,this))||void 0===t||t.show())}))}unselect(){var e,t,n,r;null===(e=(0,h.A)(I,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=(0,h.A)(M,this))||void 0===r||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return(0,h.A)(O,this)}set isEditing(e){(0,u.A)(O,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){(0,u.A)(k,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){(0,h.A)(z,this)||(0,u.A)(z,this,new Map);const{action:t}=e;let n=(0,h.A)(z,this).get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),(0,h.A)(z,this).delete(t),0===(0,h.A)(z,this).size&&(0,u.A)(z,this,null)}),K._telemetryTimeout),void(0,h.A)(z,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),(0,u.A)(T,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),(0,u.A)(T,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}function Y(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}function X(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function Q(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function J(){if((0,h.A)(I,this))return;(0,u.A)(I,this,document.createElement("div")),(0,h.A)(I,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const e=document.createElement("div");(0,h.A)(I,this).append(e),e.classList.add("resizer",t),e.setAttribute("data-resizer-name",t),e.addEventListener("pointerdown",(0,c.A)(q,this,Z).bind(this,t)),e.addEventListener("contextmenu",p.noContextMenu),e.tabIndex=-1}this.div.prepend((0,h.A)(I,this))}function Z(e,t){var n;t.preventDefault();const{isMac:r}=d.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=(0,h.A)(C,this))||void 0===n||n.toggle(!1);const i=(0,c.A)(q,this,ee).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",p.noContextMenu);const o=this.x,l=this.y,u=this.width,f=this.height,m=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var e;this.parent.togglePointerEvents(!0),null===(e=(0,h.A)(C,this))||void 0===e||e.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",p.noContextMenu),this.parent.div.style.cursor=m,this.div.style.cursor=g,(0,c.A)(q,this,$).call(this,o,l,u,f)};window.addEventListener("pointerup",v),window.addEventListener("blur",v)}function $(e,t,n,r){const i=this.x,s=this.y,a=this.width,o=this.height;i===e&&s===t&&a===n&&o===r||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=i,this.y=s;const[e,t]=this.parentDimensions;this.setDims(e*a,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[i,s]=this.parentDimensions;this.setDims(i*n,s*r),this.fixAndSetPosition()},mustExec:!0})}function ee(e,t){const[n,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=i.MIN_SIZE/n,h=i.MIN_SIZE/r,d=e=>Math.round(1e4*e)/1e4,p=(0,c.A)(q,this,Q).call(this,this.rotation),f=(e,t)=>[p[0]*e+p[2]*t,p[1]*e+p[3]*t],m=(0,c.A)(q,this,Q).call(this,360-this.rotation);let g,v,y=!1,b=!1;switch(e){case"topLeft":y=!0,g=(e,t)=>[0,0],v=(e,t)=>[e,t];break;case"topMiddle":g=(e,t)=>[e/2,0],v=(e,t)=>[e/2,t];break;case"topRight":y=!0,g=(e,t)=>[e,0],v=(e,t)=>[0,t];break;case"middleRight":b=!0,g=(e,t)=>[e,t/2],v=(e,t)=>[0,t/2];break;case"bottomRight":y=!0,g=(e,t)=>[e,t],v=(e,t)=>[0,0];break;case"bottomMiddle":g=(e,t)=>[e/2,t],v=(e,t)=>[e/2,0];break;case"bottomLeft":y=!0,g=(e,t)=>[0,t],v=(e,t)=>[e,0];break;case"middleLeft":b=!0,g=(e,t)=>[0,t/2],v=(e,t)=>[e,t/2]}const w=g(o,l),A=v(o,l);let _=f(...A);const x=d(s+_[0]),E=d(a+_[1]);let S=1,C=1,[T,k]=this.screenToPageTranslation(t.movementX,t.movementY);var I,P;if([T,k]=(I=T/n,P=k/r,[m[0]*I+m[2]*P,m[1]*I+m[3]*P]),y){const e=Math.hypot(o,l);S=C=Math.max(Math.min(Math.hypot(A[0]-w[0]-T,A[1]-w[1]-k)/e,1/o,1/l),u/o,h/l)}else b?S=Math.max(u,Math.min(1,Math.abs(A[0]-w[0]-T)))/o:C=Math.max(h,Math.min(1,Math.abs(A[1]-w[1]-k)))/l;const N=d(o*S),R=d(l*C);_=f(...v(N,R));const M=x-_[0],D=E-_[1];this.width=N,this.height=R,this.x=M,this.y=D,this.setDims(n*N,r*R),this.fixAndSetPosition()}function te(e){const{isMac:t}=d.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function ne(e){const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0},(0,u.A)(B,this,e.clientX),(0,u.A)(H,this,e.clientY),r=e=>{const{clientX:t,clientY:n}=e,[r,i]=this.screenToPageTranslation(t-(0,h.A)(B,this),n-(0,h.A)(H,this));(0,u.A)(B,this,t),(0,u.A)(H,this,n),this._uiManager.dragSelectedEditors(r,i)},window.addEventListener("pointermove",r,n));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,n)),(0,u.A)(j,this,!1),this._uiManager.endDragSession()||(0,c.A)(q,this,te).call(this,e)};window.addEventListener("pointerup",i),window.addEventListener("blur",i)}function re(e){i._resizerKeyboardManager.exec(this,e)}function ie(e){var t;(0,h.A)(U,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==(0,h.A)(I,this)&&(0,c.A)(q,this,oe).call(this)}function se(e){(0,u.A)(D,this,(0,h.A)(U,this)?e:"")}function ae(e){if((0,h.A)(S,this))for(const t of(0,h.A)(S,this))t.tabIndex=e}function oe(){if((0,u.A)(U,this,!1),(0,c.A)(q,this,ae).call(this,-1),(0,h.A)(P,this)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=(0,h.A)(P,this);(0,c.A)(q,this,$).call(this,e,t,n,r),(0,u.A)(P,this,null)}}i=K,(0,s.A)(K,"_borderLineWidth",-1),(0,s.A)(K,"_colorManager",new a.ColorManager),(0,s.A)(K,"_zIndex",1),(0,s.A)(K,"_telemetryTimeout",1e3);class le extends K{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},61:(e,t,n)=>{n.d(t,{FreeOutliner:()=>O,Outliner:()=>p});var r=n(292),i=new WeakMap,s=new WeakMap,a=new WeakMap,d=new WeakSet;class p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,o.A)(this,d),(0,l.A)(this,i,void 0),(0,l.A)(this,s,[]),(0,l.A)(this,a,[]);let c=1/0,p=-1/0,f=1/0,m=-1/0;const g=10**-4;for(const{x:i,y:a,width:o,height:l}of e){const e=Math.floor((i-t)/g)*g,n=Math.ceil((i+o+t)/g)*g,r=Math.floor((a-t)/g)*g,u=Math.ceil((a+l+t)/g)*g,d=[e,r,u,!0],v=[n,r,u,!1];(0,h.A)(s,this).push(d,v),c=Math.min(c,e),p=Math.max(p,n),f=Math.min(f,r),m=Math.max(m,u)}const v=p-c+2*n,y=m-f+2*n,b=c-n,w=f-n,A=(0,h.A)(s,this).at(r?-1:-2),_=[A[0],A[2]];for(const i of(0,h.A)(s,this)){const[e,t,n]=i;i[0]=(e-b)/v,i[1]=(t-w)/y,i[2]=(n-w)/y}(0,u.A)(i,this,{x:b,y:w,width:v,height:y,lastPoint:_})}getOutlines(){(0,h.A)(s,this).sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of(0,h.A)(s,this))t[3]?(e.push(...(0,c.A)(d,this,y).call(this,t)),(0,c.A)(d,this,g).call(this,t)):((0,c.A)(d,this,v).call(this,t),e.push(...(0,c.A)(d,this,y).call(this,t)));return(0,c.A)(d,this,f).call(this,e)}}function f(e){const t=[],n=new Set;for(const i of e){const[e,n,r]=i;t.push([e,n,i],[e,r,i])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let i=0,a=t.length;i<a;i+=2){const e=t[i][2],r=t[i+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,i,a,o,l]=e;n.delete(e);let c=t,u=i;for(s=[t,a],r.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,i,a,o,l]=e,c!==t&&(s.push(c,u,t,u===i?i:a),c=t),u=u===i?a:i}s.push(c,u)}return new _(r,(0,h.A)(i,this))}function m(e){const t=(0,h.A)(a,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,s=t[i][0];if(s===e)return i;s<e?n=i+1:r=i-1}return r+1}function g(e){let[,t,n]=e;const r=(0,c.A)(d,this,m).call(this,t);(0,h.A)(a,this).splice(r,0,[t,n])}function v(e){let[,t,n]=e;const r=(0,c.A)(d,this,m).call(this,t);for(let i=r;i<(0,h.A)(a,this).length;i++){const[e,r]=(0,h.A)(a,this)[i];if(e!==t)break;if(e===t&&r===n)return void(0,h.A)(a,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=(0,h.A)(a,this)[i];if(e!==t)break;if(e===t&&r===n)return void(0,h.A)(a,this).splice(i,1)}}function y(e){const[t,n,r]=e,i=[[t,n,r]],s=(0,c.A)(d,this,m).call(this,r);for(let o=0;o<s;o++){const[e,n]=(0,h.A)(a,this)[o];for(let r=0,s=i.length;r<s;r++){const[,a,o]=i[r];if(!(n<=a||o<=e))if(a>=e)if(o>n)i[r][1]=n;else{if(1===s)return[];i.splice(r,1),r--,s--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}class b{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof X}}var w=new WeakMap,A=new WeakMap;class _ extends b{constructor(e,t){super(),(0,l.A)(this,w,void 0),(0,l.A)(this,A,void 0),(0,u.A)(A,this,e),(0,u.A)(w,this,t)}toSVGPath(){const e=[];for(const t of(0,h.A)(A,this)){let[n,r]=t;e.push("M".concat(n," ").concat(r));for(let i=2;i<t.length;i+=2){const s=t[i],a=t[i+1];s===n?(e.push("V".concat(a)),r=a):a===r&&(e.push("H".concat(s)),n=s)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=[],o=i-n,l=s-r;for(const c of(0,h.A)(A,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=s-c[t+1]*l;a.push(e)}return a}get box(){return(0,h.A)(w,this)}}var x=new WeakMap,E=new WeakMap,S=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,I=new WeakMap,P=new WeakMap,N=new WeakMap,R=new WeakMap,M=new WeakMap,D=new WeakMap,j=new WeakMap,L=new WeakSet;class O{constructor(e,t,n,r,i){let{x:s,y:a}=e,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;(0,o.A)(this,L),(0,l.A)(this,x,void 0),(0,l.A)(this,E,[]),(0,l.A)(this,S,void 0),(0,l.A)(this,C,void 0),(0,l.A)(this,T,[]),(0,l.A)(this,k,new Float64Array(18)),(0,l.A)(this,I,void 0),(0,l.A)(this,P,void 0),(0,l.A)(this,N,void 0),(0,l.A)(this,R,void 0),(0,l.A)(this,M,void 0),(0,l.A)(this,D,void 0),(0,l.A)(this,j,[]),(0,u.A)(x,this,t),(0,u.A)(D,this,r*n),(0,u.A)(C,this,i),(0,h.A)(k,this).set([NaN,NaN,NaN,NaN,s,a],6),(0,u.A)(S,this,c),(0,u.A)(R,this,U._*n),(0,u.A)(N,this,V._*n),(0,u.A)(M,this,n),(0,h.A)(j,this).push(s,a)}get free(){return!0}isEmpty(){return isNaN((0,h.A)(k,this)[8])}add(e){var t;let{x:n,y:r}=e;(0,u.A)(I,this,n),(0,u.A)(P,this,r);const[i,s,a,o]=(0,h.A)(x,this);let[l,c,d,p]=(0,h.A)(k,this).subarray(8,12);const f=n-d,m=r-p,g=Math.hypot(f,m);if(g<(0,h.A)(N,this))return!1;const v=g-(0,h.A)(R,this),y=v/g,b=y*f,w=y*m;let A=l,_=c;l=d,c=p,d+=b,p+=w,null===(t=(0,h.A)(j,this))||void 0===t||t.push(n,r);const S=b/v,C=-w/v*(0,h.A)(D,this),M=S*(0,h.A)(D,this);if((0,h.A)(k,this).set((0,h.A)(k,this).subarray(2,8),0),(0,h.A)(k,this).set([d+C,p+M],4),(0,h.A)(k,this).set((0,h.A)(k,this).subarray(14,18),12),(0,h.A)(k,this).set([d-C,p-M],16),isNaN((0,h.A)(k,this)[6]))return 0===(0,h.A)(T,this).length&&((0,h.A)(k,this).set([l+C,c+M],2),(0,h.A)(T,this).push(NaN,NaN,NaN,NaN,(l+C-i)/a,(c+M-s)/o),(0,h.A)(k,this).set([l-C,c-M],14),(0,h.A)(E,this).push(NaN,NaN,NaN,NaN,(l-C-i)/a,(c-M-s)/o)),(0,h.A)(k,this).set([A,_,l,c,d,p],6),!this.isEmpty();(0,h.A)(k,this).set([A,_,l,c,d,p],6);return Math.abs(Math.atan2(_-c,A-l)-Math.atan2(w,b))<Math.PI/2?([l,c,d,p]=(0,h.A)(k,this).subarray(2,6),(0,h.A)(T,this).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/a,((c+p)/2-s)/o),[l,c,A,_]=(0,h.A)(k,this).subarray(14,18),(0,h.A)(E,this).push(NaN,NaN,NaN,NaN,((A+l)/2-i)/a,((_+c)/2-s)/o),!0):([A,_,l,c,d,p]=(0,h.A)(k,this).subarray(0,6),(0,h.A)(T,this).push(((A+5*l)/6-i)/a,((_+5*c)/6-s)/o,((5*l+d)/6-i)/a,((5*c+p)/6-s)/o,((l+d)/2-i)/a,((c+p)/2-s)/o),[d,p,l,c,A,_]=(0,h.A)(k,this).subarray(12,18),(0,h.A)(E,this).push(((A+5*l)/6-i)/a,((_+5*c)/6-s)/o,((5*l+d)/6-i)/a,((5*c+p)/6-s)/o,((l+d)/2-i)/a,((c+p)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=(0,h.A)(T,this),t=(0,h.A)(E,this),n=(0,h.A)(k,this).subarray(4,6),r=(0,h.A)(k,this).subarray(16,18),[i,s,a,o]=(0,h.A)(x,this),[l,u,d,p]=(0,c.A)(L,this,F).call(this);if(isNaN((0,h.A)(k,this)[6])&&!this.isEmpty())return"M".concat(((0,h.A)(k,this)[2]-i)/a," ").concat(((0,h.A)(k,this)[3]-s)/o," L").concat(((0,h.A)(k,this)[4]-i)/a," ").concat(((0,h.A)(k,this)[5]-s)/o," L").concat(l," ").concat(u," L").concat(d," ").concat(p," L").concat(((0,h.A)(k,this)[16]-i)/a," ").concat(((0,h.A)(k,this)[17]-s)/o," L").concat(((0,h.A)(k,this)[14]-i)/a," ").concat(((0,h.A)(k,this)[15]-s)/o," Z");const f=[];f.push("M".concat(e[4]," ").concat(e[5]));for(let c=6;c<e.length;c+=6)isNaN(e[c])?f.push("L".concat(e[c+4]," ").concat(e[c+5])):f.push("C".concat(e[c]," ").concat(e[c+1]," ").concat(e[c+2]," ").concat(e[c+3]," ").concat(e[c+4]," ").concat(e[c+5]));f.push("L".concat((n[0]-i)/a," ").concat((n[1]-s)/o," L").concat(l," ").concat(u," L").concat(d," ").concat(p," L").concat((r[0]-i)/a," ").concat((r[1]-s)/o));for(let c=t.length-6;c>=6;c-=6)isNaN(t[c])?f.push("L".concat(t[c+4]," ").concat(t[c+5])):f.push("C".concat(t[c]," ").concat(t[c+1]," ").concat(t[c+2]," ").concat(t[c+3]," ").concat(t[c+4]," ").concat(t[c+5]));return f.push("L".concat(t[4]," ").concat(t[5]," Z")),f.join(" ")}getOutlines(){var e,t;const n=(0,h.A)(T,this),r=(0,h.A)(E,this),i=(0,h.A)(k,this),s=i.subarray(4,6),a=i.subarray(16,18),[o,l,u,d]=(0,h.A)(x,this),p=new Float64Array((null!==(e=null===(t=(0,h.A)(j,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let c=0,w=p.length-2;c<w;c+=2)p[c]=((0,h.A)(j,this)[c]-o)/u,p[c+1]=((0,h.A)(j,this)[c+1]-l)/d;p[p.length-2]=((0,h.A)(I,this)-o)/u,p[p.length-1]=((0,h.A)(P,this)-l)/d;const[f,m,g,v]=(0,c.A)(L,this,F).call(this);if(isNaN(i[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(i[2]-o)/u,(i[3]-l)/d,NaN,NaN,NaN,NaN,(i[4]-o)/u,(i[5]-l)/d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(i[16]-o)/u,(i[17]-l)/d,NaN,NaN,NaN,NaN,(i[14]-o)/u,(i[15]-l)/d],0),new X(e,p,(0,h.A)(x,this),(0,h.A)(M,this),(0,h.A)(S,this),(0,h.A)(C,this))}const y=new Float64Array((0,h.A)(T,this).length+24+(0,h.A)(E,this).length);let b=n.length;for(let c=0;c<b;c+=2)isNaN(n[c])?y[c]=y[c+1]=NaN:(y[c]=n[c],y[c+1]=n[c+1]);y.set([NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-l)/d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-l)/d],b),b+=24;for(let c=r.length-6;c>=6;c-=6)for(let e=0;e<6;e+=2)isNaN(r[c+e])?(y[b]=y[b+1]=NaN,b+=2):(y[b]=r[c+e],y[b+1]=r[c+e+1],b+=2);return y.set([NaN,NaN,NaN,NaN,r[4],r[5]],b),new X(y,p,(0,h.A)(x,this),(0,h.A)(M,this),(0,h.A)(S,this),(0,h.A)(C,this))}}function F(){const e=(0,h.A)(k,this).subarray(4,6),t=(0,h.A)(k,this).subarray(16,18),[n,r,i,s]=(0,h.A)(x,this);return[((0,h.A)(I,this)+(e[0]-t[0])/2-n)/i,((0,h.A)(P,this)+(e[1]-t[1])/2-r)/s,((0,h.A)(I,this)+(t[0]-e[0])/2-n)/i,((0,h.A)(P,this)+(t[1]-e[1])/2-r)/s]}var U={_:8},V={_:U._+2},B=new WeakMap,H=new WeakMap,z=new WeakMap,W=new WeakMap,G=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakSet;class X extends b{constructor(e,t,n,r,i,s){super(),(0,o.A)(this,Y),(0,l.A)(this,B,void 0),(0,l.A)(this,H,null),(0,l.A)(this,z,void 0),(0,l.A)(this,W,void 0),(0,l.A)(this,G,void 0),(0,l.A)(this,q,void 0),(0,l.A)(this,K,void 0),(0,u.A)(K,this,e),(0,u.A)(G,this,t),(0,u.A)(B,this,n),(0,u.A)(q,this,r),(0,u.A)(z,this,i),(0,u.A)(W,this,s),(0,c.A)(Y,this,Z).call(this,s);const{x:a,y:d,width:p,height:f}=(0,h.A)(H,this);for(let o=0,l=e.length;o<l;o+=2)e[o]=(e[o]-a)/p,e[o+1]=(e[o+1]-d)/f;for(let o=0,l=t.length;o<l;o+=2)t[o]=(t[o]-a)/p,t[o+1]=(t[o+1]-d)/f}toSVGPath(){const e=["M".concat((0,h.A)(K,this)[4]," ").concat((0,h.A)(K,this)[5])];for(let t=6,n=(0,h.A)(K,this).length;t<n;t+=6)isNaN((0,h.A)(K,this)[t])?e.push("L".concat((0,h.A)(K,this)[t+4]," ").concat((0,h.A)(K,this)[t+5])):e.push("C".concat((0,h.A)(K,this)[t]," ").concat((0,h.A)(K,this)[t+1]," ").concat((0,h.A)(K,this)[t+2]," ").concat((0,h.A)(K,this)[t+3]," ").concat((0,h.A)(K,this)[t+4]," ").concat((0,h.A)(K,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=i-n,o=s-r;let l,u;switch(t){case 0:l=(0,c.A)(Y,this,Q).call(this,(0,h.A)(K,this),n,s,a,-o),u=(0,c.A)(Y,this,Q).call(this,(0,h.A)(G,this),n,s,a,-o);break;case 90:l=(0,c.A)(Y,this,J).call(this,(0,h.A)(K,this),n,r,a,o),u=(0,c.A)(Y,this,J).call(this,(0,h.A)(G,this),n,r,a,o);break;case 180:l=(0,c.A)(Y,this,Q).call(this,(0,h.A)(K,this),i,r,-a,o),u=(0,c.A)(Y,this,Q).call(this,(0,h.A)(G,this),i,r,-a,o);break;case 270:l=(0,c.A)(Y,this,J).call(this,(0,h.A)(K,this),i,s,-a,-o),u=(0,c.A)(Y,this,J).call(this,(0,h.A)(G,this),i,s,-a,-o)}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return(0,h.A)(H,this)}getNewOutline(e,t){const{x:n,y:r,width:i,height:s}=(0,h.A)(H,this),[a,o,l,c]=(0,h.A)(B,this),u=i*l,d=s*c,p=n*l+a,f=r*c+o,m=new O({x:(0,h.A)(G,this)[0]*u+p,y:(0,h.A)(G,this)[1]*d+f},(0,h.A)(B,this),(0,h.A)(q,this),e,(0,h.A)(W,this),null!==t&&void 0!==t?t:(0,h.A)(z,this));for(let g=2;g<(0,h.A)(G,this).length;g+=2)m.add({x:(0,h.A)(G,this)[g]*u+p,y:(0,h.A)(G,this)[g+1]*d+f});return m.getOutlines()}}function Q(e,t,n,r,i){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a]*r,s[a+1]=n+e[a+1]*i;return s}function J(e,t,n,r,i){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a+1]*r,s[a+1]=n+e[a]*i;return s}function Z(e){const t=(0,h.A)(K,this);let n=t[4],i=t[5],s=n,a=i,o=n,l=i,c=n,d=i;const p=e?Math.max:Math.min;for(let u=6,h=t.length;u<h;u+=6){if(isNaN(t[u]))s=Math.min(s,t[u+4]),a=Math.min(a,t[u+5]),o=Math.max(o,t[u+4]),l=Math.max(l,t[u+5]),d<t[u+5]?(c=t[u+4],d=t[u+5]):d===t[u+5]&&(c=p(c,t[u+4]));else{const e=r.Util.bezierBoundingBox(n,i,...t.slice(u,u+6));s=Math.min(s,e[0]),a=Math.min(a,e[1]),o=Math.max(o,e[2]),l=Math.max(l,e[3]),d<e[3]?(c=e[2],d=e[3]):d===e[3]&&(c=p(c,e[2]))}n=t[u+4],i=t[u+5]}const f=s-(0,h.A)(z,this),m=a-(0,h.A)(z,this),g=o-s+2*(0,h.A)(z,this),v=l-a+2*(0,h.A)(z,this);(0,u.A)(H,this,{x:f,y:m,width:g,height:v,lastPoint:[c,d]})}},362:(e,t,n)=>{n.d(t,{EditorToolbar:()=>m,HighlightToolbar:()=>C});var r=n(419),i=new WeakMap,s=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakSet;class m{constructor(e){(0,o.A)(this,f),(0,l.A)(this,i,null),(0,l.A)(this,s,null),(0,l.A)(this,d,void 0),(0,l.A)(this,p,null),(0,u.A)(d,this,e)}render(){const e=(0,u.A)(i,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",r.noContextMenu),e.addEventListener("pointerdown",g);const t=(0,u.A)(p,this,document.createElement("div"));t.className="buttons",e.append(t);const n=(0,h.A)(d,this).toolbarPosition;if(n){const{style:t}=e,r="ltr"===(0,h.A)(d,this)._uiManager.direction?1-n[0]:n[0];t.insetInlineEnd="".concat(100*r,"%"),t.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return(0,c.A)(f,this,w).call(this),e}hide(){var e;(0,h.A)(i,this).classList.add("hidden"),null===(e=(0,h.A)(s,this))||void 0===e||e.hideDropdown()}show(){(0,h.A)(i,this).classList.remove("hidden")}addAltTextButton(e){(0,c.A)(f,this,b).call(this,e),(0,h.A)(p,this).prepend(e,(0,a.A)(f,this,A))}addColorPicker(e){(0,u.A)(s,this,e);const t=e.renderButton();(0,c.A)(f,this,b).call(this,t),(0,h.A)(p,this).prepend(t,(0,a.A)(f,this,A))}remove(){var e;(0,h.A)(i,this).remove(),null===(e=(0,h.A)(s,this))||void 0===e||e.destroy(),(0,u.A)(s,this,null)}}function g(e){e.stopPropagation()}function v(e){(0,h.A)(d,this)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}function y(e){(0,h.A)(d,this)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}function b(e){e.addEventListener("focusin",(0,c.A)(f,this,v).bind(this),{capture:!0}),e.addEventListener("focusout",(0,c.A)(f,this,y).bind(this),{capture:!0}),e.addEventListener("contextmenu",r.noContextMenu)}function w(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-editor-remove-".concat((0,h.A)(d,this).editorType,"-button")),(0,c.A)(f,this,b).call(this,e),e.addEventListener("click",(e=>{(0,h.A)(d,this)._uiManager.delete()})),(0,h.A)(p,this).append(e)}function A(e){const t=document.createElement("div");return t.className="divider",t}var _=new WeakMap,x=new WeakMap,E=new WeakMap,S=new WeakSet;class C{constructor(e){(0,o.A)(this,S),(0,l.A)(this,_,null),(0,l.A)(this,x,null),(0,l.A)(this,E,void 0),(0,u.A)(E,this,e)}show(e,t,n){const[r,i]=(0,c.A)(S,this,k).call(this,t,n),{style:s}=(0,h.A)(x,this)||(0,u.A)(x,this,(0,c.A)(S,this,T).call(this));e.append((0,h.A)(x,this)),s.insetInlineEnd="".concat(100*r,"%"),s.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){(0,h.A)(x,this).remove()}}function T(){const e=(0,u.A)(x,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",r.noContextMenu);const t=(0,u.A)(_,this,document.createElement("div"));return t.className="buttons",e.append(t),(0,c.A)(S,this,I).call(this),e}function k(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const s=i.x+(t?i.width:0);e>n?(r=s,n=e):t?s>r&&(r=s):s<r&&(r=s)}return[t?1-r:r,n]}function I(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",r.noContextMenu),e.addEventListener("click",(()=>{(0,h.A)(E,this).highlightSelection("floating_button")})),(0,h.A)(_,this).append(e)}},830:(e,t,n)=>{var r;n.d(t,{AnnotationEditorUIManager:()=>Ce,ColorManager:()=>R,KeyboardManager:()=>P,bindEvents:()=>f,opacityToHex:()=>m});var i=n(292),d=n(419),p=n(362);function f(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}function m(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var g=new WeakMap;class v{constructor(){(0,l.A)(this,g,0)}get id(){var e,t;return"".concat(i.AnnotationEditorPrefix).concat(((0,u.A)(g,this,(e=(0,h.A)(g,this),t=e++,e)),t))}}var y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakSet;class _{constructor(){(0,o.A)(this,A),(0,l.A)(this,y,(0,i.getUuid)()),(0,l.A)(this,b,0),(0,l.A)(this,w,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])));return(0,i.shadow)(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return(0,c.A)(A,this,x).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return(0,c.A)(A,this,x).call(this,e,e)}async getFromId(e){(0,h.A)(w,this)||(0,u.A)(w,this,new Map);const t=(0,h.A)(w,this).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=(0,h.A)(w,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){(0,h.A)(w,this)||(0,u.A)(w,this,new Map);const t=(0,h.A)(w,this).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith("image_".concat((0,h.A)(y,this),"_"))}}async function x(e,t){var n;(0,h.A)(w,this)||(0,u.A)(w,this,new Map);let i=(0,h.A)(w,this).get(e);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var s,a;let e;if(i||(i={bitmap:null,id:"image_".concat((0,h.A)(y,this),"_").concat(((0,u.A)(b,this,(s=(0,h.A)(b,this),a=s++,s)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(i.url=t,e=await(0,d.fetchData)(t,"blob")):e=i.file=t,"image/svg+xml"===e.type){const t=r._isSVGFittingCanvas,n=new FileReader,s=new Image,a=new Promise(((e,r)=>{s.onload=()=>{i.bitmap=s,i.isSvg=!0,e()},n.onload=async()=>{const e=i.svgUrl=n.result;s.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},s.onerror=n.onerror=r}));n.readAsDataURL(e),await a}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(o){console.error(o),i=null}return(0,h.A)(w,this).set(e,i),i&&(0,h.A)(w,this).set(i.id,i),i}r=_;var E=new WeakMap,S=new WeakMap,C=new WeakMap,T=new WeakMap;class k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;(0,l.A)(this,E,[]),(0,l.A)(this,S,!1),(0,l.A)(this,C,void 0),(0,l.A)(this,T,-1),(0,u.A)(C,this,e)}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(i&&t(),(0,h.A)(S,this))return;const l={cmd:t,undo:n,post:r,type:s};if(-1===(0,h.A)(T,this))return(0,h.A)(E,this).length>0&&((0,h.A)(E,this).length=0),(0,u.A)(T,this,0),void(0,h.A)(E,this).push(l);if(a&&(0,h.A)(E,this)[(0,h.A)(T,this)].type===s)return o&&(l.undo=(0,h.A)(E,this)[(0,h.A)(T,this)].undo),void((0,h.A)(E,this)[(0,h.A)(T,this)]=l);const c=(0,h.A)(T,this)+1;c===(0,h.A)(C,this)?(0,h.A)(E,this).splice(0,1):((0,u.A)(T,this,c),c<(0,h.A)(E,this).length&&(0,h.A)(E,this).splice(c)),(0,h.A)(E,this).push(l)}undo(){if(-1===(0,h.A)(T,this))return;(0,u.A)(S,this,!0);const{undo:e,post:t}=(0,h.A)(E,this)[(0,h.A)(T,this)];e(),null===t||void 0===t||t(),(0,u.A)(S,this,!1),(0,u.A)(T,this,(0,h.A)(T,this)-1)}redo(){if((0,h.A)(T,this)<(0,h.A)(E,this).length-1){(0,u.A)(T,this,(0,h.A)(T,this)+1),(0,u.A)(S,this,!0);const{cmd:e,post:t}=(0,h.A)(E,this)[(0,h.A)(T,this)];e(),null===t||void 0===t||t(),(0,u.A)(S,this,!1)}}hasSomethingToUndo(){return-1!==(0,h.A)(T,this)}hasSomethingToRedo(){return(0,h.A)(T,this)<(0,h.A)(E,this).length-1}destroy(){(0,u.A)(E,this,null)}}var I=new WeakSet;class P{constructor(e){(0,o.A)(this,I),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=i.FeatureTest.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get((0,c.A)(I,this,N).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...s,t)(),i||(t.stopPropagation(),t.preventDefault()))}}function N(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class R{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,d.getColorValues)(e),(0,i.shadow)(this,"_colors",e)}convert(e){const t=(0,d.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return R._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?i.Util.makeHexColor(...t):e}}(0,s.A)(R,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var M=new WeakMap,D=new WeakMap,j=new WeakMap,L=new WeakMap,O=new WeakMap,F=new WeakMap,U=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,z=new WeakMap,W=new WeakMap,G=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,se=new WeakMap,ae=new WeakMap,oe=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakMap,fe=new WeakMap,me=new WeakMap,ge=new WeakMap,ve=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap,Ae=new WeakMap,_e=new WeakMap,xe=new WeakMap,Ee=new WeakMap,Se=new WeakSet;class Ce{static get _keyboardManager(){const e=Ce.prototype,t=e=>(0,h.A)(xe,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new P([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&(0,h.A)(xe,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&(0,h.A)(xe,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,s,a,p,f,m){(0,o.A)(this,Se),(0,l.A)(this,M,null),(0,l.A)(this,D,new Map),(0,l.A)(this,j,new Map),(0,l.A)(this,L,null),(0,l.A)(this,O,null),(0,l.A)(this,F,null),(0,l.A)(this,U,new k),(0,l.A)(this,V,0),(0,l.A)(this,B,new Set),(0,l.A)(this,H,null),(0,l.A)(this,z,null),(0,l.A)(this,W,new Set),(0,l.A)(this,G,!1),(0,l.A)(this,q,null),(0,l.A)(this,K,null),(0,l.A)(this,Y,null),(0,l.A)(this,X,!1),(0,l.A)(this,Q,null),(0,l.A)(this,J,new v),(0,l.A)(this,Z,!1),(0,l.A)(this,$,!1),(0,l.A)(this,ee,null),(0,l.A)(this,te,null),(0,l.A)(this,ne,null),(0,l.A)(this,re,i.AnnotationEditorType.NONE),(0,l.A)(this,ie,new Set),(0,l.A)(this,se,null),(0,l.A)(this,ae,null),(0,l.A)(this,oe,null),(0,l.A)(this,le,this.blur.bind(this)),(0,l.A)(this,ce,this.focus.bind(this)),(0,l.A)(this,ue,this.copy.bind(this)),(0,l.A)(this,he,this.cut.bind(this)),(0,l.A)(this,de,this.paste.bind(this)),(0,l.A)(this,pe,this.keydown.bind(this)),(0,l.A)(this,fe,this.keyup.bind(this)),(0,l.A)(this,me,this.onEditingAction.bind(this)),(0,l.A)(this,ge,this.onPageChanging.bind(this)),(0,l.A)(this,ve,this.onScaleChanging.bind(this)),(0,l.A)(this,ye,(0,c.A)(Se,this,Ie).bind(this)),(0,l.A)(this,be,this.onRotationChanging.bind(this)),(0,l.A)(this,we,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),(0,l.A)(this,Ae,[0,0]),(0,l.A)(this,_e,null),(0,l.A)(this,xe,null),(0,l.A)(this,Ee,null),(0,u.A)(xe,this,e),(0,u.A)(Ee,this,t),(0,u.A)(L,this,n),this._eventBus=r,this._eventBus._on("editingaction",(0,h.A)(me,this)),this._eventBus._on("pagechanging",(0,h.A)(ge,this)),this._eventBus._on("scalechanging",(0,h.A)(ve,this)),this._eventBus._on("rotationchanging",(0,h.A)(be,this)),(0,c.A)(Se,this,Ne).call(this),(0,c.A)(Se,this,je).call(this),(0,u.A)(O,this,s.annotationStorage),(0,u.A)(q,this,s.filterFactory),(0,u.A)(ae,this,a),(0,u.A)(Y,this,p||null),(0,u.A)(G,this,f),(0,u.A)(ne,this,m||null),this.viewParameters={realScale:d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var e,t;(0,c.A)(Se,this,Le).call(this),(0,c.A)(Se,this,De).call(this),this._eventBus._off("editingaction",(0,h.A)(me,this)),this._eventBus._off("pagechanging",(0,h.A)(ge,this)),this._eventBus._off("scalechanging",(0,h.A)(ve,this)),this._eventBus._off("rotationchanging",(0,h.A)(be,this));for(const n of(0,h.A)(j,this).values())n.destroy();(0,h.A)(j,this).clear(),(0,h.A)(D,this).clear(),(0,h.A)(W,this).clear(),(0,u.A)(M,this,null),(0,h.A)(ie,this).clear(),(0,h.A)(U,this).destroy(),null===(e=(0,h.A)(L,this))||void 0===e||e.destroy(),null===(t=(0,h.A)(Q,this))||void 0===t||t.hide(),(0,u.A)(Q,this,null),(0,h.A)(K,this)&&(clearTimeout((0,h.A)(K,this)),(0,u.A)(K,this,null)),(0,h.A)(_e,this)&&(clearTimeout((0,h.A)(_e,this)),(0,u.A)(_e,this,null)),(0,c.A)(Se,this,Re).call(this)}async mlGuess(e){var t;return(null===(t=(0,h.A)(ne,this))||void 0===t?void 0:t.guess(e))||null}get hasMLManager(){return!!(0,h.A)(ne,this)}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",(0,h.A)(ae,this)?(0,h.A)(q,this).addHCMFilter((0,h.A)(ae,this).foreground,(0,h.A)(ae,this).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle((0,h.A)(xe,this)).direction)}get highlightColors(){return(0,i.shadow)(this,"highlightColors",(0,h.A)(Y,this)?new Map((0,h.A)(Y,this).split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return(0,i.shadow)(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){(0,u.A)(te,this,e)}editAltText(e){var t;null===(t=(0,h.A)(L,this))||void 0===t||t.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;(0,u.A)(V,this,t-1)}focusMainContainer(){(0,h.A)(xe,this).focus()}findParent(e,t){for(const n of(0,h.A)(j,this).values()){const{x:r,y:i,width:s,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+s&&t>=i&&t<=i+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,h.A)(Ee,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){(0,h.A)(W,this).add(e)}removeShouldRescale(e){(0,h.A)(W,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*d.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of(0,h.A)(W,this))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}=t,o=t.toString(),l=(0,c.A)(Se,this,Te).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(l);if(u){t.empty(),(0,h.A)(re,this)===i.AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:i.AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const t of(0,h.A)(j,this).values())if(t.hasTextLayer(l)){t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){e.isEmpty()||!(0,h.A)(O,this)||(0,h.A)(O,this).has(e.id)||(0,h.A)(O,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,(0,h.A)(X,this)&&((0,u.A)(X,this,!1),(0,c.A)(Se,this,Pe).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of(0,h.A)(ie,this))if(t.div.contains(e)){(0,u.A)(ee,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!(0,h.A)(ee,this))return;const[e,t]=(0,h.A)(ee,this);(0,u.A)(ee,this,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus()}addEditListeners(){(0,c.A)(Se,this,je).call(this),(0,c.A)(Se,this,Oe).call(this)}removeEditListeners(){(0,c.A)(Se,this,Le).call(this),(0,c.A)(Se,this,Fe).call(this)}copy(e){var t;if(e.preventDefault(),null===(t=(0,h.A)(M,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of(0,h.A)(ie,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const e of(0,h.A)(z,this))if(e.isHandlingMimeForPasting(i.type))return void e.paste(i,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void(0,i.warn)('paste: "'.concat(s.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const s of n){const t=r.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)(0,c.A)(Se,this,ze).call(this,t);(0,c.A)(Se,this,qe).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(s){(0,i.warn)('paste: "'.concat(s.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),(0,h.A)(re,this)===i.AnnotationEditorType.NONE||this.isEditorHandlingKeyboard||Ce._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,(0,h.A)(X,this)&&((0,u.A)(X,this,!1),(0,c.A)(Se,this,Pe).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?((0,c.A)(Se,this,Me).call(this),(0,c.A)(Se,this,Oe).call(this),(0,c.A)(Se,this,Ue).call(this,{isEditing:(0,h.A)(re,this)!==i.AnnotationEditorType.NONE,isEmpty:(0,c.A)(Se,this,Ge).call(this),hasSomethingToUndo:(0,h.A)(U,this).hasSomethingToUndo(),hasSomethingToRedo:(0,h.A)(U,this).hasSomethingToRedo(),hasSelectedEditor:!1})):((0,c.A)(Se,this,De).call(this),(0,c.A)(Se,this,Fe).call(this),(0,c.A)(Se,this,Ue).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!(0,h.A)(z,this)){(0,u.A)(z,this,e);for(const e of(0,h.A)(z,this))(0,c.A)(Se,this,Ve).call(this,e.defaultPropertiesToUpdate)}}getId(){return(0,h.A)(J,this).id}get currentLayer(){return(0,h.A)(j,this).get((0,h.A)(V,this))}getLayer(e){return(0,h.A)(j,this).get(e)}get currentPageIndex(){return(0,h.A)(V,this)}addLayer(e){(0,h.A)(j,this).set(e.pageIndex,e),(0,h.A)(Z,this)?e.enable():e.disable()}removeLayer(e){(0,h.A)(j,this).delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,h.A)(re,this)!==e){if((0,u.A)(re,this,e),e===i.AnnotationEditorType.NONE)return this.setEditingState(!1),void(0,c.A)(Se,this,He).call(this);this.setEditingState(!0),(0,c.A)(Se,this,Be).call(this),this.unselectAll();for(const t of(0,h.A)(j,this).values())t.updateMode(e);if(t||!n){if(t)for(const e of(0,h.A)(D,this).values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==(0,h.A)(re,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if((0,h.A)(z,this)){switch(e){case i.AnnotationEditorParamsType.CREATE:return void this.currentLayer.addNewEditor();case i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:null===(n=(0,h.A)(te,this))||void 0===n||n.updateColor(t);break;case i.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),((0,h.A)(oe,this)||(0,u.A)(oe,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of(0,h.A)(ie,this))n.updateParams(e,t);for(const n of(0,h.A)(z,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,r;for(const i of(0,h.A)(D,this).values())i.editorType===e&&i.show(t);(null===(n=null===(r=(0,h.A)(oe,this))||void 0===r?void 0:r.get(i.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&(0,c.A)(Se,this,Ve).call(this,[[i.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,h.A)($,this)!==e){(0,u.A)($,this,e);for(const t of(0,h.A)(j,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of(0,h.A)(D,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return(0,h.A)(D,this).get(e)}addEditor(e){(0,h.A)(D,this).set(e.id,e)}removeEditor(e){var t;(e.div.contains(document.activeElement)&&((0,h.A)(K,this)&&clearTimeout((0,h.A)(K,this)),(0,u.A)(K,this,setTimeout((()=>{this.focusMainContainer(),(0,u.A)(K,this,null)}),0))),(0,h.A)(D,this).delete(e.id),this.unselect(e),e.annotationElementId&&(0,h.A)(B,this).has(e.annotationElementId))||(null===(t=(0,h.A)(O,this))||void 0===t||t.remove(e.id))}addDeletedAnnotationElement(e){(0,h.A)(B,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return(0,h.A)(B,this).has(e)}removeDeletedAnnotationElement(e){(0,h.A)(B,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){(0,h.A)(M,this)!==e&&((0,u.A)(M,this,e),e&&(0,c.A)(Se,this,Ve).call(this,e.propertiesToUpdate))}updateUI(e){(0,a.A)(Se,this,We)===e&&(0,c.A)(Se,this,Ve).call(this,e.propertiesToUpdate)}toggleSelected(e){if((0,h.A)(ie,this).has(e))return(0,h.A)(ie,this).delete(e),e.unselect(),void(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:this.hasSelection});(0,h.A)(ie,this).add(e),e.select(),(0,c.A)(Se,this,Ve).call(this,e.propertiesToUpdate),(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of(0,h.A)(ie,this))t!==e&&t.unselect();(0,h.A)(ie,this).clear(),(0,h.A)(ie,this).add(e),e.select(),(0,c.A)(Se,this,Ve).call(this,e.propertiesToUpdate),(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:!0})}isSelected(e){return(0,h.A)(ie,this).has(e)}get firstSelectedEditor(){return(0,h.A)(ie,this).values().next().value}unselect(e){e.unselect(),(0,h.A)(ie,this).delete(e),(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==(0,h.A)(ie,this).size}get isEnterHandled(){return 1===(0,h.A)(ie,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){(0,h.A)(U,this).undo(),(0,c.A)(Se,this,Ue).call(this,{hasSomethingToUndo:(0,h.A)(U,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:(0,c.A)(Se,this,Ge).call(this)})}redo(){(0,h.A)(U,this).redo(),(0,c.A)(Se,this,Ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:(0,h.A)(U,this).hasSomethingToRedo(),isEmpty:(0,c.A)(Se,this,Ge).call(this)})}addCommands(e){(0,h.A)(U,this).add(e),(0,c.A)(Se,this,Ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:(0,c.A)(Se,this,Ge).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...(0,h.A)(ie,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)(0,c.A)(Se,this,ze).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=(0,h.A)(M,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return(0,h.A)(M,this)||this.hasSelection}selectAll(){for(const e of(0,h.A)(ie,this))e.commit();(0,c.A)(Se,this,qe).call(this,(0,h.A)(D,this).values())}unselectAll(){if((!(0,h.A)(M,this)||((0,h.A)(M,this).commitOrRemove(),(0,h.A)(re,this)===i.AnnotationEditorType.NONE))&&this.hasSelection){for(const e of(0,h.A)(ie,this))e.unselect();(0,h.A)(ie,this).clear(),(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;(0,h.A)(Ae,this)[0]+=e,(0,h.A)(Ae,this)[1]+=t;const[n,r]=(0,h.A)(Ae,this),i=[...(0,h.A)(ie,this)];(0,h.A)(_e,this)&&clearTimeout((0,h.A)(_e,this)),(0,u.A)(_e,this,setTimeout((()=>{(0,u.A)(_e,this,null),(0,h.A)(Ae,this)[0]=(0,h.A)(Ae,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)(0,h.A)(D,this).has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)(0,h.A)(D,this).has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3));for(const s of i)s.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),(0,u.A)(H,this,new Map);for(const e of(0,h.A)(ie,this))(0,h.A)(H,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!(0,h.A)(H,this))return!1;this.disableUserSelect(!1);const e=(0,h.A)(H,this);(0,u.A)(H,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:s},a]of e)a.newX=r,a.newY=i,a.newPageIndex=s,t||(t=r!==a.savedX||i!==a.savedY||s!==a.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if((0,h.A)(D,this).has(e.id)){const i=(0,h.A)(j,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:s}]of e)n(t,r,i,s)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:s}]of e)n(t,r,i,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if((0,h.A)(H,this))for(const n of(0,h.A)(H,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===(0,h.A)(ie,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return(0,h.A)(M,this)===e}getActive(){return(0,h.A)(M,this)}getMode(){return(0,h.A)(re,this)}get imageManager(){return(0,i.shadow)(this,"imageManager",new _)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-r)/s,y:1-(e+a-n)/i,width:o/s,height:a/i});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/i,y:1-(t+o-r)/s,width:a/i,height:o/s});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-r)/s,y:(e-n)/i,width:o/s,height:a/i});break;default:a=(e,t,a,o)=>({x:(e-n)/i,y:(t-r)/s,width:a/i,height:o/s})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(a(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;((0,h.A)(F,this)||(0,u.A)(F,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=(0,h.A)(F,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=(0,h.A)(F,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const r=(0,h.A)(O,this).getRawValue(n);r&&((0,h.A)(re,this)!==i.AnnotationEditorType.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}}function Te(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function ke(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=(0,c.A)(Se,this,Te).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&((0,h.A)(Q,this)||(0,u.A)(Q,this,new p.HighlightToolbar(this)),(0,h.A)(Q,this).show(t,n,"ltr"===this.direction))}function Ie(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if((0,h.A)(se,this))null===(n=(0,h.A)(Q,this))||void 0===n||n.hide(),(0,u.A)(se,this,null),(0,c.A)(Se,this,Ue).call(this,{hasSelectedText:!1});return}const{anchorNode:r}=t;if(r===(0,h.A)(se,this))return;var s;if((0,c.A)(Se,this,Te).call(this,t).closest(".textLayer")){if(null===(e=(0,h.A)(Q,this))||void 0===e||e.hide(),(0,u.A)(se,this,r),(0,c.A)(Se,this,Ue).call(this,{hasSelectedText:!0}),((0,h.A)(re,this)===i.AnnotationEditorType.HIGHLIGHT||(0,h.A)(re,this)===i.AnnotationEditorType.NONE)&&((0,h.A)(re,this)===i.AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),(0,u.A)(X,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=t=>{"pointerup"===t.type&&0!==t.button||(window.removeEventListener("pointerup",e),window.removeEventListener("blur",e),"pointerup"===t.type&&(0,c.A)(Se,this,Pe).call(this,"main_toolbar"))};window.addEventListener("pointerup",e),window.addEventListener("blur",e)}}else(0,h.A)(se,this)&&(null===(s=(0,h.A)(Q,this))||void 0===s||s.hide(),(0,u.A)(se,this,null),(0,c.A)(Se,this,Ue).call(this,{hasSelectedText:!1}))}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,h.A)(re,this)===i.AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):(0,h.A)(G,this)&&(0,c.A)(Se,this,ke).call(this)}function Ne(){document.addEventListener("selectionchange",(0,h.A)(ye,this))}function Re(){document.removeEventListener("selectionchange",(0,h.A)(ye,this))}function Me(){window.addEventListener("focus",(0,h.A)(ce,this)),window.addEventListener("blur",(0,h.A)(le,this))}function De(){window.removeEventListener("focus",(0,h.A)(ce,this)),window.removeEventListener("blur",(0,h.A)(le,this))}function je(){window.addEventListener("keydown",(0,h.A)(pe,this)),window.addEventListener("keyup",(0,h.A)(fe,this))}function Le(){window.removeEventListener("keydown",(0,h.A)(pe,this)),window.removeEventListener("keyup",(0,h.A)(fe,this))}function Oe(){document.addEventListener("copy",(0,h.A)(ue,this)),document.addEventListener("cut",(0,h.A)(he,this)),document.addEventListener("paste",(0,h.A)(de,this))}function Fe(){document.removeEventListener("copy",(0,h.A)(ue,this)),document.removeEventListener("cut",(0,h.A)(he,this)),document.removeEventListener("paste",(0,h.A)(de,this))}function Ue(e){Object.entries(e).some((e=>{let[t,n]=e;return(0,h.A)(we,this)[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign((0,h.A)(we,this),e)}),(0,h.A)(re,this)===i.AnnotationEditorType.HIGHLIGHT&&!1===e.hasSelectedEditor&&(0,c.A)(Se,this,Ve).call(this,[[i.AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))}function Ve(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function Be(){if(!(0,h.A)(Z,this)){(0,u.A)(Z,this,!0);for(const e of(0,h.A)(j,this).values())e.enable();for(const e of(0,h.A)(D,this).values())e.enable()}}function He(){if(this.unselectAll(),(0,h.A)(Z,this)){(0,u.A)(Z,this,!1);for(const e of(0,h.A)(j,this).values())e.disable();for(const e of(0,h.A)(D,this).values())e.disable()}}function ze(e){const t=(0,h.A)(j,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function We(e){let t=null;for(t of(0,h.A)(ie,e));return t}function Ge(){if(0===(0,h.A)(D,this).size)return!0;if(1===(0,h.A)(D,this).size)for(const e of(0,h.A)(D,this).values())return e.isEmpty();return!1}function qe(e){for(const t of(0,h.A)(ie,this))t.unselect();(0,h.A)(ie,this).clear();for(const t of e)t.isEmpty()||((0,h.A)(ie,this).add(t),t.select());(0,c.A)(Se,this,Ue).call(this,{hasSelectedEditor:this.hasSelection})}(0,s.A)(Ce,"TRANSLATE_SMALL",1),(0,s.A)(Ce,"TRANSLATE_BIG",10)},94:(e,t,n)=>{n.d(t,{PDFFetchStream:()=>l});var r=n(292),i=n(490);function s(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class l{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new u(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class c{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const n=t.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class u{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(n-1));const o=r.url;fetch(o,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,o);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}},10:(e,t,n)=>{n.d(t,{FontFaceObject:()=>a,FontLoader:()=>s});var r=n(292),i=new WeakMap;class s{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;(0,l.A)(this,i,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),(0,h.A)(i,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!(0,h.A)(i,this).has(t.loadedName))if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:s,style:a}=t,o=new FontFace(e,s,a);this.addNativeFontFace(o);try{await o.load(),(0,h.A)(i,this).add(e),null===n||void 0===n||n(t)}catch{(0,r.warn)("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(o)}}else(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,r.warn)("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){var e;let t=!1;return(r.isNodeJS||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const u="lt".concat(Date.now()).concat(this.loadTestFontId++);let h=this._loadTestFont;h=i(h,976,u.length,u);const d=1482184792;let p=n(h,16);for(s=0,a=u.length-3;s<a;s+=4)p=p-d+n(u,s)|0;s<u.length&&(p=p-d+n(u+"XXX",s)|0),h=i(h,16,4,(0,r.string32)(p));const f="url(data:font/opentype;base64,".concat(btoa(h),");"),m='@font-face {font-family:"'.concat(u,'";src:').concat(f,"}");this.insertRule(m);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const r of[e.loadedName,u]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,g.append(e)}this._document.body.append(g),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,(()=>{g.remove(),t.complete()}))}}class a{constructor(e,t){let{disableFontFace:n=!1,ignoreErrors:r=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let i;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),i='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(n,"}")}else i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,n),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){if(!this.ignoreErrors)throw s;(0,r.warn)('getPathGenerator - ignoring character: "'.concat(s,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let a=0,o=n.length;a<o;)switch(n[a++]){case r.FontRenderOps.BEZIER_CURVE_TO:{const[e,t,r,s,o,l]=n.slice(a,a+6);i.push((n=>n.bezierCurveTo(e,t,r,s,o,l))),a+=6}break;case r.FontRenderOps.MOVE_TO:{const[e,t]=n.slice(a,a+2);i.push((n=>n.moveTo(e,t))),a+=2}break;case r.FontRenderOps.LINE_TO:{const[e,t]=n.slice(a,a+2);i.push((n=>n.lineTo(e,t))),a+=2}break;case r.FontRenderOps.QUADRATIC_CURVE_TO:{const[e,t,r,s]=n.slice(a,a+4);i.push((n=>n.quadraticCurveTo(e,t,r,s))),a+=4}break;case r.FontRenderOps.RESTORE:i.push((e=>e.restore()));break;case r.FontRenderOps.SAVE:i.push((e=>e.save()));break;case r.FontRenderOps.SCALE:(0,r.assert)(2===i.length,"Scale command is only valid at the third position.");break;case r.FontRenderOps.TRANSFORM:{const[e,t,r,s,o,l]=n.slice(a,a+6);i.push((n=>n.transform(e,t,r,s,o,l))),a+=6}break;case r.FontRenderOps.TRANSLATE:{const[e,t]=n.slice(a,a+2);i.push((n=>n.translate(e,t))),a+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let n=2,r=i.length;n<r;n++)i[n](e)}}}},62:(e,t,n)=>{n.d(t,{Metadata:()=>a});var r=n(292),i=new WeakMap,s=new WeakMap;class a{constructor(e){let{parsedData:t,rawData:n}=e;(0,l.A)(this,i,void 0),(0,l.A)(this,s,void 0),(0,u.A)(i,this,t),(0,u.A)(s,this,n)}getRaw(){return(0,h.A)(s,this)}get(e){var t;return null!==(t=(0,h.A)(i,this).get(e))&&void 0!==t?t:null}getAll(){return(0,r.objectFromMap)((0,h.A)(i,this))}has(e){return(0,h.A)(i,this).has(e)}}},457:(e,t,n)=>{n.d(t,{PDFNetworkStream:()=>a});var r=n(292),i=n(490);class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;var s;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(null===(s=n.onError)||void 0===s||s.call(n,i.status));const a=i.status||200;var o;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void(null===(o=n.onError)||void 0===o||o.call(n,i.status));const l=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===a){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:l})}else if(l)n.onDone({begin:0,chunk:l});else{var c;null===(c=n.onError)||void 0===c||c.call(n,i.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class a{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new l(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class o{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},490:(e,t,n)=>{n.d(t,{createResponseStatusError:()=>o,extractFilenameFromHeader:()=>a,validateRangeRequestCapabilities:()=>s,validateResponseStatus:()=>l});var r=n(292);var i=n(419);function s(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);if(!Number.isInteger(a))return s;if(s.suggestedLength=a,a<=2*r)return s;if(i||!n)return s;if("bytes"!==t("Accept-Ranges"))return s;return"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function a(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const s=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=o(n),e&&(n=unescape(n),0===i&&(n=l(n))),s.push(n)}return s.join("")}(e),n)return a(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=(0,r.stringToBytes)(n);n=i.decode(s),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch{}return s(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,i.isPdfFile)(e))return e}return null}function o(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function l(e){return 200===e||206===e}},786:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{PDFNodeStream:()=>p});var i=n(292),s=n(490);let o,l,c,u;i.isNodeJS&&(o=await import("fs"),l=await import("http"),c=await import("https"),u=await import("url"));const h=/^file:\/\/\/[a-zA-Z]:\//;function d(e){const t=u.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?u.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}class p{constructor(e){this.source=e,this.url=d(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new v(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new w(this,e,t):new y(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class f{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class m{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class v extends f{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=l.request(g(this._url,e.httpHeaders),t):this._request=c.request(g(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class y extends m{constructor(e,t,n){super(e),this._httpHeaders={};for(const i in e.httpHeaders){const t=e.httpHeaders[i];void 0!==t&&(this._httpHeaders[i]=t)}this._httpHeaders.Range="bytes=".concat(t,"-").concat(n-1);const r=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=l.request(g(this._url,this._httpHeaders),r):this._request=c.request(g(this._url,this._httpHeaders),r),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class b extends f{constructor(e){super(e);let t=decodeURIComponent(this._url.path);h.test(this._url.href)&&(t=t.replace(/^\//,"")),o.promises.lstat(t).then((e=>{this._contentLength=e.size,this._setReadableStream(o.createReadStream(t)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new i.MissingPDFException('Missing PDF "'.concat(t,'".'))),this._storedError=e,this._headersCapability.reject(e)}))}}class w extends m{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);h.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(o.createReadStream(r,{start:t,end:n-1}))}}r()}catch(a){r(a)}}),1)},573:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{NodeCMapReaderFactory:()=>u,NodeCanvasFactory:()=>c,NodeFilterFactory:()=>l,NodeStandardFontDataFactory:()=>h});var i=n(583);let e,s,a;if(n(292).isNodeJS){e=await import("fs");try{s=await import("canvas")}catch{}try{a=await import("path2d")}catch{}}const o=function(t){return e.promises.readFile(t).then((e=>new Uint8Array(e)))};class l extends i.BaseFilterFactory{}class c extends i.BaseCanvasFactory{_createCanvas(e,t){return s.createCanvas(e,t)}}class u extends i.BaseCMapReaderFactory{_fetchData(e,t){return o(e).then((e=>({cMapData:e,compressionType:t})))}}class h extends i.BaseStandardFontDataFactory{_fetchData(e){return o(e)}}r()}catch(s){r(s)}}),1)},626:(e,t,n)=>{n.d(t,{OptionalContentConfig:()=>A});var r=n(292),i=n(651);const s=Symbol("INTERNAL");var a=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap;class m{constructor(e,t){let{name:n,intent:i,usage:s}=t;(0,l.A)(this,a,!1),(0,l.A)(this,d,!1),(0,l.A)(this,p,!1),(0,l.A)(this,f,!0),(0,u.A)(a,this,!!(e&r.RenderingIntentFlag.DISPLAY)),(0,u.A)(d,this,!!(e&r.RenderingIntentFlag.PRINT)),this.name=n,this.intent=i,this.usage=s}get visible(){if((0,h.A)(p,this))return(0,h.A)(f,this);if(!(0,h.A)(f,this))return!1;const{print:e,view:t}=this.usage;return(0,h.A)(a,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!(0,h.A)(d,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==s&&(0,r.unreachable)("Internal method `_setVisible` called."),(0,u.A)(p,this,n),(0,u.A)(f,this,t)}}var g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakSet;class A{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.RenderingIntentFlag.DISPLAY;if((0,o.A)(this,w),(0,l.A)(this,g,null),(0,l.A)(this,v,new Map),(0,l.A)(this,y,null),(0,l.A)(this,b,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,(0,u.A)(b,this,e.order);for(const n of e.groups)(0,h.A)(v,this).set(n.id,new m(t,n));if("OFF"===e.baseState)for(const e of(0,h.A)(v,this).values())e._setVisible(s,!1);for(const t of e.on)(0,h.A)(v,this).get(t)._setVisible(s,!0);for(const t of e.off)(0,h.A)(v,this).get(t)._setVisible(s,!1);(0,u.A)(y,this,this.getHash())}}isVisible(e){if(0===(0,h.A)(v,this).size)return!0;if(!e)return(0,r.info)("Optional content group not defined."),!0;if("OCG"===e.type)return(0,h.A)(v,this).has(e.id)?(0,h.A)(v,this).get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return(0,c.A)(w,this,_).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!(0,h.A)(v,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if((0,h.A)(v,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!(0,h.A)(v,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!(0,h.A)(v,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!(0,h.A)(v,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!(0,h.A)(v,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!(0,h.A)(v,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if((0,h.A)(v,this).get(t).visible)return!1}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,h.A)(v,this).get(e);n?(n._setVisible(s,!!t,!0),(0,u.A)(g,this,null)):(0,r.warn)("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=(0,h.A)(v,this).get(i);if(e)switch(t){case"ON":e._setVisible(s,!0);break;case"OFF":e._setVisible(s,!1);break;case"Toggle":e._setVisible(s,!e.visible)}}(0,u.A)(g,this,null)}get hasInitialVisibility(){return null===(0,h.A)(y,this)||this.getHash()===(0,h.A)(y,this)}getOrder(){return(0,h.A)(v,this).size?(0,h.A)(b,this)?(0,h.A)(b,this).slice():[...(0,h.A)(v,this).keys()]:null}getGroups(){return(0,h.A)(v,this).size>0?(0,r.objectFromMap)((0,h.A)(v,this)):null}getGroup(e){return(0,h.A)(v,this).get(e)||null}getHash(){if(null!==(0,h.A)(g,this))return(0,h.A)(g,this);const e=new i.MurmurHash3_64;for(const[t,n]of(0,h.A)(v,this))e.update("".concat(t,":").concat(n.visible));return(0,u.A)(g,this,e.hexdigest())}}function _(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=(0,c.A)(w,this,_).call(this,t);else{if(!(0,h.A)(v,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;s=(0,h.A)(v,this).get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}},814:(e,t,n)=>{n.d(t,{cleanupTextLayer:()=>u,renderTextLayer:()=>f,updateTextLayer:()=>m});var r=n(292),i=n(419);const s=30,a=.8,o=new Map;let l=null;function c(){if(!l){const e=document.createElement("canvas");e.className="hiddenCanvasElement",document.body.append(e),l=e.getContext("2d",{alpha:!1})}return l}function u(){var e;null===(e=l)||void 0===e||e.canvas.remove(),l=null}function h(e,t,n){const i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const u=r.Util.transform(e._transform,t.transform);let h=Math.atan2(u[1],u[0]);const d=n[t.fontName];d.vertical&&(h+=Math.PI/2);const p=e._fontInspectorEnabled&&d.fontSubstitution||d.fontFamily,f=Math.hypot(u[2],u[3]),m=f*function(e){const t=o.get(e);if(t)return t;const n=c(),r=n.font;n.canvas.width=n.canvas.height=s,n.font="".concat(s,"px ").concat(e);const i=n.measureText("");let l=i.fontBoundingBoxAscent,u=Math.abs(i.fontBoundingBoxDescent);if(l){const t=l/(l+u);return o.set(e,t),n.canvas.width=n.canvas.height=0,n.font=r,t}n.strokeStyle="red",n.clearRect(0,0,s,s),n.strokeText("g",0,0);let h=n.getImageData(0,0,s,s).data;u=0;for(let a=h.length-1-3;a>=0;a-=4)if(h[a]>0){u=Math.ceil(a/4/s);break}n.clearRect(0,0,s,s),n.strokeText("A",0,s),h=n.getImageData(0,0,s,s).data,l=0;for(let a=0,o=h.length;a<o;a+=4)if(h[a]>0){l=s-Math.floor(a/4/s);break}if(n.canvas.width=n.canvas.height=0,n.font=r,l){const t=l/(l+u);return o.set(e,t),t}return o.set(e,a),a}(p);let g,v;0===h?(g=u[4],v=u[5]-m):(g=u[4]+m*Math.sin(h),v=u[5]-m*Math.cos(h));const y="calc(var(--scale-factor)*",b=i.style;e._container===e._rootContainer?(b.left="".concat((100*g/e._pageWidth).toFixed(2),"%"),b.top="".concat((100*v/e._pageHeight).toFixed(2),"%")):(b.left="".concat(y).concat(g.toFixed(2),"px)"),b.top="".concat(y).concat(v.toFixed(2),"px)")),b.fontSize="".concat(y).concat(f.toFixed(2),"px)"),b.fontFamily=p,l.fontSize=f,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=d.fontSubstitutionLoadedName||t.fontName),0!==h&&(l.angle=h*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(w=!0)}w&&(l.canvasWidth=d.vertical?t.height:t.width),e._textDivProperties.set(i,l),e._isReadableStream&&e._layoutText(i)}function d(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:u,fontSize:h}=r;s===h&&a===c||(i.font="".concat(h*n,"px ").concat(c),e.prevFontSize=h,e.prevFontFamily=c);const{width:d}=i.measureText(t.textContent);d>0&&(l="scaleX(".concat(u*n/d,")"))}0!==r.angle&&(l="rotate(".concat(r.angle,"deg) ").concat(l)),l.length>0&&(o.transform=l)}class p{constructor(e){var t;let{textContentSource:n,container:r,viewport:s,textDivs:a,textDivProperties:o,textContentItemsStr:l}=e;this._textContentSource=n,this._isReadableStream=n instanceof ReadableStream,this._container=this._rootContainer=r,this._textDivs=a||[],this._textContentItemsStr=l||[],this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._textDivProperties=o||new WeakMap,this._canceled=!1,this._capability=Promise.withResolvers(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:c()};const{pageWidth:u,pageHeight:h,pageX:d,pageY:p}=s.rawDims;this._transform=[1,0,0,-1,-d,p+h],this._pageWidth=u,this._pageHeight=h,(0,i.setLayerDimensions)(r,s),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),h(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id","".concat(n.id)),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,d(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const{promise:e,resolve:t,reject:n}=Promise.withResolvers();let r=Object.create(null);if(this._isReadableStream){const e=()=>{this._reader.read().then((n=>{let{value:i,done:s}=n;s?t():(Object.assign(r,i.styles),this._processItems(i.items,r),e())}),n)};this._reader=this._textContentSource.getReader(),e()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:e,styles:n}=this._textContentSource;this._processItems(e,n),t()}}e.then((()=>{r=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}function f(e){const t=new p(e);return t._render(),t}function m(e){let{container:t,viewport:n,textDivs:r,textDivProperties:s,mustRotate:a=!0,mustRescale:o=!0}=e;if(a&&(0,i.setLayerDimensions)(t,{rotation:n.rotation}),o){const e=c(),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=s.get(n),t.div=n,d(t)}}},585:(e,t,n)=>{n.d(t,{PDFDataTransportStream:()=>s});var r=n(292),i=n(419);class s{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;(0,r.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(null===a||void 0===a?void 0:a.length)>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new o(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},164:(e,t,n)=>{n.d(t,{GlobalWorkerOptions:()=>r});class r{static get workerPort(){return(0,c.A)(r,this,i)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");i._=(0,c.A)(r,this,e)}static get workerSrc(){return(0,c.A)(r,this,s)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");s._=(0,c.A)(r,this,e)}}var i={_:null},s={_:""}},284:(e,t,n)=>{n.d(t,{XfaLayer:()=>i});var r=n(50);class i{static setupStorage(e,t,n,r,i){const s=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(i));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(t,a.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o="richText"!==s,l=e.div;if(l.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=t}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);a.append(e),o&&r.XfaText.shouldBuildText(i.name)&&c.push(e)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){var h,d;const[e,i,a]=u.at(-1);if(i+1===e.children.length){u.pop();continue}const l=e.children[++u.at(-1)[1]];if(null===l)continue;const{name:p}=l;if("#text"===p){const e=document.createTextNode(l.value);c.push(e),a.append(e);continue}const f=null!==l&&void 0!==l&&null!==(h=l.attributes)&&void 0!==h&&h.xmlns?document.createElementNS(l.attributes.xmlns,p):document.createElement(p);if(a.append(f),l.attributes&&this.setAttributes({html:f,element:l,storage:t,intent:s,linkService:n}),(null===(d=l.children)||void 0===d?void 0:d.length)>0)u.push([l,-1,f]);else if(l.value){const e=document.createTextNode(l.value);o&&r.XfaText.shouldBuildText(p)&&c.push(e),f.append(e)}}for(const r of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}},50:(e,t,n)=>{n.d(t,{XfaText:()=>r});class r{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var i;if(!n)return;let s=null;const a=n.name;if("#text"===a)s=n.value;else{if(!r.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?s=n.attributes.textContent:n.value&&(s=n.value)}if(null!==s&&t.push({str:s}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}},228:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{AbortException:()=>i.AbortException,AnnotationEditorLayer:()=>l.AnnotationEditorLayer,AnnotationEditorParamsType:()=>i.AnnotationEditorParamsType,AnnotationEditorType:()=>i.AnnotationEditorType,AnnotationEditorUIManager:()=>c.AnnotationEditorUIManager,AnnotationLayer:()=>u.AnnotationLayer,AnnotationMode:()=>i.AnnotationMode,CMapCompressionType:()=>i.CMapCompressionType,ColorPicker:()=>h.ColorPicker,DOMSVGFactory:()=>a.DOMSVGFactory,DrawLayer:()=>d.DrawLayer,FeatureTest:()=>i.FeatureTest,GlobalWorkerOptions:()=>p.GlobalWorkerOptions,ImageKind:()=>i.ImageKind,InvalidPDFException:()=>i.InvalidPDFException,MissingPDFException:()=>i.MissingPDFException,OPS:()=>i.OPS,Outliner:()=>f.Outliner,PDFDataRangeTransport:()=>s.PDFDataRangeTransport,PDFDateString:()=>a.PDFDateString,PDFWorker:()=>s.PDFWorker,PasswordResponses:()=>i.PasswordResponses,PermissionFlag:()=>i.PermissionFlag,PixelsPerInch:()=>a.PixelsPerInch,RenderingCancelledException:()=>a.RenderingCancelledException,UnexpectedResponseException:()=>i.UnexpectedResponseException,Util:()=>i.Util,VerbosityLevel:()=>i.VerbosityLevel,XfaLayer:()=>m.XfaLayer,build:()=>s.build,createValidAbsoluteUrl:()=>i.createValidAbsoluteUrl,fetchData:()=>a.fetchData,getDocument:()=>s.getDocument,getFilenameFromUrl:()=>a.getFilenameFromUrl,getPdfFilenameFromUrl:()=>a.getPdfFilenameFromUrl,getXfaPageViewport:()=>a.getXfaPageViewport,isDataScheme:()=>a.isDataScheme,isPdfFile:()=>a.isPdfFile,noContextMenu:()=>a.noContextMenu,normalizeUnicode:()=>i.normalizeUnicode,renderTextLayer:()=>o.renderTextLayer,setLayerDimensions:()=>a.setLayerDimensions,shadow:()=>i.shadow,updateTextLayer:()=>o.updateTextLayer,version:()=>s.version});var i=n(292),s=n(831),a=n(419),o=n(814),l=n(731),c=n(830),u=n(976),h=n(259),d=n(47),p=n(164),f=n(61),m=n(284),g=e([s]);s=(g.then?(await g)():g)[0];r()}catch(v){r(v)}}))},178:(e,t,n)=>{n.d(t,{MessageHandler:()=>y});var r=n(292);const i=1,s=2,a=1,l=2,u=3,h=4,d=5,p=6,f=7,m=8;function g(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var v=new WeakSet;class y{constructor(e,t,n){(0,o.A)(this,v),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void(0,c.A)(v,this,w).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==s)throw new Error("Unexpected callback case");n.reject(g(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,a=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:a,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:a,callback:s,callbackId:t.callbackId,reason:g(r)})}))}else t.streamId?(0,c.A)(v,this,b).call(this,t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,t,n,i){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const r=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:r,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),r.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:p,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:s,reason:g(e)}),t.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}function b(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:u,streamId:t}),delete a.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:g(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise((function(t){t(o(e.data,l))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:m,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:m,streamId:t,reason:g(e)})}))}function w(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],y=this.streamSinks[t];switch(e.stream){case m:e.success?o.startCall.resolve():o.startCall.reject(g(e.reason));break;case f:e.success?o.pullCall.resolve():o.pullCall.reject(g(e.reason));break;case p:if(!y){s.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0});break}y.desiredSize<=0&&e.desiredSize>0&&y.sinkCapability.resolve(),y.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=y.onPull)||void 0===t?void 0:t.call(y))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,reason:g(e)})}));break;case h:if((0,r.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case u:if((0,r.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),(0,c.A)(v,this,A).call(this,o,t);break;case d:(0,r.assert)(o,"error should have stream controller"),o.controller.error(g(e.reason)),(0,c.A)(v,this,A).call(this,o,t);break;case l:e.success?o.cancelCall.resolve():o.cancelCall.reject(g(e.reason)),(0,c.A)(v,this,A).call(this,o,t);break;case a:if(!y)break;new Promise((function(t){var n;t(null===(n=y.onCancel)||void 0===n?void 0:n.call(y,g(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:l,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:l,streamId:t,reason:g(e)})})),y.sinkCapability.reject(g(e.reason)),y.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function A(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}},651:(e,t,n)=>{n.d(t,{MurmurHash3_64:()=>a});const r=3285377520,i=4294901760,s=65535;class a{constructor(e){this.h1=e?4294967295&e:r,this.h2=e?4294967295&e:r}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,a=n-4*r,o=new Uint32Array(t.buffer,0,r);let l=0,c=0,u=this.h1,h=this.h2;const d=3432918353,p=461845907,f=11601,m=13715;for(let g=0;g<r;g++)1&g?(l=o[g],l=l*d&i|l*f&s,l=l<<15|l>>>17,l=l*p&i|l*m&s,u^=l,u=u<<13|u>>>19,u=5*u+3864292196):(c=o[g],c=c*d&i|c*f&s,c=c<<15|c>>>17,c=c*p&i|c*m&s,h^=c,h=h<<13|h>>>19,h=5*h+3864292196);switch(l=0,a){case 3:l^=t[4*r+2]<<16;case 2:l^=t[4*r+1]<<8;case 1:l^=t[4*r],l=l*d&i|l*f&s,l=l<<15|l>>>17,l=l*p&i|l*m&s,1&r?u^=l:h^=l}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&i|36045*e&s,t=4283543511*t&i|(2950163797*(t<<16|e>>>16)&i)>>>16,e^=t>>>1,e=444984403*e&i|60499*e&s,t=3301882366*t&i|(3120437893*(t<<16|e>>>16)&i)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},292:(e,t,n)=>{var r;n.d(t,{AbortException:()=>V,AnnotationBorderStyleType:()=>b,AnnotationEditorParamsType:()=>f,AnnotationEditorPrefix:()=>d,AnnotationEditorType:()=>p,AnnotationMode:()=>h,AnnotationPrefix:()=>ee,AnnotationType:()=>y,BaseException:()=>M,CMapCompressionType:()=>A,FONT_IDENTITY_MATRIX:()=>a,FeatureTest:()=>G,FontRenderOps:()=>te,FormatError:()=>U,IDENTITY_MATRIX:()=>s,ImageKind:()=>v,InvalidPDFException:()=>L,LINE_FACTOR:()=>l,MAX_IMAGE_SIZE_TO_CACHE:()=>o,MissingPDFException:()=>O,OPS:()=>_,PasswordException:()=>D,PasswordResponses:()=>x,PermissionFlag:()=>m,RenderingIntentFlag:()=>u,TextRenderingMode:()=>g,UnexpectedResponseException:()=>F,UnknownErrorException:()=>j,Util:()=>K,VerbosityLevel:()=>w,assert:()=>P,bytesToString:()=>B,createValidAbsoluteUrl:()=>N,getUuid:()=>$,getVerbosityLevel:()=>C,info:()=>T,isNodeJS:()=>i,normalizeUnicode:()=>Z,objectFromMap:()=>W,setVerbosityLevel:()=>S,shadow:()=>R,string32:()=>z,stringToBytes:()=>H,unreachable:()=>I,warn:()=>k});const i="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),s=[1,0,0,1,0,0],a=[.001,0,0,.001,0,0],o=1e7,l=1.35,u={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},h={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d="pdfjs_internal_editor_",p={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},f={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},g={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},w={ERRORS:0,WARNINGS:1,INFOS:5},A={NONE:0,BINARY:1},_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let E=w.WARNINGS;function S(e){Number.isInteger(e)&&(E=e)}function C(){return E}function T(e){E>=w.INFOS&&console.log("Info: ".concat(e))}function k(e){E>=w.WARNINGS&&console.log("Warning: ".concat(e))}function I(e){throw new Error(e)}function P(e,t){e||I(t)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null}function R(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const M=function(){function e(t,n){this.constructor===e&&I("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class D extends M{constructor(e,t){super(e,"PasswordException"),this.code=t}}class j extends M{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class L extends M{constructor(e){super(e,"InvalidPDFException")}}class O extends M{constructor(e){super(e,"MissingPDFException")}}class F extends M{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class U extends M{constructor(e){super(e,"FormatError")}}class V extends M{constructor(e){super(e,"AbortException")}}function B(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||I("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),a=e.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function H(e){"string"!==typeof e&&I("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function z(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function W(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class G{static get isLittleEndian(){return R(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return R(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var e;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?R(this,"platform",{isMac:navigator.platform.includes("Mac")}):R(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return R(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const q=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class K{static makeHexColor(e,t,n){return"#".concat(q[e]).concat(q[t]).concat(q[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-i*r))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,r,s]}static bezierBoundingBox(e,t,n,r,i,s,a,o,l){return l?(l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,a),Math.min(t,o),Math.max(e,a),Math.max(t,o)],(0,c.A)(K,this,X).call(this,e,n,i,a,t,r,s,o,3*(3*(n-i)-e+a),6*(e-2*n+i),3*(n-e),l),(0,c.A)(K,this,X).call(this,e,n,i,a,t,r,s,o,3*(3*(r-s)-t+o),6*(t-2*r+s),3*(r-t),l),l}}function Y(e,t,n,r,i,s,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,p=u*(u*(u*e+3*l*t)+3*h*n)+d*r,f=u*(u*(u*i+3*l*s)+3*h*a)+d*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function X(e,t,n,i,s,a,o,l,u,h,d,p){if(Math.abs(u)<1e-12)return void(Math.abs(h)>=1e-12&&(0,c.A)(r,this,Y).call(this,e,t,n,i,s,a,o,l,-d/h,p));const f=h**2-4*d*u;if(f<0)return;const m=Math.sqrt(f),g=2*u;(0,c.A)(r,this,Y).call(this,e,t,n,i,s,a,o,l,(-h+m)/g,p),(0,c.A)(r,this,Y).call(this,e,t,n,i,s,a,o,l,(-h-m)/g,p)}r=K;let Q=null,J=null;function Z(e){return Q||(Q=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,J=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Q,((e,t,n)=>t?t.normalize("NFKC"):J.get(n)))}function $(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return B(n)}const ee="pdfjs_internal_id_",te={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8}}},p={};function b(e){var t=p[e];if(void 0!==t)return t.exports;var n=p[e]={exports:{}};return d[e](n,n.exports,b),n.exports}(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};b.a=(i,s,a)=>{var o;a&&((o=[]).d=-1);var l,c,u,h=new Set,d=i.exports,p=new Promise(((e,t)=>{u=t,c=e}));p[t]=d,p[e]=e=>(o&&e(o),h.forEach(e),p.catch((e=>{}))),i.exports=p,s((i=>{var s;l=(i=>i.map((i=>{if(null!==i&&"object"===typeof i){if(i[e])return i;if(i.then){var s=[];s.d=0,i.then((e=>{a[t]=e,r(s)}),(e=>{a[n]=e,r(s)}));var a={};return a[e]=e=>e(s),a}}var o={};return o[e]=e=>{},o[t]=i,o})))(i);var a=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(s=()=>t(a)).r=0;var n=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(s.r++,e.push(s)));l.map((t=>t[e](n)))}));return s.r?c:a()}),(e=>(e?u(p[n]=e):c(d),r(o)))),o&&o.d<0&&(o.d=0)}})(),b.d=(e,t)=>{for(var n in t)b.o(t,n)&&!b.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},b.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var f=b(228),m=((f=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=f)).AbortException,f.AnnotationEditorLayer,f.AnnotationEditorParamsType,f.AnnotationEditorType,f.AnnotationEditorUIManager,f.AnnotationLayer,f.AnnotationMode,f.CMapCompressionType,f.ColorPicker,f.DOMSVGFactory,f.DrawLayer,f.FeatureTest,f.GlobalWorkerOptions),g=(f.ImageKind,f.InvalidPDFException,f.MissingPDFException,f.OPS,f.Outliner,f.PDFDataRangeTransport,f.PDFDateString,f.PDFWorker,f.PasswordResponses,f.PermissionFlag,f.PixelsPerInch,f.RenderingCancelledException,f.UnexpectedResponseException,f.Util,f.VerbosityLevel,f.XfaLayer,f.build,f.createValidAbsoluteUrl,f.fetchData,f.getDocument),v=(f.getFilenameFromUrl,f.getPdfFilenameFromUrl,f.getXfaPageViewport,f.isDataScheme,f.isPdfFile,f.noContextMenu,f.normalizeUnicode,f.renderTextLayer,f.setLayerDimensions,f.shadow,f.updateTextLayer,f.version);r()}catch(y){r(y)}}),1)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,s,a)=>{var o;a&&((o=[]).d=-1);var l,c,u,h=new Set,d=n.exports,p=new Promise(((e,t)=>{u=t,c=e}));p[t]=d,p[e]=e=>(o&&e(o),h.forEach(e),p.catch((e=>{}))),n.exports=p,s((n=>{var s;l=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var s=[];s.d=0,n.then((e=>{a[t]=e,i(s)}),(e=>{a[r]=e,i(s)}));var a={};return a[e]=e=>e(s),a}}var o={};return o[e]=e=>{},o[t]=n,o})))(n);var a=()=>l.map((e=>{if(e[r])throw e[r];return e[t]})),c=new Promise((t=>{(s=()=>t(a)).r=0;var n=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(s.r++,e.push(s)));l.map((t=>t[e](n)))}));return s.r?c:a()}),(e=>(e?u(p[r]=e):c(d),i(o)))),o&&o.d<0&&(o.d=0)}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/";n(2812)})();
//# sourceMappingURL=main.02c79efb.js.map